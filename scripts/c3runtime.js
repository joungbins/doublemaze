// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var wa,Ba=this;
function Da(d){function b(k,n,u){var x=n[0],A=n[1],D=n[2];n=n[3];var F=u[0],G=u[1],I=u[2];u=u[3];k[0]=x*F+D*G;k[1]=A*F+n*G;k[2]=x*I+D*u;k[3]=A*I+n*u;return k}function c(k,n,u){k[0]=n[0]-u[0];k[1]=n[1]-u[1];k[2]=n[2]-u[2];k[3]=n[3]-u[3];return k}function f(k,n,u){var x=n[0],A=n[1],D=n[2],F=n[3],G=n[4];n=n[5];var I=u[0],L=u[1],O=u[2],P=u[3],U=u[4];u=u[5];k[0]=x*I+D*L;k[1]=A*I+F*L;k[2]=x*O+D*P;k[3]=A*O+F*P;k[4]=x*U+D*u+G;k[5]=A*U+F*u+n;return k}function a(k,n,u){k[0]=n[0]-u[0];k[1]=n[1]-u[1];k[2]=n[2]-
u[2];k[3]=n[3]-u[3];k[4]=n[4]-u[4];k[5]=n[5]-u[5];return k}function e(){var k=new na(9);na!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[5]=0,k[6]=0,k[7]=0);k[0]=1;k[4]=1;k[8]=1;return k}function h(k,n,u){var x=n[0],A=n[1],D=n[2],F=n[3],G=n[4],I=n[5],L=n[6],O=n[7];n=n[8];var P=u[0],U=u[1],R=u[2],ca=u[3],ba=u[4],W=u[5],sa=u[6],la=u[7];u=u[8];k[0]=P*x+U*F+R*L;k[1]=P*A+U*G+R*O;k[2]=P*D+U*I+R*n;k[3]=ca*x+ba*F+W*L;k[4]=ca*A+ba*G+W*O;k[5]=ca*D+ba*I+W*n;k[6]=sa*x+la*F+u*L;k[7]=sa*A+la*G+u*O;k[8]=sa*D+la*I+u*n;
return k}function g(k,n,u){k[0]=n[0]-u[0];k[1]=n[1]-u[1];k[2]=n[2]-u[2];k[3]=n[3]-u[3];k[4]=n[4]-u[4];k[5]=n[5]-u[5];k[6]=n[6]-u[6];k[7]=n[7]-u[7];k[8]=n[8]-u[8];return k}function m(k){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=1;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=1;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k}function q(k,n,u){var x=n[0],A=n[1],D=n[2],F=n[3],G=n[4],I=n[5],L=n[6],O=n[7],P=n[8],U=n[9],R=n[10],ca=n[11],ba=n[12],W=n[13],sa=n[14];n=n[15];var la=u[0],qa=u[1],ra=u[2],pa=u[3];k[0]=la*x+
qa*G+ra*P+pa*ba;k[1]=la*A+qa*I+ra*U+pa*W;k[2]=la*D+qa*L+ra*R+pa*sa;k[3]=la*F+qa*O+ra*ca+pa*n;la=u[4];qa=u[5];ra=u[6];pa=u[7];k[4]=la*x+qa*G+ra*P+pa*ba;k[5]=la*A+qa*I+ra*U+pa*W;k[6]=la*D+qa*L+ra*R+pa*sa;k[7]=la*F+qa*O+ra*ca+pa*n;la=u[8];qa=u[9];ra=u[10];pa=u[11];k[8]=la*x+qa*G+ra*P+pa*ba;k[9]=la*A+qa*I+ra*U+pa*W;k[10]=la*D+qa*L+ra*R+pa*sa;k[11]=la*F+qa*O+ra*ca+pa*n;la=u[12];qa=u[13];ra=u[14];pa=u[15];k[12]=la*x+qa*G+ra*P+pa*ba;k[13]=la*A+qa*I+ra*U+pa*W;k[14]=la*D+qa*L+ra*R+pa*sa;k[15]=la*F+qa*O+ra*
ca+pa*n;return k}function l(k,n,u){var x=n[0],A=n[1],D=n[2],F=n[3],G=x+x,I=A+A,L=D+D;n=x*G;var O=x*I;x*=L;var P=A*I;A*=L;D*=L;G*=F;I*=F;F*=L;k[0]=1-(P+D);k[1]=O+F;k[2]=x-I;k[3]=0;k[4]=O-F;k[5]=1-(n+D);k[6]=A+G;k[7]=0;k[8]=x+I;k[9]=A-G;k[10]=1-(n+P);k[11]=0;k[12]=u[0];k[13]=u[1];k[14]=u[2];k[15]=1;return k}function r(k,n){k[0]=n[12];k[1]=n[13];k[2]=n[14];return k}function p(k,n){var u=n[4],x=n[5],A=n[6],D=n[8],F=n[9],G=n[10];k[0]=Math.hypot(n[0],n[1],n[2]);k[1]=Math.hypot(u,x,A);k[2]=Math.hypot(D,
F,G);return k}function t(k,n){var u=new na(3);p(u,n);var x=1/u[0],A=1/u[1],D=1/u[2],F=n[0]*x;u=n[1]*A;var G=n[2]*D,I=n[4]*x,L=n[5]*A,O=n[6]*D;x*=n[8];A*=n[9];n=n[10]*D;D=F+L+n;0<D?(F=2*Math.sqrt(D+1),k[3]=.25*F,k[0]=(O-A)/F,k[1]=(x-G)/F,k[2]=(u-I)/F):F>L&&F>n?(F=2*Math.sqrt(1+F-L-n),k[3]=(O-A)/F,k[0]=.25*F,k[1]=(u+I)/F,k[2]=(x+G)/F):L>n?(F=2*Math.sqrt(1+L-F-n),k[3]=(x-G)/F,k[0]=(u+I)/F,k[1]=.25*F,k[2]=(O+A)/F):(F=2*Math.sqrt(1+n-F-L),k[3]=(u-I)/F,k[0]=(x+G)/F,k[1]=(O+A)/F,k[2]=.25*F);return k}function v(k,
n,u){k[0]=n[0]-u[0];k[1]=n[1]-u[1];k[2]=n[2]-u[2];k[3]=n[3]-u[3];k[4]=n[4]-u[4];k[5]=n[5]-u[5];k[6]=n[6]-u[6];k[7]=n[7]-u[7];k[8]=n[8]-u[8];k[9]=n[9]-u[9];k[10]=n[10]-u[10];k[11]=n[11]-u[11];k[12]=n[12]-u[12];k[13]=n[13]-u[13];k[14]=n[14]-u[14];k[15]=n[15]-u[15];return k}function y(){var k=new na(3);na!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0);return k}function z(k){return Math.hypot(k[0],k[1],k[2])}function C(k,n,u){var x=new na(3);x[0]=k;x[1]=n;x[2]=u;return x}function w(k,n,u){k[0]=n[0]-u[0];k[1]=
n[1]-u[1];k[2]=n[2]-u[2];return k}function E(k,n,u){k[0]=n[0]*u[0];k[1]=n[1]*u[1];k[2]=n[2]*u[2];return k}function H(k,n,u){k[0]=n[0]/u[0];k[1]=n[1]/u[1];k[2]=n[2]/u[2];return k}function M(k,n){return Math.hypot(n[0]-k[0],n[1]-k[1],n[2]-k[2])}function N(k,n){var u=n[0]-k[0],x=n[1]-k[1];k=n[2]-k[2];return u*u+x*x+k*k}function Q(k){var n=k[0],u=k[1];k=k[2];return n*n+u*u+k*k}function T(k,n){var u=n[0],x=n[1],A=n[2];u=u*u+x*x+A*A;0<u&&(u=1/Math.sqrt(u));k[0]=n[0]*u;k[1]=n[1]*u;k[2]=n[2]*u;return k}function Z(k,
n){return k[0]*n[0]+k[1]*n[1]+k[2]*n[2]}function V(k,n,u){var x=n[0],A=n[1];n=n[2];var D=u[0],F=u[1];u=u[2];k[0]=A*u-n*F;k[1]=n*D-x*u;k[2]=x*F-A*D;return k}function aa(){var k=new na(4);na!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0,k[3]=0);return k}function ha(k){var n=new na(4);n[0]=k[0];n[1]=k[1];n[2]=k[2];n[3]=k[3];return n}function oa(k,n,u,x){var A=new na(4);A[0]=k;A[1]=n;A[2]=u;A[3]=x;return A}function Y(k,n){k[0]=n[0];k[1]=n[1];k[2]=n[2];k[3]=n[3];return k}function ma(k,n,u,x,A){k[0]=n;k[1]=u;k[2]=
x;k[3]=A;return k}function da(k,n,u){k[0]=n[0]+u[0];k[1]=n[1]+u[1];k[2]=n[2]+u[2];k[3]=n[3]+u[3];return k}function xa(k,n,u){k[0]=n[0]-u[0];k[1]=n[1]-u[1];k[2]=n[2]-u[2];k[3]=n[3]-u[3];return k}function Ja(k,n,u){k[0]=n[0]*u[0];k[1]=n[1]*u[1];k[2]=n[2]*u[2];k[3]=n[3]*u[3];return k}function Va(k,n,u){k[0]=n[0]/u[0];k[1]=n[1]/u[1];k[2]=n[2]/u[2];k[3]=n[3]/u[3];return k}function Na(k,n,u){k[0]=n[0]*u;k[1]=n[1]*u;k[2]=n[2]*u;k[3]=n[3]*u;return k}function Wa(k,n){return Math.hypot(n[0]-k[0],n[1]-k[1],
n[2]-k[2],n[3]-k[3])}function Oa(k,n){var u=n[0]-k[0],x=n[1]-k[1],A=n[2]-k[2];k=n[3]-k[3];return u*u+x*x+A*A+k*k}function Ca(k){return Math.hypot(k[0],k[1],k[2],k[3])}function Aa(k){var n=k[0],u=k[1],x=k[2];k=k[3];return n*n+u*u+x*x+k*k}function Ka(k,n){var u=n[0],x=n[1],A=n[2];n=n[3];var D=u*u+x*x+A*A+n*n;0<D&&(D=1/Math.sqrt(D));k[0]=u*D;k[1]=x*D;k[2]=A*D;k[3]=n*D;return k}function Ha(k,n){return k[0]*n[0]+k[1]*n[1]+k[2]*n[2]+k[3]*n[3]}function Xa(k,n,u,x){var A=n[0],D=n[1],F=n[2];n=n[3];k[0]=A+
x*(u[0]-A);k[1]=D+x*(u[1]-D);k[2]=F+x*(u[2]-F);k[3]=n+x*(u[3]-n);return k}function Ya(k,n){return k[0]===n[0]&&k[1]===n[1]&&k[2]===n[2]&&k[3]===n[3]}function Za(k,n){var u=k[0],x=k[1],A=k[2];k=k[3];var D=n[0],F=n[1],G=n[2];n=n[3];return Math.abs(u-D)<=1E-6*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(x-F)<=1E-6*Math.max(1,Math.abs(x),Math.abs(F))&&Math.abs(A-G)<=1E-6*Math.max(1,Math.abs(A),Math.abs(G))&&Math.abs(k-n)<=1E-6*Math.max(1,Math.abs(k),Math.abs(n))}function La(){var k=new na(4);na!=Float32Array&&
(k[0]=0,k[1]=0,k[2]=0);k[3]=1;return k}function $a(k,n,u){u*=.5;var x=Math.sin(u);k[0]=x*n[0];k[1]=x*n[1];k[2]=x*n[2];k[3]=Math.cos(u);return k}function ab(k,n,u){var x=n[0],A=n[1],D=n[2];n=n[3];var F=u[0],G=u[1],I=u[2];u=u[3];k[0]=x*u+n*F+A*I-D*G;k[1]=A*u+n*G+D*F-x*I;k[2]=D*u+n*I+x*G-A*F;k[3]=n*u-x*F-A*G-D*I;return k}function bb(k,n,u){u*=.5;var x=n[0],A=n[1],D=n[2];n=n[3];var F=Math.sin(u);u=Math.cos(u);k[0]=x*u+n*F;k[1]=A*u+D*F;k[2]=D*u-A*F;k[3]=n*u-x*F;return k}function cb(k,n,u){u*=.5;var x=
n[0],A=n[1],D=n[2];n=n[3];var F=Math.sin(u);u=Math.cos(u);k[0]=x*u-D*F;k[1]=A*u+n*F;k[2]=D*u+x*F;k[3]=n*u-A*F;return k}function db(k,n,u){u*=.5;var x=n[0],A=n[1],D=n[2];n=n[3];var F=Math.sin(u);u=Math.cos(u);k[0]=x*u+A*F;k[1]=A*u-x*F;k[2]=D*u+n*F;k[3]=n*u-D*F;return k}function eb(k,n){var u=n[0],x=n[1],A=n[2],D=Math.sqrt(u*u+x*x+A*A);n=Math.exp(n[3]);var F=0<D?n*Math.sin(D)/D:0;k[0]=u*F;k[1]=x*F;k[2]=A*F;k[3]=n*Math.cos(D);return k}function fb(k,n){var u=n[0],x=n[1],A=n[2];n=n[3];var D=Math.sqrt(u*
u+x*x+A*A);D=0<D?Math.atan2(D,n)/D:0;k[0]=u*D;k[1]=x*D;k[2]=A*D;k[3]=.5*Math.log(u*u+x*x+A*A+n*n);return k}function Ma(k,n,u,x){var A=n[0],D=n[1],F=n[2];n=n[3];var G=u[0],I=u[1],L=u[2];u=u[3];var O=A*G+D*I+F*L+n*u;0>O&&(O=-O,G=-G,I=-I,L=-L,u=-u);if(1E-6<1-O){var P=Math.acos(O);var U=Math.sin(P);O=Math.sin((1-x)*P)/U;x=Math.sin(x*P)/U}else O=1-x;k[0]=O*A+x*G;k[1]=O*D+x*I;k[2]=O*F+x*L;k[3]=O*n+x*u;return k}function gb(k,n){var u=n[0]+n[4]+n[8];if(0<u)u=Math.sqrt(u+1),k[3]=.5*u,u=.5/u,k[0]=(n[5]-n[7])*
u,k[1]=(n[6]-n[2])*u,k[2]=(n[1]-n[3])*u;else{var x=0;n[4]>n[0]&&(x=1);n[8]>n[3*x+x]&&(x=2);var A=(x+1)%3,D=(x+2)%3;u=Math.sqrt(n[3*x+x]-n[3*A+A]-n[3*D+D]+1);k[x]=.5*u;u=.5/u;k[3]=(n[3*A+D]-n[3*D+A])*u;k[A]=(n[3*A+x]+n[3*x+A])*u;k[D]=(n[3*D+x]+n[3*x+D])*u}return k}function hb(k,n,u){var x=.5*u[0],A=.5*u[1];u=.5*u[2];var D=n[0],F=n[1],G=n[2];n=n[3];k[0]=D;k[1]=F;k[2]=G;k[3]=n;k[4]=x*n+A*G-u*F;k[5]=A*n+u*D-x*G;k[6]=u*n+x*F-A*D;k[7]=-x*D-A*F-u*G;return k}function ib(k,n){k[0]=n[0];k[1]=n[1];k[2]=n[2];
k[3]=n[3];k[4]=n[4];k[5]=n[5];k[6]=n[6];k[7]=n[7];return k}function jb(k,n,u){var x=n[0],A=n[1],D=n[2],F=n[3],G=u[4],I=u[5],L=u[6],O=u[7],P=n[4],U=n[5],R=n[6];n=n[7];var ca=u[0],ba=u[1],W=u[2];u=u[3];k[0]=x*u+F*ca+A*W-D*ba;k[1]=A*u+F*ba+D*ca-x*W;k[2]=D*u+F*W+x*ba-A*ca;k[3]=F*u-x*ca-A*ba-D*W;k[4]=x*O+F*G+A*L-D*I+P*u+n*ca+U*W-R*ba;k[5]=A*O+F*I+D*G-x*L+U*u+n*ba+R*ca-P*W;k[6]=D*O+F*L+x*I-A*G+R*u+n*W+P*ba-U*ca;k[7]=F*O-x*G-A*I-D*L+n*u-P*ca-U*ba-R*W;return k}function kb(){var k=new na(2);na!=Float32Array&&
(k[0]=0,k[1]=0);return k}function lb(k,n,u){k[0]=n[0]-u[0];k[1]=n[1]-u[1];return k}function mb(k,n,u){k[0]=n[0]*u[0];k[1]=n[1]*u[1];return k}function nb(k,n,u){k[0]=n[0]/u[0];k[1]=n[1]/u[1];return k}function ob(k,n){return Math.hypot(n[0]-k[0],n[1]-k[1])}function pb(k,n){var u=n[0]-k[0];k=n[1]-k[1];return u*u+k*k}function qb(k){return Math.hypot(k[0],k[1])}function rb(k){var n=k[0];k=k[1];return n*n+k*k}var na="undefined"!==typeof Float32Array?Float32Array:Array,ya=Math.random,vb=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var k=0,n=arguments.length;n--;)k+=arguments[n]*arguments[n];return Math.sqrt(k)});var wb=Object.freeze({__proto__:null,EPSILON:1E-6,get Vma(){return na},Jua:ya,ZCa:function(k){na=k},iDa:function(k){return k*vb},jd:function(k,n){return Math.abs(k-n)<=1E-6*Math.max(1,Math.abs(k),Math.abs(n))}}),xb=Object.freeze({__proto__:null,create:function(){var k=new na(4);na!=Float32Array&&(k[1]=0,k[2]=0);k[0]=1;k[3]=1;return k},clone:function(k){var n=new na(4);n[0]=k[0];n[1]=k[1];
n[2]=k[2];n[3]=k[3];return n},Ga:function(k,n){k[0]=n[0];k[1]=n[1];k[2]=n[2];k[3]=n[3];return k},cB:function(k){k[0]=1;k[1]=0;k[2]=0;k[3]=1;return k},Se:function(k,n,u,x){var A=new na(4);A[0]=k;A[1]=n;A[2]=u;A[3]=x;return A},set:function(k,n,u,x,A){k[0]=n;k[1]=u;k[2]=x;k[3]=A;return k},u0:function(k,n){if(k===n){var u=n[1];k[1]=n[2];k[2]=u}else k[0]=n[0],k[1]=n[2],k[2]=n[1],k[3]=n[3];return k},fB:function(k,n){var u=n[0],x=n[1],A=n[2];n=n[3];var D=u*n-A*x;if(!D)return null;D=1/D;k[0]=n*D;k[1]=-x*
D;k[2]=-A*D;k[3]=u*D;return k},z_:function(k,n){var u=n[0];k[0]=n[3];k[1]=-n[1];k[2]=-n[2];k[3]=u;return k},vP:function(k){return k[0]*k[3]-k[2]*k[1]},multiply:b,rotate:function(k,n,u){var x=n[0],A=n[1],D=n[2];n=n[3];var F=Math.sin(u);u=Math.cos(u);k[0]=x*u+D*F;k[1]=A*u+n*F;k[2]=x*-F+D*u;k[3]=A*-F+n*u;return k},scale:function(k,n,u){var x=n[1],A=n[2],D=n[3],F=u[0];u=u[1];k[0]=n[0]*F;k[1]=x*F;k[2]=A*u;k[3]=D*u;return k},qH:function(k,n){var u=Math.sin(n);n=Math.cos(n);k[0]=n;k[1]=u;k[2]=-u;k[3]=n;
return k},DP:function(k,n){k[0]=n[0];k[1]=0;k[2]=0;k[3]=n[1];return k},zo:function(k){return"mat2("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"},CP:function(k){return Math.hypot(k[0],k[1],k[2],k[3])},esa:function(k,n,u,x){k[2]=x[2]/x[0];u[0]=x[0];u[1]=x[1];u[3]=x[3]-k[2]*u[1];return[k,n,u]},add:function(k,n,u){k[0]=n[0]+u[0];k[1]=n[1]+u[1];k[2]=n[2]+u[2];k[3]=n[3]+u[3];return k},Bw:c,Bq:function(k,n){return k[0]===n[0]&&k[1]===n[1]&&k[2]===n[2]&&k[3]===n[3]},jd:function(k,n){var u=k[0],x=k[1],A=k[2];k=
k[3];var D=n[0],F=n[1],G=n[2];n=n[3];return Math.abs(u-D)<=1E-6*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(x-F)<=1E-6*Math.max(1,Math.abs(x),Math.abs(F))&&Math.abs(A-G)<=1E-6*Math.max(1,Math.abs(A),Math.abs(G))&&Math.abs(k-n)<=1E-6*Math.max(1,Math.abs(k),Math.abs(n))},QP:function(k,n,u){k[0]=n[0]*u;k[1]=n[1]*u;k[2]=n[2]*u;k[3]=n[3]*u;return k},RP:function(k,n,u,x){k[0]=n[0]+u[0]*x;k[1]=n[1]+u[1]*x;k[2]=n[2]+u[2]*x;k[3]=n[3]+u[3]*x;return k},Dq:b,sub:c}),yb=Object.freeze({__proto__:null,create:function(){var k=
new na(6);na!=Float32Array&&(k[1]=0,k[2]=0,k[4]=0,k[5]=0);k[0]=1;k[3]=1;return k},clone:function(k){var n=new na(6);n[0]=k[0];n[1]=k[1];n[2]=k[2];n[3]=k[3];n[4]=k[4];n[5]=k[5];return n},Ga:function(k,n){k[0]=n[0];k[1]=n[1];k[2]=n[2];k[3]=n[3];k[4]=n[4];k[5]=n[5];return k},cB:function(k){k[0]=1;k[1]=0;k[2]=0;k[3]=1;k[4]=0;k[5]=0;return k},Se:function(k,n,u,x,A,D){var F=new na(6);F[0]=k;F[1]=n;F[2]=u;F[3]=x;F[4]=A;F[5]=D;return F},set:function(k,n,u,x,A,D,F){k[0]=n;k[1]=u;k[2]=x;k[3]=A;k[4]=D;k[5]=
F;return k},fB:function(k,n){var u=n[0],x=n[1],A=n[2],D=n[3],F=n[4];n=n[5];var G=u*D-x*A;if(!G)return null;G=1/G;k[0]=D*G;k[1]=-x*G;k[2]=-A*G;k[3]=u*G;k[4]=(A*n-D*F)*G;k[5]=(x*F-u*n)*G;return k},vP:function(k){return k[0]*k[3]-k[1]*k[2]},multiply:f,rotate:function(k,n,u){var x=n[0],A=n[1],D=n[2],F=n[3],G=n[4];n=n[5];var I=Math.sin(u);u=Math.cos(u);k[0]=x*u+D*I;k[1]=A*u+F*I;k[2]=x*-I+D*u;k[3]=A*-I+F*u;k[4]=G;k[5]=n;return k},scale:function(k,n,u){var x=n[1],A=n[2],D=n[3],F=n[4],G=n[5],I=u[0];u=u[1];
k[0]=n[0]*I;k[1]=x*I;k[2]=A*u;k[3]=D*u;k[4]=F;k[5]=G;return k},translate:function(k,n,u){var x=n[0],A=n[1],D=n[2],F=n[3],G=n[4];n=n[5];var I=u[0];u=u[1];k[0]=x;k[1]=A;k[2]=D;k[3]=F;k[4]=x*I+D*u+G;k[5]=A*I+F*u+n;return k},qH:function(k,n){var u=Math.sin(n);n=Math.cos(n);k[0]=n;k[1]=u;k[2]=-u;k[3]=n;k[4]=0;k[5]=0;return k},DP:function(k,n){k[0]=n[0];k[1]=0;k[2]=0;k[3]=n[1];k[4]=0;k[5]=0;return k},EP:function(k,n){k[0]=1;k[1]=0;k[2]=0;k[3]=1;k[4]=n[0];k[5]=n[1];return k},zo:function(k){return"mat2d("+
k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+")"},CP:function(k){return Math.hypot(k[0],k[1],k[2],k[3],k[4],k[5],1)},add:function(k,n,u){k[0]=n[0]+u[0];k[1]=n[1]+u[1];k[2]=n[2]+u[2];k[3]=n[3]+u[3];k[4]=n[4]+u[4];k[5]=n[5]+u[5];return k},Bw:a,QP:function(k,n,u){k[0]=n[0]*u;k[1]=n[1]*u;k[2]=n[2]*u;k[3]=n[3]*u;k[4]=n[4]*u;k[5]=n[5]*u;return k},RP:function(k,n,u,x){k[0]=n[0]+u[0]*x;k[1]=n[1]+u[1]*x;k[2]=n[2]+u[2]*x;k[3]=n[3]+u[3]*x;k[4]=n[4]+u[4]*x;k[5]=n[5]+u[5]*x;return k},Bq:function(k,n){return k[0]===
n[0]&&k[1]===n[1]&&k[2]===n[2]&&k[3]===n[3]&&k[4]===n[4]&&k[5]===n[5]},jd:function(k,n){var u=k[0],x=k[1],A=k[2],D=k[3],F=k[4];k=k[5];var G=n[0],I=n[1],L=n[2],O=n[3],P=n[4];n=n[5];return Math.abs(u-G)<=1E-6*Math.max(1,Math.abs(u),Math.abs(G))&&Math.abs(x-I)<=1E-6*Math.max(1,Math.abs(x),Math.abs(I))&&Math.abs(A-L)<=1E-6*Math.max(1,Math.abs(A),Math.abs(L))&&Math.abs(D-O)<=1E-6*Math.max(1,Math.abs(D),Math.abs(O))&&Math.abs(F-P)<=1E-6*Math.max(1,Math.abs(F),Math.abs(P))&&Math.abs(k-n)<=1E-6*Math.max(1,
Math.abs(k),Math.abs(n))},Dq:f,sub:a}),zb=Object.freeze({__proto__:null,create:e,yla:function(k,n){k[0]=n[0];k[1]=n[1];k[2]=n[2];k[3]=n[4];k[4]=n[5];k[5]=n[6];k[6]=n[8];k[7]=n[9];k[8]=n[10];return k},clone:function(k){var n=new na(9);n[0]=k[0];n[1]=k[1];n[2]=k[2];n[3]=k[3];n[4]=k[4];n[5]=k[5];n[6]=k[6];n[7]=k[7];n[8]=k[8];return n},Ga:function(k,n){k[0]=n[0];k[1]=n[1];k[2]=n[2];k[3]=n[3];k[4]=n[4];k[5]=n[5];k[6]=n[6];k[7]=n[7];k[8]=n[8];return k},Se:function(k,n,u,x,A,D,F,G,I){var L=new na(9);L[0]=
k;L[1]=n;L[2]=u;L[3]=x;L[4]=A;L[5]=D;L[6]=F;L[7]=G;L[8]=I;return L},set:function(k,n,u,x,A,D,F,G,I,L){k[0]=n;k[1]=u;k[2]=x;k[3]=A;k[4]=D;k[5]=F;k[6]=G;k[7]=I;k[8]=L;return k},cB:function(k){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=1;k[5]=0;k[6]=0;k[7]=0;k[8]=1;return k},u0:function(k,n){if(k===n){var u=n[1],x=n[2],A=n[5];k[1]=n[3];k[2]=n[6];k[3]=u;k[5]=n[7];k[6]=x;k[7]=A}else k[0]=n[0],k[1]=n[3],k[2]=n[6],k[3]=n[1],k[4]=n[4],k[5]=n[7],k[6]=n[2],k[7]=n[5],k[8]=n[8];return k},fB:function(k,n){var u=n[0],x=
n[1],A=n[2],D=n[3],F=n[4],G=n[5],I=n[6],L=n[7];n=n[8];var O=n*F-G*L,P=-n*D+G*I,U=L*D-F*I,R=u*O+x*P+A*U;if(!R)return null;R=1/R;k[0]=O*R;k[1]=(-n*x+A*L)*R;k[2]=(G*x-A*F)*R;k[3]=P*R;k[4]=(n*u-A*I)*R;k[5]=(-G*u+A*D)*R;k[6]=U*R;k[7]=(-L*u+x*I)*R;k[8]=(F*u-x*D)*R;return k},z_:function(k,n){var u=n[0],x=n[1],A=n[2],D=n[3],F=n[4],G=n[5],I=n[6],L=n[7];n=n[8];k[0]=F*n-G*L;k[1]=A*L-x*n;k[2]=x*G-A*F;k[3]=G*I-D*n;k[4]=u*n-A*I;k[5]=A*D-u*G;k[6]=D*L-F*I;k[7]=x*I-u*L;k[8]=u*F-x*D;return k},vP:function(k){var n=
k[3],u=k[4],x=k[5],A=k[6],D=k[7],F=k[8];return k[0]*(F*u-x*D)+k[1]*(-F*n+x*A)+k[2]*(D*n-u*A)},multiply:h,translate:function(k,n,u){var x=n[0],A=n[1],D=n[2],F=n[3],G=n[4],I=n[5],L=n[6],O=n[7];n=n[8];var P=u[0];u=u[1];k[0]=x;k[1]=A;k[2]=D;k[3]=F;k[4]=G;k[5]=I;k[6]=P*x+u*F+L;k[7]=P*A+u*G+O;k[8]=P*D+u*I+n;return k},rotate:function(k,n,u){var x=n[0],A=n[1],D=n[2],F=n[3],G=n[4],I=n[5],L=n[6],O=n[7];n=n[8];var P=Math.sin(u);u=Math.cos(u);k[0]=u*x+P*F;k[1]=u*A+P*G;k[2]=u*D+P*I;k[3]=u*F-P*x;k[4]=u*G-P*A;k[5]=
u*I-P*D;k[6]=L;k[7]=O;k[8]=n;return k},scale:function(k,n,u){var x=u[0];u=u[1];k[0]=x*n[0];k[1]=x*n[1];k[2]=x*n[2];k[3]=u*n[3];k[4]=u*n[4];k[5]=u*n[5];k[6]=n[6];k[7]=n[7];k[8]=n[8];return k},EP:function(k,n){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=1;k[5]=0;k[6]=n[0];k[7]=n[1];k[8]=1;return k},qH:function(k,n){var u=Math.sin(n);n=Math.cos(n);k[0]=n;k[1]=u;k[2]=0;k[3]=-u;k[4]=n;k[5]=0;k[6]=0;k[7]=0;k[8]=1;return k},DP:function(k,n){k[0]=n[0];k[1]=0;k[2]=0;k[3]=0;k[4]=n[1];k[5]=0;k[6]=0;k[7]=0;k[8]=1;return k},
QAa:function(k,n){k[0]=n[0];k[1]=n[1];k[2]=0;k[3]=n[2];k[4]=n[3];k[5]=0;k[6]=n[4];k[7]=n[5];k[8]=1;return k},zla:function(k,n){var u=n[0],x=n[1],A=n[2];n=n[3];var D=u+u,F=x+x,G=A+A;u*=D;var I=x*D;x*=F;var L=A*D,O=A*F;A*=G;D*=n;F*=n;n*=G;k[0]=1-x-A;k[3]=I-n;k[6]=L+F;k[1]=I+n;k[4]=1-u-A;k[7]=O-D;k[2]=L-F;k[5]=O+D;k[8]=1-u-x;return k},dCa:function(k,n){var u=n[0],x=n[1],A=n[2],D=n[3],F=n[4],G=n[5],I=n[6],L=n[7],O=n[8],P=n[9],U=n[10],R=n[11],ca=n[12],ba=n[13],W=n[14];n=n[15];var sa=u*G-x*F,la=u*I-A*F,
qa=u*L-D*F,ra=x*I-A*G,pa=x*L-D*G,J=A*L-D*I,K=O*ba-P*ca,S=O*W-U*ca;O=O*n-R*ca;var X=P*W-U*ba;P=P*n-R*ba;U=U*n-R*W;R=sa*U-la*P+qa*X+ra*O-pa*S+J*K;if(!R)return null;R=1/R;k[0]=(G*U-I*P+L*X)*R;k[1]=(I*O-F*U-L*S)*R;k[2]=(F*P-G*O+L*K)*R;k[3]=(A*P-x*U-D*X)*R;k[4]=(u*U-A*O+D*S)*R;k[5]=(x*O-u*P-D*K)*R;k[6]=(ba*J-W*pa+n*ra)*R;k[7]=(W*qa-ca*J-n*la)*R;k[8]=(ca*pa-ba*qa+n*sa)*R;return k},rCa:function(k,n,u){k[0]=2/n;k[1]=0;k[2]=0;k[3]=0;k[4]=-2/u;k[5]=0;k[6]=-1;k[7]=1;k[8]=1;return k},zo:function(k){return"mat3("+
k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+", "+k[8]+")"},CP:function(k){return Math.hypot(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8])},add:function(k,n,u){k[0]=n[0]+u[0];k[1]=n[1]+u[1];k[2]=n[2]+u[2];k[3]=n[3]+u[3];k[4]=n[4]+u[4];k[5]=n[5]+u[5];k[6]=n[6]+u[6];k[7]=n[7]+u[7];k[8]=n[8]+u[8];return k},Bw:g,QP:function(k,n,u){k[0]=n[0]*u;k[1]=n[1]*u;k[2]=n[2]*u;k[3]=n[3]*u;k[4]=n[4]*u;k[5]=n[5]*u;k[6]=n[6]*u;k[7]=n[7]*u;k[8]=n[8]*u;return k},RP:function(k,n,u,x){k[0]=
n[0]+u[0]*x;k[1]=n[1]+u[1]*x;k[2]=n[2]+u[2]*x;k[3]=n[3]+u[3]*x;k[4]=n[4]+u[4]*x;k[5]=n[5]+u[5]*x;k[6]=n[6]+u[6]*x;k[7]=n[7]+u[7]*x;k[8]=n[8]+u[8]*x;return k},Bq:function(k,n){return k[0]===n[0]&&k[1]===n[1]&&k[2]===n[2]&&k[3]===n[3]&&k[4]===n[4]&&k[5]===n[5]&&k[6]===n[6]&&k[7]===n[7]&&k[8]===n[8]},jd:function(k,n){var u=k[0],x=k[1],A=k[2],D=k[3],F=k[4],G=k[5],I=k[6],L=k[7];k=k[8];var O=n[0],P=n[1],U=n[2],R=n[3],ca=n[4],ba=n[5],W=n[6],sa=n[7];n=n[8];return Math.abs(u-O)<=1E-6*Math.max(1,Math.abs(u),
Math.abs(O))&&Math.abs(x-P)<=1E-6*Math.max(1,Math.abs(x),Math.abs(P))&&Math.abs(A-U)<=1E-6*Math.max(1,Math.abs(A),Math.abs(U))&&Math.abs(D-R)<=1E-6*Math.max(1,Math.abs(D),Math.abs(R))&&Math.abs(F-ca)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ca))&&Math.abs(G-ba)<=1E-6*Math.max(1,Math.abs(G),Math.abs(ba))&&Math.abs(I-W)<=1E-6*Math.max(1,Math.abs(I),Math.abs(W))&&Math.abs(L-sa)<=1E-6*Math.max(1,Math.abs(L),Math.abs(sa))&&Math.abs(k-n)<=1E-6*Math.max(1,Math.abs(k),Math.abs(n))},Dq:h,sub:g}),Ab=Object.freeze({__proto__:null,
create:function(){var k=new na(16);na!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[11]=0,k[12]=0,k[13]=0,k[14]=0);k[0]=1;k[5]=1;k[10]=1;k[15]=1;return k},clone:function(k){var n=new na(16);n[0]=k[0];n[1]=k[1];n[2]=k[2];n[3]=k[3];n[4]=k[4];n[5]=k[5];n[6]=k[6];n[7]=k[7];n[8]=k[8];n[9]=k[9];n[10]=k[10];n[11]=k[11];n[12]=k[12];n[13]=k[13];n[14]=k[14];n[15]=k[15];return n},Ga:function(k,n){k[0]=n[0];k[1]=n[1];k[2]=n[2];k[3]=n[3];k[4]=n[4];k[5]=n[5];k[6]=n[6];k[7]=n[7];k[8]=
n[8];k[9]=n[9];k[10]=n[10];k[11]=n[11];k[12]=n[12];k[13]=n[13];k[14]=n[14];k[15]=n[15];return k},Se:function(k,n,u,x,A,D,F,G,I,L,O,P,U,R,ca,ba){var W=new na(16);W[0]=k;W[1]=n;W[2]=u;W[3]=x;W[4]=A;W[5]=D;W[6]=F;W[7]=G;W[8]=I;W[9]=L;W[10]=O;W[11]=P;W[12]=U;W[13]=R;W[14]=ca;W[15]=ba;return W},set:function(k,n,u,x,A,D,F,G,I,L,O,P,U,R,ca,ba,W){k[0]=n;k[1]=u;k[2]=x;k[3]=A;k[4]=D;k[5]=F;k[6]=G;k[7]=I;k[8]=L;k[9]=O;k[10]=P;k[11]=U;k[12]=R;k[13]=ca;k[14]=ba;k[15]=W;return k},cB:m,u0:function(k,n){if(k===n){var u=
n[1],x=n[2],A=n[3],D=n[6],F=n[7],G=n[11];k[1]=n[4];k[2]=n[8];k[3]=n[12];k[4]=u;k[6]=n[9];k[7]=n[13];k[8]=x;k[9]=D;k[11]=n[14];k[12]=A;k[13]=F;k[14]=G}else k[0]=n[0],k[1]=n[4],k[2]=n[8],k[3]=n[12],k[4]=n[1],k[5]=n[5],k[6]=n[9],k[7]=n[13],k[8]=n[2],k[9]=n[6],k[10]=n[10],k[11]=n[14],k[12]=n[3],k[13]=n[7],k[14]=n[11],k[15]=n[15];return k},fB:function(k,n){var u=n[0],x=n[1],A=n[2],D=n[3],F=n[4],G=n[5],I=n[6],L=n[7],O=n[8],P=n[9],U=n[10],R=n[11],ca=n[12],ba=n[13],W=n[14];n=n[15];var sa=u*G-x*F,la=u*I-A*
F,qa=u*L-D*F,ra=x*I-A*G,pa=x*L-D*G,J=A*L-D*I,K=O*ba-P*ca,S=O*W-U*ca,X=O*n-R*ca,ea=P*W-U*ba,ia=P*n-R*ba,fa=U*n-R*W,ja=sa*fa-la*ia+qa*ea+ra*X-pa*S+J*K;if(!ja)return null;ja=1/ja;k[0]=(G*fa-I*ia+L*ea)*ja;k[1]=(A*ia-x*fa-D*ea)*ja;k[2]=(ba*J-W*pa+n*ra)*ja;k[3]=(U*pa-P*J-R*ra)*ja;k[4]=(I*X-F*fa-L*S)*ja;k[5]=(u*fa-A*X+D*S)*ja;k[6]=(W*qa-ca*J-n*la)*ja;k[7]=(O*J-U*qa+R*la)*ja;k[8]=(F*ia-G*X+L*K)*ja;k[9]=(x*X-u*ia-D*K)*ja;k[10]=(ca*pa-ba*qa+n*sa)*ja;k[11]=(P*qa-O*pa-R*sa)*ja;k[12]=(G*S-F*ea-I*K)*ja;k[13]=(u*
ea-x*S+A*K)*ja;k[14]=(ba*la-ca*ra-W*sa)*ja;k[15]=(O*ra-P*la+U*sa)*ja;return k},z_:function(k,n){var u=n[0],x=n[1],A=n[2],D=n[3],F=n[4],G=n[5],I=n[6],L=n[7],O=n[8],P=n[9],U=n[10],R=n[11],ca=n[12],ba=n[13],W=n[14];n=n[15];k[0]=G*(U*n-R*W)-P*(I*n-L*W)+ba*(I*R-L*U);k[1]=-(x*(U*n-R*W)-P*(A*n-D*W)+ba*(A*R-D*U));k[2]=x*(I*n-L*W)-G*(A*n-D*W)+ba*(A*L-D*I);k[3]=-(x*(I*R-L*U)-G*(A*R-D*U)+P*(A*L-D*I));k[4]=-(F*(U*n-R*W)-O*(I*n-L*W)+ca*(I*R-L*U));k[5]=u*(U*n-R*W)-O*(A*n-D*W)+ca*(A*R-D*U);k[6]=-(u*(I*n-L*W)-F*
(A*n-D*W)+ca*(A*L-D*I));k[7]=u*(I*R-L*U)-F*(A*R-D*U)+O*(A*L-D*I);k[8]=F*(P*n-R*ba)-O*(G*n-L*ba)+ca*(G*R-L*P);k[9]=-(u*(P*n-R*ba)-O*(x*n-D*ba)+ca*(x*R-D*P));k[10]=u*(G*n-L*ba)-F*(x*n-D*ba)+ca*(x*L-D*G);k[11]=-(u*(G*R-L*P)-F*(x*R-D*P)+O*(x*L-D*G));k[12]=-(F*(P*W-U*ba)-O*(G*W-I*ba)+ca*(G*U-I*P));k[13]=u*(P*W-U*ba)-O*(x*W-A*ba)+ca*(x*U-A*P);k[14]=-(u*(G*W-I*ba)-F*(x*W-A*ba)+ca*(x*I-A*G));k[15]=u*(G*U-I*P)-F*(x*U-A*P)+O*(x*I-A*G);return k},vP:function(k){var n=k[0],u=k[1],x=k[2],A=k[3],D=k[4],F=k[5],G=
k[6],I=k[7],L=k[8],O=k[9],P=k[10],U=k[11],R=k[12],ca=k[13],ba=k[14];k=k[15];return(n*F-u*D)*(P*k-U*ba)-(n*G-x*D)*(O*k-U*ca)+(n*I-A*D)*(O*ba-P*ca)+(u*G-x*F)*(L*k-U*R)-(u*I-A*F)*(L*ba-P*R)+(x*I-A*G)*(L*ca-O*R)},multiply:q,translate:function(k,n,u){var x=u[0],A=u[1];u=u[2];if(n===k)k[12]=n[0]*x+n[4]*A+n[8]*u+n[12],k[13]=n[1]*x+n[5]*A+n[9]*u+n[13],k[14]=n[2]*x+n[6]*A+n[10]*u+n[14],k[15]=n[3]*x+n[7]*A+n[11]*u+n[15];else{var D=n[0];var F=n[1];var G=n[2];var I=n[3];var L=n[4];var O=n[5];var P=n[6];var U=
n[7];var R=n[8];var ca=n[9];var ba=n[10];var W=n[11];k[0]=D;k[1]=F;k[2]=G;k[3]=I;k[4]=L;k[5]=O;k[6]=P;k[7]=U;k[8]=R;k[9]=ca;k[10]=ba;k[11]=W;k[12]=D*x+L*A+R*u+n[12];k[13]=F*x+O*A+ca*u+n[13];k[14]=G*x+P*A+ba*u+n[14];k[15]=I*x+U*A+W*u+n[15]}return k},scale:function(k,n,u){var x=u[0],A=u[1];u=u[2];k[0]=n[0]*x;k[1]=n[1]*x;k[2]=n[2]*x;k[3]=n[3]*x;k[4]=n[4]*A;k[5]=n[5]*A;k[6]=n[6]*A;k[7]=n[7]*A;k[8]=n[8]*u;k[9]=n[9]*u;k[10]=n[10]*u;k[11]=n[11]*u;k[12]=n[12];k[13]=n[13];k[14]=n[14];k[15]=n[15];return k},
rotate:function(k,n,u,x){var A=x[0],D=x[1];x=x[2];var F=Math.hypot(A,D,x);if(1E-6>F)return null;F=1/F;A*=F;D*=F;x*=F;var G=Math.sin(u);var I=Math.cos(u);var L=1-I;u=n[0];F=n[1];var O=n[2];var P=n[3];var U=n[4];var R=n[5];var ca=n[6];var ba=n[7];var W=n[8];var sa=n[9];var la=n[10];var qa=n[11];var ra=A*A*L+I;var pa=D*A*L+x*G;var J=x*A*L-D*G;var K=A*D*L-x*G;var S=D*D*L+I;var X=x*D*L+A*G;var ea=A*x*L+D*G;A=D*x*L-A*G;D=x*x*L+I;k[0]=u*ra+U*pa+W*J;k[1]=F*ra+R*pa+sa*J;k[2]=O*ra+ca*pa+la*J;k[3]=P*ra+ba*pa+
qa*J;k[4]=u*K+U*S+W*X;k[5]=F*K+R*S+sa*X;k[6]=O*K+ca*S+la*X;k[7]=P*K+ba*S+qa*X;k[8]=u*ea+U*A+W*D;k[9]=F*ea+R*A+sa*D;k[10]=O*ea+ca*A+la*D;k[11]=P*ea+ba*A+qa*D;n!==k&&(k[12]=n[12],k[13]=n[13],k[14]=n[14],k[15]=n[15]);return k},eQ:function(k,n,u){var x=Math.sin(u);u=Math.cos(u);var A=n[4],D=n[5],F=n[6],G=n[7],I=n[8],L=n[9],O=n[10],P=n[11];n!==k&&(k[0]=n[0],k[1]=n[1],k[2]=n[2],k[3]=n[3],k[12]=n[12],k[13]=n[13],k[14]=n[14],k[15]=n[15]);k[4]=A*u+I*x;k[5]=D*u+L*x;k[6]=F*u+O*x;k[7]=G*u+P*x;k[8]=I*u-A*x;k[9]=
L*u-D*x;k[10]=O*u-F*x;k[11]=P*u-G*x;return k},fQ:function(k,n,u){var x=Math.sin(u);u=Math.cos(u);var A=n[0],D=n[1],F=n[2],G=n[3],I=n[8],L=n[9],O=n[10],P=n[11];n!==k&&(k[4]=n[4],k[5]=n[5],k[6]=n[6],k[7]=n[7],k[12]=n[12],k[13]=n[13],k[14]=n[14],k[15]=n[15]);k[0]=A*u-I*x;k[1]=D*u-L*x;k[2]=F*u-O*x;k[3]=G*u-P*x;k[8]=A*x+I*u;k[9]=D*x+L*u;k[10]=F*x+O*u;k[11]=G*x+P*u;return k},gQ:function(k,n,u){var x=Math.sin(u);u=Math.cos(u);var A=n[0],D=n[1],F=n[2],G=n[3],I=n[4],L=n[5],O=n[6],P=n[7];n!==k&&(k[8]=n[8],
k[9]=n[9],k[10]=n[10],k[11]=n[11],k[12]=n[12],k[13]=n[13],k[14]=n[14],k[15]=n[15]);k[0]=A*u+I*x;k[1]=D*u+L*x;k[2]=F*u+O*x;k[3]=G*u+P*x;k[4]=I*u-A*x;k[5]=L*u-D*x;k[6]=O*u-F*x;k[7]=P*u-G*x;return k},EP:function(k,n){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=1;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=1;k[11]=0;k[12]=n[0];k[13]=n[1];k[14]=n[2];k[15]=1;return k},DP:function(k,n){k[0]=n[0];k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=n[1];k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=n[2];k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},
qH:function(k,n,u){var x=u[0],A=u[1];u=u[2];var D=Math.hypot(x,A,u);if(1E-6>D)return null;D=1/D;x*=D;A*=D;u*=D;D=Math.sin(n);n=Math.cos(n);var F=1-n;k[0]=x*x*F+n;k[1]=A*x*F+u*D;k[2]=u*x*F-A*D;k[3]=0;k[4]=x*A*F-u*D;k[5]=A*A*F+n;k[6]=u*A*F+x*D;k[7]=0;k[8]=x*u*F+A*D;k[9]=A*u*F-x*D;k[10]=u*u*F+n;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},WAa:function(k,n){var u=Math.sin(n);n=Math.cos(n);k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=n;k[6]=u;k[7]=0;k[8]=0;k[9]=-u;k[10]=n;k[11]=0;k[12]=0;k[13]=0;k[14]=
0;k[15]=1;return k},XAa:function(k,n){var u=Math.sin(n);n=Math.cos(n);k[0]=n;k[1]=0;k[2]=-u;k[3]=0;k[4]=0;k[5]=1;k[6]=0;k[7]=0;k[8]=u;k[9]=0;k[10]=n;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},YAa:function(k,n){var u=Math.sin(n);n=Math.cos(n);k[0]=n;k[1]=u;k[2]=0;k[3]=0;k[4]=-u;k[5]=n;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=1;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},Ala:l,SAa:function(k,n){var u=new na(3),x=-n[0],A=-n[1],D=-n[2],F=n[3],G=n[4],I=n[5],L=n[6],O=n[7],P=x*x+A*A+D*D+F*F;0<P?(u[0]=
2*(G*F+O*x+I*D-L*A)/P,u[1]=2*(I*F+O*A+L*x-G*D)/P,u[2]=2*(L*F+O*D+G*A-I*x)/P):(u[0]=2*(G*F+O*x+I*D-L*A),u[1]=2*(I*F+O*A+L*x-G*D),u[2]=2*(L*F+O*D+G*A-I*x));l(k,n,u);return k},Dla:r,qBa:p,pBa:t,TAa:function(k,n,u,x){var A=n[0],D=n[1],F=n[2],G=n[3],I=A+A,L=D+D,O=F+F;n=A*I;var P=A*L;A*=O;var U=D*L;D*=O;F*=O;I*=G;L*=G;G*=O;O=x[0];var R=x[1];x=x[2];k[0]=(1-(U+F))*O;k[1]=(P+G)*O;k[2]=(A-L)*O;k[3]=0;k[4]=(P-G)*R;k[5]=(1-(n+F))*R;k[6]=(D+I)*R;k[7]=0;k[8]=(A+L)*x;k[9]=(D-I)*x;k[10]=(1-(n+U))*x;k[11]=0;k[12]=
u[0];k[13]=u[1];k[14]=u[2];k[15]=1;return k},UAa:function(k,n,u,x,A){var D=n[0],F=n[1],G=n[2],I=n[3],L=D+D,O=F+F,P=G+G;n=D*L;var U=D*O,R=D*P;D=F*O;F*=P;var ca=G*P;G=I*L;O*=I;var ba=I*P,W=x[0],sa=x[1];P=x[2];x=A[0];I=A[1];A=A[2];L=(1-(D+ca))*W;var la=(U+ba)*W;W*=R-O;U=(U-ba)*sa;ca=(1-(n+ca))*sa;sa*=F+G;R=(R+O)*P;F=(F-G)*P;n=(1-(n+D))*P;k[0]=L;k[1]=la;k[2]=W;k[3]=0;k[4]=U;k[5]=ca;k[6]=sa;k[7]=0;k[8]=R;k[9]=F;k[10]=n;k[11]=0;k[12]=u[0]+x-(L*x+U*I+R*A);k[13]=u[1]+I-(la*x+ca*I+F*A);k[14]=u[2]+A-(W*x+sa*
I+n*A);k[15]=1;return k},zla:function(k,n){var u=n[0],x=n[1],A=n[2];n=n[3];var D=u+u,F=x+x,G=A+A;u*=D;var I=x*D;x*=F;var L=A*D,O=A*F;A*=G;D*=n;F*=n;n*=G;k[0]=1-x-A;k[1]=I+n;k[2]=L-F;k[3]=0;k[4]=I-n;k[5]=1-u-A;k[6]=O+D;k[7]=0;k[8]=L+F;k[9]=O-D;k[10]=1-u-x;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},ZAa:function(k,n,u,x,A,D,F){var G=1/(u-n),I=1/(A-x),L=1/(D-F);k[0]=2*D*G;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=2*D*I;k[6]=0;k[7]=0;k[8]=(u+n)*G;k[9]=(A+x)*I;k[10]=(F+D)*L;k[11]=-1;k[12]=0;k[13]=0;k[14]=
F*D*2*L;k[15]=0;return k},perspective:function(k,n,u,x,A){n=1/Math.tan(n/2);k[0]=n/u;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=n;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[11]=-1;k[12]=0;k[13]=0;k[15]=0;null!=A&&Infinity!==A?(u=1/(x-A),k[10]=(A+x)*u,k[14]=2*A*x*u):(k[10]=-1,k[14]=-2*x);return k},mCa:function(k,n,u,x){var A=Math.tan(n.qDa*Math.PI/180),D=Math.tan(n.EAa*Math.PI/180),F=Math.tan(n.OBa*Math.PI/180);n=Math.tan(n.KCa*Math.PI/180);var G=2/(F+n),I=2/(A+D);k[0]=G;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=I;k[6]=0;k[7]=0;
k[8]=-((F-n)*G*.5);k[9]=(A-D)*I*.5;k[10]=x/(u-x);k[11]=-1;k[12]=0;k[13]=0;k[14]=x*u/(u-x);k[15]=0;return k},lCa:function(k,n,u,x,A,D,F){var G=1/(n-u),I=1/(x-A),L=1/(D-F);k[0]=-2*G;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=-2*I;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=2*L;k[11]=0;k[12]=(n+u)*G;k[13]=(A+x)*I;k[14]=(F+D)*L;k[15]=1;return k},KP:function(k,n,u,x){var A=n[0],D=n[1];n=n[2];var F=x[0];var G=x[1];var I=x[2];var L=u[0];x=u[1];var O=u[2];if(1E-6>Math.abs(A-L)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(n-O))return m(k);
u=A-L;x=D-x;L=n-O;var P=1/Math.hypot(u,x,L);u*=P;x*=P;L*=P;O=G*L-I*x;I=I*u-F*L;F=F*x-G*u;(P=Math.hypot(O,I,F))?(P=1/P,O*=P,I*=P,F*=P):F=I=O=0;G=x*F-L*I;var U=L*O-u*F;var R=u*I-x*O;(P=Math.hypot(G,U,R))?(P=1/P,G*=P,U*=P,R*=P):R=U=G=0;k[0]=O;k[1]=G;k[2]=u;k[3]=0;k[4]=I;k[5]=U;k[6]=x;k[7]=0;k[8]=F;k[9]=R;k[10]=L;k[11]=0;k[12]=-(O*A+I*D+F*n);k[13]=-(G*A+U*D+R*n);k[14]=-(u*A+x*D+L*n);k[15]=1;return k},fDa:function(k,n,u,x){var A=n[0],D=n[1];n=n[2];var F=x[0],G=x[1],I=x[2];x=A-u[0];var L=D-u[1];u=n-u[2];
var O=x*x+L*L+u*u;0<O&&(O=1/Math.sqrt(O),x*=O,L*=O,u*=O);var P=G*u-I*L;I=I*x-F*u;F=F*L-G*x;O=P*P+I*I+F*F;0<O&&(O=1/Math.sqrt(O),P*=O,I*=O,F*=O);k[0]=P;k[1]=I;k[2]=F;k[3]=0;k[4]=L*F-u*I;k[5]=u*P-x*F;k[6]=x*I-L*P;k[7]=0;k[8]=x;k[9]=L;k[10]=u;k[11]=0;k[12]=A;k[13]=D;k[14]=n;k[15]=1;return k},zo:function(k){return"mat4("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+", "+k[8]+", "+k[9]+", "+k[10]+", "+k[11]+", "+k[12]+", "+k[13]+", "+k[14]+", "+k[15]+")"},CP:function(k){return Math.hypot(k[0],
k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15])},add:function(k,n,u){k[0]=n[0]+u[0];k[1]=n[1]+u[1];k[2]=n[2]+u[2];k[3]=n[3]+u[3];k[4]=n[4]+u[4];k[5]=n[5]+u[5];k[6]=n[6]+u[6];k[7]=n[7]+u[7];k[8]=n[8]+u[8];k[9]=n[9]+u[9];k[10]=n[10]+u[10];k[11]=n[11]+u[11];k[12]=n[12]+u[12];k[13]=n[13]+u[13];k[14]=n[14]+u[14];k[15]=n[15]+u[15];return k},Bw:v,QP:function(k,n,u){k[0]=n[0]*u;k[1]=n[1]*u;k[2]=n[2]*u;k[3]=n[3]*u;k[4]=n[4]*u;k[5]=n[5]*u;k[6]=n[6]*u;k[7]=n[7]*u;k[8]=n[8]*
u;k[9]=n[9]*u;k[10]=n[10]*u;k[11]=n[11]*u;k[12]=n[12]*u;k[13]=n[13]*u;k[14]=n[14]*u;k[15]=n[15]*u;return k},RP:function(k,n,u,x){k[0]=n[0]+u[0]*x;k[1]=n[1]+u[1]*x;k[2]=n[2]+u[2]*x;k[3]=n[3]+u[3]*x;k[4]=n[4]+u[4]*x;k[5]=n[5]+u[5]*x;k[6]=n[6]+u[6]*x;k[7]=n[7]+u[7]*x;k[8]=n[8]+u[8]*x;k[9]=n[9]+u[9]*x;k[10]=n[10]+u[10]*x;k[11]=n[11]+u[11]*x;k[12]=n[12]+u[12]*x;k[13]=n[13]+u[13]*x;k[14]=n[14]+u[14]*x;k[15]=n[15]+u[15]*x;return k},Bq:function(k,n){return k[0]===n[0]&&k[1]===n[1]&&k[2]===n[2]&&k[3]===n[3]&&
k[4]===n[4]&&k[5]===n[5]&&k[6]===n[6]&&k[7]===n[7]&&k[8]===n[8]&&k[9]===n[9]&&k[10]===n[10]&&k[11]===n[11]&&k[12]===n[12]&&k[13]===n[13]&&k[14]===n[14]&&k[15]===n[15]},jd:function(k,n){var u=k[0],x=k[1],A=k[2],D=k[3],F=k[4],G=k[5],I=k[6],L=k[7],O=k[8],P=k[9],U=k[10],R=k[11],ca=k[12],ba=k[13],W=k[14];k=k[15];var sa=n[0],la=n[1],qa=n[2],ra=n[3],pa=n[4],J=n[5],K=n[6],S=n[7],X=n[8],ea=n[9],ia=n[10],fa=n[11],ja=n[12],ta=n[13],va=n[14];n=n[15];return Math.abs(u-sa)<=1E-6*Math.max(1,Math.abs(u),Math.abs(sa))&&
Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(A-qa)<=1E-6*Math.max(1,Math.abs(A),Math.abs(qa))&&Math.abs(D-ra)<=1E-6*Math.max(1,Math.abs(D),Math.abs(ra))&&Math.abs(F-pa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(pa))&&Math.abs(G-J)<=1E-6*Math.max(1,Math.abs(G),Math.abs(J))&&Math.abs(I-K)<=1E-6*Math.max(1,Math.abs(I),Math.abs(K))&&Math.abs(L-S)<=1E-6*Math.max(1,Math.abs(L),Math.abs(S))&&Math.abs(O-X)<=1E-6*Math.max(1,Math.abs(O),Math.abs(X))&&Math.abs(P-ea)<=1E-6*Math.max(1,Math.abs(P),
Math.abs(ea))&&Math.abs(U-ia)<=1E-6*Math.max(1,Math.abs(U),Math.abs(ia))&&Math.abs(R-fa)<=1E-6*Math.max(1,Math.abs(R),Math.abs(fa))&&Math.abs(ca-ja)<=1E-6*Math.max(1,Math.abs(ca),Math.abs(ja))&&Math.abs(ba-ta)<=1E-6*Math.max(1,Math.abs(ba),Math.abs(ta))&&Math.abs(W-va)<=1E-6*Math.max(1,Math.abs(W),Math.abs(va))&&Math.abs(k-n)<=1E-6*Math.max(1,Math.abs(k),Math.abs(n))},Dq:q,sub:v}),Pa=function(){var k=y();return function(n,u,x,A,D,F){u||(u=3);x||(x=0);for(A=A?Math.min(A*u+x,n.length):n.length;x<A;x+=
u)k[0]=n[x],k[1]=n[x+1],k[2]=n[x+2],D(k,k,F),n[x]=k[0],n[x+1]=k[1],n[x+2]=k[2];return n}}();Pa=Object.freeze({__proto__:null,create:y,clone:function(k){var n=new na(3);n[0]=k[0];n[1]=k[1];n[2]=k[2];return n},length:z,Se:C,Ga:function(k,n){k[0]=n[0];k[1]=n[1];k[2]=n[2];return k},set:function(k,n,u,x){k[0]=n;k[1]=u;k[2]=x;return k},add:function(k,n,u){k[0]=n[0]+u[0];k[1]=n[1]+u[1];k[2]=n[2]+u[2];return k},Bw:w,multiply:E,Sk:H,ceil:function(k,n){k[0]=Math.ceil(n[0]);k[1]=Math.ceil(n[1]);k[2]=Math.ceil(n[2]);
return k},floor:function(k,n){k[0]=Math.floor(n[0]);k[1]=Math.floor(n[1]);k[2]=Math.floor(n[2]);return k},min:function(k,n,u){k[0]=Math.min(n[0],u[0]);k[1]=Math.min(n[1],u[1]);k[2]=Math.min(n[2],u[2]);return k},max:function(k,n,u){k[0]=Math.max(n[0],u[0]);k[1]=Math.max(n[1],u[1]);k[2]=Math.max(n[2],u[2]);return k},round:function(k,n){k[0]=Math.round(n[0]);k[1]=Math.round(n[1]);k[2]=Math.round(n[2]);return k},scale:function(k,n,u){k[0]=n[0]*u;k[1]=n[1]*u;k[2]=n[2]*u;return k},i0:function(k,n,u,x){k[0]=
n[0]+u[0]*x;k[1]=n[1]+u[1]*x;k[2]=n[2]+u[2]*x;return k},$A:M,q0:N,JH:Q,a0:function(k,n){k[0]=-n[0];k[1]=-n[1];k[2]=-n[2];return k},inverse:function(k,n){k[0]=1/n[0];k[1]=1/n[1];k[2]=1/n[2];return k},normalize:T,oH:Z,K_:V,le:function(k,n,u,x){var A=n[0],D=n[1];n=n[2];k[0]=A+x*(u[0]-A);k[1]=D+x*(u[1]-D);k[2]=n+x*(u[2]-n);return k},vBa:function(k,n,u,x,A,D){var F=D*D,G=F*(2*D-3)+1,I=F*(D-2)+D,L=F*(D-1);D=F*(3-2*D);k[0]=n[0]*G+u[0]*I+x[0]*L+A[0]*D;k[1]=n[1]*G+u[1]*I+x[1]*L+A[1]*D;k[2]=n[2]*G+u[2]*I+x[2]*
L+A[2]*D;return k},kAa:function(k,n,u,x,A,D){var F=1-D,G=F*F,I=D*D,L=G*F;G*=3*D;F*=3*I;D*=I;k[0]=n[0]*L+u[0]*G+x[0]*F+A[0]*D;k[1]=n[1]*L+u[1]*G+x[1]*F+A[1]*D;k[2]=n[2]*L+u[2]*G+x[2]*F+A[2]*D;return k},random:function(k,n){n=n||1;var u=2*ya()*Math.PI,x=2*ya()-1,A=Math.sqrt(1-x*x)*n;k[0]=Math.cos(u)*A;k[1]=Math.sin(u)*A;k[2]=x*n;return k},s0:function(k,n,u){var x=n[0],A=n[1];n=n[2];var D=u[3]*x+u[7]*A+u[11]*n+u[15];D=D||1;k[0]=(u[0]*x+u[4]*A+u[8]*n+u[12])/D;k[1]=(u[1]*x+u[5]*A+u[9]*n+u[13])/D;k[2]=
(u[2]*x+u[6]*A+u[10]*n+u[14])/D;return k},Mma:function(k,n,u){var x=n[0],A=n[1];n=n[2];k[0]=x*u[0]+A*u[3]+n*u[6];k[1]=x*u[1]+A*u[4]+n*u[7];k[2]=x*u[2]+A*u[5]+n*u[8];return k},Nma:function(k,n,u){var x=u[0],A=u[1],D=u[2],F=n[0],G=n[1];n=n[2];var I=A*n-D*G,L=D*F-x*n,O=x*G-A*F;u=2*u[3];k[0]=F+I*u+2*(A*O-D*L);k[1]=G+L*u+2*(D*I-x*O);k[2]=n+O*u+2*(x*L-A*I);return k},eQ:function(k,n,u,x){var A=[],D=[];A[0]=n[0]-u[0];A[1]=n[1]-u[1];A[2]=n[2]-u[2];D[0]=A[0];D[1]=A[1]*Math.cos(x)-A[2]*Math.sin(x);D[2]=A[1]*
Math.sin(x)+A[2]*Math.cos(x);k[0]=D[0]+u[0];k[1]=D[1]+u[1];k[2]=D[2]+u[2];return k},fQ:function(k,n,u,x){var A=[],D=[];A[0]=n[0]-u[0];A[1]=n[1]-u[1];A[2]=n[2]-u[2];D[0]=A[2]*Math.sin(x)+A[0]*Math.cos(x);D[1]=A[1];D[2]=A[2]*Math.cos(x)-A[0]*Math.sin(x);k[0]=D[0]+u[0];k[1]=D[1]+u[1];k[2]=D[2]+u[2];return k},gQ:function(k,n,u,x){var A=[],D=[];A[0]=n[0]-u[0];A[1]=n[1]-u[1];A[2]=n[2]-u[2];D[0]=A[0]*Math.cos(x)-A[1]*Math.sin(x);D[1]=A[0]*Math.sin(x)+A[1]*Math.cos(x);D[2]=A[2];k[0]=D[0]+u[0];k[1]=D[1]+u[1];
k[2]=D[2]+u[2];return k},angle:function(k,n){var u=k[0],x=k[1],A=k[2],D=n[0],F=n[1],G=n[2];k=(u=Math.sqrt(u*u+x*x+A*A)*Math.sqrt(D*D+F*F+G*G))&&Z(k,n)/u;return Math.acos(Math.min(Math.max(k,-1),1))},B0:function(k){k[0]=0;k[1]=0;k[2]=0;return k},zo:function(k){return"vec3("+k[0]+", "+k[1]+", "+k[2]+")"},Bq:function(k,n){return k[0]===n[0]&&k[1]===n[1]&&k[2]===n[2]},jd:function(k,n){var u=k[0],x=k[1];k=k[2];var A=n[0],D=n[1];n=n[2];return Math.abs(u-A)<=1E-6*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(x-
D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(k-n)<=1E-6*Math.max(1,Math.abs(k),Math.abs(n))},sub:w,Dq:E,N_:H,M_:M,p0:N,hB:z,IH:Q,forEach:Pa});var Qa=function(){var k=aa();return function(n,u,x,A,D,F){u||(u=4);x||(x=0);for(A=A?Math.min(A*u+x,n.length):n.length;x<A;x+=u)k[0]=n[x],k[1]=n[x+1],k[2]=n[x+2],k[3]=n[x+3],D(k,k,F),n[x]=k[0],n[x+1]=k[1],n[x+2]=k[2],n[x+3]=k[3];return n}}();Qa=Object.freeze({__proto__:null,create:aa,clone:ha,Se:oa,Ga:Y,set:ma,add:da,Bw:xa,multiply:Ja,Sk:Va,ceil:function(k,
n){k[0]=Math.ceil(n[0]);k[1]=Math.ceil(n[1]);k[2]=Math.ceil(n[2]);k[3]=Math.ceil(n[3]);return k},floor:function(k,n){k[0]=Math.floor(n[0]);k[1]=Math.floor(n[1]);k[2]=Math.floor(n[2]);k[3]=Math.floor(n[3]);return k},min:function(k,n,u){k[0]=Math.min(n[0],u[0]);k[1]=Math.min(n[1],u[1]);k[2]=Math.min(n[2],u[2]);k[3]=Math.min(n[3],u[3]);return k},max:function(k,n,u){k[0]=Math.max(n[0],u[0]);k[1]=Math.max(n[1],u[1]);k[2]=Math.max(n[2],u[2]);k[3]=Math.max(n[3],u[3]);return k},round:function(k,n){k[0]=Math.round(n[0]);
k[1]=Math.round(n[1]);k[2]=Math.round(n[2]);k[3]=Math.round(n[3]);return k},scale:Na,i0:function(k,n,u,x){k[0]=n[0]+u[0]*x;k[1]=n[1]+u[1]*x;k[2]=n[2]+u[2]*x;k[3]=n[3]+u[3]*x;return k},$A:Wa,q0:Oa,length:Ca,JH:Aa,a0:function(k,n){k[0]=-n[0];k[1]=-n[1];k[2]=-n[2];k[3]=-n[3];return k},inverse:function(k,n){k[0]=1/n[0];k[1]=1/n[1];k[2]=1/n[2];k[3]=1/n[3];return k},normalize:Ka,oH:Ha,K_:function(k,n,u,x){var A=u[0]*x[1]-u[1]*x[0],D=u[0]*x[2]-u[2]*x[0],F=u[0]*x[3]-u[3]*x[0],G=u[1]*x[2]-u[2]*x[1],I=u[1]*
x[3]-u[3]*x[1];u=u[2]*x[3]-u[3]*x[2];x=n[0];var L=n[1],O=n[2];n=n[3];k[0]=L*u-O*I+n*G;k[1]=-(x*u)+O*F-n*D;k[2]=x*I-L*F+n*A;k[3]=-(x*G)+L*D-O*A;return k},le:Xa,random:function(k,n){n=n||1;do{var u=2*ya()-1;var x=2*ya()-1;var A=u*u+x*x}while(1<=A);do{var D=2*ya()-1;var F=2*ya()-1;var G=D*D+F*F}while(1<=G);A=Math.sqrt((1-A)/G);k[0]=n*u;k[1]=n*x;k[2]=n*D*A;k[3]=n*F*A;return k},s0:function(k,n,u){var x=n[0],A=n[1],D=n[2];n=n[3];k[0]=u[0]*x+u[4]*A+u[8]*D+u[12]*n;k[1]=u[1]*x+u[5]*A+u[9]*D+u[13]*n;k[2]=u[2]*
x+u[6]*A+u[10]*D+u[14]*n;k[3]=u[3]*x+u[7]*A+u[11]*D+u[15]*n;return k},Nma:function(k,n,u){var x=n[0],A=n[1],D=n[2],F=u[0],G=u[1],I=u[2];u=u[3];var L=u*x+G*D-I*A,O=u*A+I*x-F*D,P=u*D+F*A-G*x;x=-F*x-G*A-I*D;k[0]=L*u+x*-F+O*-I-P*-G;k[1]=O*u+x*-G+P*-F-L*-I;k[2]=P*u+x*-I+L*-G-O*-F;k[3]=n[3];return k},B0:function(k){k[0]=0;k[1]=0;k[2]=0;k[3]=0;return k},zo:function(k){return"vec4("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"},Bq:Ya,jd:Za,sub:xa,Dq:Ja,N_:Va,M_:Wa,p0:Oa,hB:Ca,IH:Aa,forEach:Qa});var Ra=function(){var k=
y(),n=C(1,0,0),u=C(0,1,0);return function(x,A,D){var F=Z(A,D);if(-.999999>F)return V(k,n,A),1E-6>z(k)&&V(k,u,A),T(k,k),$a(x,k,Math.PI),x;if(.999999<F)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;V(k,A,D);x[0]=k[0];x[1]=k[1];x[2]=k[2];x[3]=1+F;return Ka(x,x)}}(),Sa=function(){var k=La(),n=La();return function(u,x,A,D,F,G){Ma(k,x,F,G);Ma(n,A,D,G);Ma(u,k,n,2*G*(1-G));return u}}(),Ia=function(){var k=e();return function(n,u,x,A){k[0]=x[0];k[3]=x[1];k[6]=x[2];k[1]=A[0];k[4]=A[1];k[7]=A[2];k[2]=-u[0];k[5]=-u[1];
k[8]=-u[2];return Ka(n,gb(n,k))}}();Ra=Object.freeze({__proto__:null,create:La,cB:function(k){k[0]=0;k[1]=0;k[2]=0;k[3]=1;return k},XCa:$a,mBa:function(k,n){var u=2*Math.acos(n[3]),x=Math.sin(u/2);1E-6<x?(k[0]=n[0]/x,k[1]=n[1]/x,k[2]=n[2]/x):(k[0]=1,k[1]=0,k[2]=0);return u},kBa:function(k,n){k=Ha(k,n);return Math.acos(2*k*k-1)},multiply:ab,eQ:bb,fQ:cb,gQ:db,lAa:function(k,n){var u=n[0],x=n[1];n=n[2];k[0]=u;k[1]=x;k[2]=n;k[3]=Math.sqrt(Math.abs(1-u*u-x*x-n*n));return k},exp:eb,fma:fb,pow:function(k,
n,u){fb(k,n);Na(k,k,u);eb(k,k);return k},bDa:Ma,random:function(k){var n=ya(),u=ya(),x=ya(),A=Math.sqrt(1-n);n=Math.sqrt(n);k[0]=A*Math.sin(2*Math.PI*u);k[1]=A*Math.cos(2*Math.PI*u);k[2]=n*Math.sin(2*Math.PI*x);k[3]=n*Math.cos(2*Math.PI*x);return k},fB:function(k,n){var u=n[0],x=n[1],A=n[2];n=n[3];var D=u*u+x*x+A*A+n*n;D=D?1/D:0;k[0]=-u*D;k[1]=-x*D;k[2]=-A*D;k[3]=n*D;return k},ila:function(k,n){k[0]=-n[0];k[1]=-n[1];k[2]=-n[2];k[3]=n[3];return k},RAa:gb,PAa:function(k,n,u,x){var A=.5*Math.PI/180;
n*=A;u*=A;x*=A;A=Math.sin(n);n=Math.cos(n);var D=Math.sin(u);u=Math.cos(u);var F=Math.sin(x);x=Math.cos(x);k[0]=A*u*x-n*D*F;k[1]=n*D*x+A*u*F;k[2]=n*u*F-A*D*x;k[3]=n*u*x+A*D*F;return k},zo:function(k){return"quat("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"},clone:ha,Se:oa,Ga:Y,set:ma,add:da,Dq:ab,scale:Na,oH:Ha,le:Xa,length:Ca,hB:Ca,JH:Aa,IH:Aa,normalize:Ka,Bq:Ya,jd:Za,OCa:Ra,cDa:Sa,WCa:Ia});Sa=Object.freeze({__proto__:null,create:function(){var k=new na(8);na!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0,k[4]=
0,k[5]=0,k[6]=0,k[7]=0);k[3]=1;return k},clone:function(k){var n=new na(8);n[0]=k[0];n[1]=k[1];n[2]=k[2];n[3]=k[3];n[4]=k[4];n[5]=k[5];n[6]=k[6];n[7]=k[7];return n},Se:function(k,n,u,x,A,D,F,G){var I=new na(8);I[0]=k;I[1]=n;I[2]=u;I[3]=x;I[4]=A;I[5]=D;I[6]=F;I[7]=G;return I},VAa:function(k,n,u,x,A,D,F){var G=new na(8);G[0]=k;G[1]=n;G[2]=u;G[3]=x;A*=.5;D*=.5;F*=.5;G[4]=A*x+D*u-F*n;G[5]=D*x+F*k-A*u;G[6]=F*x+A*n-D*k;G[7]=-A*k-D*n-F*u;return G},Ala:hb,EP:function(k,n){k[0]=0;k[1]=0;k[2]=0;k[3]=1;k[4]=
.5*n[0];k[5]=.5*n[1];k[6]=.5*n[2];k[7]=0;return k},qH:function(k,n){k[0]=n[0];k[1]=n[1];k[2]=n[2];k[3]=n[3];k[4]=0;k[5]=0;k[6]=0;k[7]=0;return k},yla:function(k,n){var u=La();t(u,n);var x=new na(3);r(x,n);hb(k,u,x);return k},Ga:ib,cB:function(k){k[0]=0;k[1]=0;k[2]=0;k[3]=1;k[4]=0;k[5]=0;k[6]=0;k[7]=0;return k},set:function(k,n,u,x,A,D,F,G,I){k[0]=n;k[1]=u;k[2]=x;k[3]=A;k[4]=D;k[5]=F;k[6]=G;k[7]=I;return k},oBa:Y,nBa:function(k,n){k[0]=n[4];k[1]=n[5];k[2]=n[6];k[3]=n[7];return k},$Ca:Y,YCa:function(k,
n){k[4]=n[0];k[5]=n[1];k[6]=n[2];k[7]=n[3];return k},Dla:function(k,n){var u=n[4],x=n[5],A=n[6],D=n[7],F=-n[0],G=-n[1],I=-n[2];n=n[3];k[0]=2*(u*n+D*F+x*I-A*G);k[1]=2*(x*n+D*G+A*F-u*I);k[2]=2*(A*n+D*I+u*G-x*F);return k},translate:function(k,n,u){var x=n[0],A=n[1],D=n[2],F=n[3],G=.5*u[0],I=.5*u[1];u=.5*u[2];var L=n[4],O=n[5],P=n[6];n=n[7];k[0]=x;k[1]=A;k[2]=D;k[3]=F;k[4]=F*G+A*u-D*I+L;k[5]=F*I+D*G-x*u+O;k[6]=F*u+x*I-A*G+P;k[7]=-x*G-A*I-D*u+n;return k},eQ:function(k,n,u){var x=-n[0],A=-n[1],D=-n[2],
F=n[3],G=n[4],I=n[5],L=n[6],O=n[7],P=G*F+O*x+I*D-L*A,U=I*F+O*A+L*x-G*D,R=L*F+O*D+G*A-I*x;G=O*F-G*x-I*A-L*D;bb(k,n,u);x=k[0];A=k[1];D=k[2];F=k[3];k[4]=P*F+G*x+U*D-R*A;k[5]=U*F+G*A+R*x-P*D;k[6]=R*F+G*D+P*A-U*x;k[7]=G*F-P*x-U*A-R*D;return k},fQ:function(k,n,u){var x=-n[0],A=-n[1],D=-n[2],F=n[3],G=n[4],I=n[5],L=n[6],O=n[7],P=G*F+O*x+I*D-L*A,U=I*F+O*A+L*x-G*D,R=L*F+O*D+G*A-I*x;G=O*F-G*x-I*A-L*D;cb(k,n,u);x=k[0];A=k[1];D=k[2];F=k[3];k[4]=P*F+G*x+U*D-R*A;k[5]=U*F+G*A+R*x-P*D;k[6]=R*F+G*D+P*A-U*x;k[7]=G*
F-P*x-U*A-R*D;return k},gQ:function(k,n,u){var x=-n[0],A=-n[1],D=-n[2],F=n[3],G=n[4],I=n[5],L=n[6],O=n[7],P=G*F+O*x+I*D-L*A,U=I*F+O*A+L*x-G*D,R=L*F+O*D+G*A-I*x;G=O*F-G*x-I*A-L*D;db(k,n,u);x=k[0];A=k[1];D=k[2];F=k[3];k[4]=P*F+G*x+U*D-R*A;k[5]=U*F+G*A+R*x-P*D;k[6]=R*F+G*D+P*A-U*x;k[7]=G*F-P*x-U*A-R*D;return k},MCa:function(k,n,u){var x=u[0],A=u[1],D=u[2];u=u[3];var F=n[0],G=n[1],I=n[2],L=n[3];k[0]=F*u+L*x+G*D-I*A;k[1]=G*u+L*A+I*x-F*D;k[2]=I*u+L*D+F*A-G*x;k[3]=L*u-F*x-G*A-I*D;F=n[4];G=n[5];I=n[6];L=
n[7];k[4]=F*u+L*x+G*D-I*A;k[5]=G*u+L*A+I*x-F*D;k[6]=I*u+L*D+F*A-G*x;k[7]=L*u-F*x-G*A-I*D;return k},NCa:function(k,n,u){var x=n[0],A=n[1],D=n[2];n=n[3];var F=u[0],G=u[1],I=u[2],L=u[3];k[0]=x*L+n*F+A*I-D*G;k[1]=A*L+n*G+D*F-x*I;k[2]=D*L+n*I+x*G-A*F;k[3]=n*L-x*F-A*G-D*I;F=u[4];G=u[5];I=u[6];L=u[7];k[4]=x*L+n*F+A*I-D*G;k[5]=A*L+n*G+D*F-x*I;k[6]=D*L+n*I+x*G-A*F;k[7]=n*L-x*F-A*G-D*I;return k},LCa:function(k,n,u,x){if(1E-6>Math.abs(x))return ib(k,n);var A=Math.hypot(u[0],u[1],u[2]);x*=.5;var D=Math.sin(x),
F=D*u[0]/A,G=D*u[1]/A;u=D*u[2]/A;x=Math.cos(x);A=n[0];D=n[1];var I=n[2],L=n[3];k[0]=A*x+L*F+D*u-I*G;k[1]=D*x+L*G+I*F-A*u;k[2]=I*x+L*u+A*G-D*F;k[3]=L*x-A*F-D*G-I*u;A=n[4];D=n[5];I=n[6];n=n[7];k[4]=A*x+n*F+D*u-I*G;k[5]=D*x+n*G+I*F-A*u;k[6]=I*x+n*u+A*G-D*F;k[7]=n*x-A*F-D*G-I*u;return k},add:function(k,n,u){k[0]=n[0]+u[0];k[1]=n[1]+u[1];k[2]=n[2]+u[2];k[3]=n[3]+u[3];k[4]=n[4]+u[4];k[5]=n[5]+u[5];k[6]=n[6]+u[6];k[7]=n[7]+u[7];return k},multiply:jb,Dq:jb,scale:function(k,n,u){k[0]=n[0]*u;k[1]=n[1]*u;k[2]=
n[2]*u;k[3]=n[3]*u;k[4]=n[4]*u;k[5]=n[5]*u;k[6]=n[6]*u;k[7]=n[7]*u;return k},oH:Ha,le:function(k,n,u,x){var A=1-x;0>Ha(n,u)&&(x=-x);k[0]=n[0]*A+u[0]*x;k[1]=n[1]*A+u[1]*x;k[2]=n[2]*A+u[2]*x;k[3]=n[3]*A+u[3]*x;k[4]=n[4]*A+u[4]*x;k[5]=n[5]*A+u[5]*x;k[6]=n[6]*A+u[6]*x;k[7]=n[7]*A+u[7]*x;return k},fB:function(k,n){var u=Aa(n);k[0]=-n[0]/u;k[1]=-n[1]/u;k[2]=-n[2]/u;k[3]=n[3]/u;k[4]=-n[4]/u;k[5]=-n[5]/u;k[6]=-n[6]/u;k[7]=n[7]/u;return k},ila:function(k,n){k[0]=-n[0];k[1]=-n[1];k[2]=-n[2];k[3]=n[3];k[4]=
-n[4];k[5]=-n[5];k[6]=-n[6];k[7]=n[7];return k},length:Ca,hB:Ca,JH:Aa,IH:Aa,normalize:function(k,n){var u=Aa(n);if(0<u){u=Math.sqrt(u);var x=n[0]/u,A=n[1]/u,D=n[2]/u,F=n[3]/u,G=n[4],I=n[5],L=n[6];n=n[7];var O=x*G+A*I+D*L+F*n;k[0]=x;k[1]=A;k[2]=D;k[3]=F;k[4]=(G-x*O)/u;k[5]=(I-A*O)/u;k[6]=(L-D*O)/u;k[7]=(n-F*O)/u}return k},zo:function(k){return"quat2("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+")"},Bq:function(k,n){return k[0]===n[0]&&k[1]===n[1]&&k[2]===n[2]&&k[3]===
n[3]&&k[4]===n[4]&&k[5]===n[5]&&k[6]===n[6]&&k[7]===n[7]},jd:function(k,n){var u=k[0],x=k[1],A=k[2],D=k[3],F=k[4],G=k[5],I=k[6];k=k[7];var L=n[0],O=n[1],P=n[2],U=n[3],R=n[4],ca=n[5],ba=n[6];n=n[7];return Math.abs(u-L)<=1E-6*Math.max(1,Math.abs(u),Math.abs(L))&&Math.abs(x-O)<=1E-6*Math.max(1,Math.abs(x),Math.abs(O))&&Math.abs(A-P)<=1E-6*Math.max(1,Math.abs(A),Math.abs(P))&&Math.abs(D-U)<=1E-6*Math.max(1,Math.abs(D),Math.abs(U))&&Math.abs(F-R)<=1E-6*Math.max(1,Math.abs(F),Math.abs(R))&&Math.abs(G-ca)<=
1E-6*Math.max(1,Math.abs(G),Math.abs(ca))&&Math.abs(I-ba)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ba))&&Math.abs(k-n)<=1E-6*Math.max(1,Math.abs(k),Math.abs(n))}});Ia=function(){var k=kb();return function(n,u,x,A,D,F){u||(u=2);x||(x=0);for(A=A?Math.min(A*u+x,n.length):n.length;x<A;x+=u)k[0]=n[x],k[1]=n[x+1],D(k,k,F),n[x]=k[0],n[x+1]=k[1];return n}}();Ia=Object.freeze({__proto__:null,create:kb,clone:function(k){var n=new na(2);n[0]=k[0];n[1]=k[1];return n},Se:function(k,n){var u=new na(2);u[0]=k;u[1]=
n;return u},Ga:function(k,n){k[0]=n[0];k[1]=n[1];return k},set:function(k,n,u){k[0]=n;k[1]=u;return k},add:function(k,n,u){k[0]=n[0]+u[0];k[1]=n[1]+u[1];return k},Bw:lb,multiply:mb,Sk:nb,ceil:function(k,n){k[0]=Math.ceil(n[0]);k[1]=Math.ceil(n[1]);return k},floor:function(k,n){k[0]=Math.floor(n[0]);k[1]=Math.floor(n[1]);return k},min:function(k,n,u){k[0]=Math.min(n[0],u[0]);k[1]=Math.min(n[1],u[1]);return k},max:function(k,n,u){k[0]=Math.max(n[0],u[0]);k[1]=Math.max(n[1],u[1]);return k},round:function(k,
n){k[0]=Math.round(n[0]);k[1]=Math.round(n[1]);return k},scale:function(k,n,u){k[0]=n[0]*u;k[1]=n[1]*u;return k},i0:function(k,n,u,x){k[0]=n[0]+u[0]*x;k[1]=n[1]+u[1]*x;return k},$A:ob,q0:pb,length:qb,JH:rb,a0:function(k,n){k[0]=-n[0];k[1]=-n[1];return k},inverse:function(k,n){k[0]=1/n[0];k[1]=1/n[1];return k},normalize:function(k,n){var u=n[0],x=n[1];u=u*u+x*x;0<u&&(u=1/Math.sqrt(u));k[0]=n[0]*u;k[1]=n[1]*u;return k},oH:function(k,n){return k[0]*n[0]+k[1]*n[1]},K_:function(k,n,u){n=n[0]*u[1]-n[1]*
u[0];k[0]=k[1]=0;k[2]=n;return k},le:function(k,n,u,x){var A=n[0];n=n[1];k[0]=A+x*(u[0]-A);k[1]=n+x*(u[1]-n);return k},random:function(k,n){n=n||1;var u=2*ya()*Math.PI;k[0]=Math.cos(u)*n;k[1]=Math.sin(u)*n;return k},mDa:function(k,n,u){var x=n[0];n=n[1];k[0]=u[0]*x+u[2]*n;k[1]=u[1]*x+u[3]*n;return k},nDa:function(k,n,u){var x=n[0];n=n[1];k[0]=u[0]*x+u[2]*n+u[4];k[1]=u[1]*x+u[3]*n+u[5];return k},Mma:function(k,n,u){var x=n[0];n=n[1];k[0]=u[0]*x+u[3]*n+u[6];k[1]=u[1]*x+u[4]*n+u[7];return k},s0:function(k,
n,u){var x=n[0];n=n[1];k[0]=u[0]*x+u[4]*n+u[12];k[1]=u[1]*x+u[5]*n+u[13];return k},rotate:function(k,n,u,x){var A=n[0]-u[0];n=n[1]-u[1];var D=Math.sin(x);x=Math.cos(x);k[0]=A*x-n*D+u[0];k[1]=A*D+n*x+u[1];return k},angle:function(k,n){var u=k[0];k=k[1];var x=n[0];n=n[1];var A=Math.sqrt(u*u+k*k)*Math.sqrt(x*x+n*n);return Math.acos(Math.min(Math.max(A&&(u*x+k*n)/A,-1),1))},B0:function(k){k[0]=0;k[1]=0;return k},zo:function(k){return"vec2("+k[0]+", "+k[1]+")"},Bq:function(k,n){return k[0]===n[0]&&k[1]===
n[1]},jd:function(k,n){var u=k[0];k=k[1];var x=n[0];n=n[1];return Math.abs(u-x)<=1E-6*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(k-n)<=1E-6*Math.max(1,Math.abs(k),Math.abs(n))},hB:qb,sub:lb,Dq:mb,N_:nb,M_:ob,p0:pb,IH:rb,forEach:Ia});d.pw=wb;d.WBa=xb;d.XBa=yb;d.YBa=zb;d.uH=Ab;d.vCa=Ra;d.wCa=Sa;d.vDa=Ia;d.MH=Pa;d.z0=Qa;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Da(exports):"function"===typeof define&&define.dAa?define(["exports"],Da):(Ba=Ba||self,Da(Ba.pw={}));"use strict";
{function d(v,y,z,C){var w=y[0]-v[0];y=y[1]-v[1];var E=C[0]-z[0],H=C[1]-z[1];if(0===E*y-H*w)return!1;C=(w*(z[1]-v[1])+y*(v[0]-z[0]))/(E*y-H*w);v=(E*(v[1]-z[1])+H*(z[0]-v[0]))/(H*w-E*y);return 0<=C&&1>=C&&0<=v&&1>=v}function b(v,y,z){return(y[0]-v[0])*(z[1]-v[1])-(z[0]-v[0])*(y[1]-v[1])}function c(v,y,z){return 0<b(v,y,z)}function f(v,y,z){return 0<=b(v,y,z)}function a(v,y,z){return 0>=b(v,y,z)}var Ea=[],Fa=[];function e(v,y){var z=y[0]-v[0];v=y[1]-v[1];return z*z+v*v}function h(v,y){var z=v.length;
return v[0>y?y%z+z:y%z]}function g(v,y,z,C){for(;z<C;z++)v.push(y[z])}function m(v,y){var z=h(v,y-1),C=h(v,y);v=h(v,y+1);return 0>b(z,C,v)}var Ga=[],Ta=[];function q(v,y,z,C){C=C||[];C.length=0;if(y<z)for(var w=y;w<=z;w++)C.push(v[w]);else{for(w=0;w<=z;w++)C.push(v[w]);for(w=y;w<v.length;w++)C.push(v[w])}return C}function l(v){for(var y=[],z,C,w=[],E=Number.MAX_VALUE,H=0;H<v.length;++H)if(m(v,H))for(var M=0;M<v.length;++M){a:{C=v;var N=H,Q=M;if(f(h(C,N+1),h(C,N),h(C,Q))&&a(h(C,N-1),h(C,N),h(C,Q)))z=
!1;else{z=e(h(C,N),h(C,Q));for(var T=0;T!==C.length;++T)if((T+1)%C.length!==N&&T!==N&&f(h(C,N),h(C,Q),h(C,T+1))&&a(h(C,N),h(C,Q),h(C,T))){Ga[0]=h(C,N);Ga[1]=h(C,Q);Ta[0]=h(C,T);Ta[1]=h(C,T+1);var Z=[0,0];var V=Ga[1][1]-Ga[0][1];var aa=Ga[0][0]-Ga[1][0];var ha=V*Ga[0][0]+aa*Ga[0][1];var oa=Ta[1][1]-Ta[0][1];var Y=Ta[0][0]-Ta[1][0];var ma=oa*Ta[0][0]+Y*Ta[0][1];var da=V*Y-oa*aa;0>=Math.abs(da-0)||(Z[0]=(Y*ha-aa*ma)/da,Z[1]=(V*ma-oa*ha)/da);da=Z;if(e(h(C,N),da)<z){z=!1;break a}}z=!0}}if(z){z=l(q(v,H,
M,w));C=l(q(v,M,H,w));for(N=0;N<C.length;N++)z.push(C[N]);z.length<E&&(y=z,E=z.length,y.push([h(v,H),h(v,M)]))}}return y}function r(v,y){if(0===y.length)return[v];if(y instanceof Array&&y.length&&y[0]instanceof Array&&2===y[0].length&&y[0][0]instanceof Array){v=[v];for(var z=0;z<y.length;z++)for(var C=y[z],w=0;w<v.length;w++){var E=r(v[w],C);if(E){v.splice(w,1);v.push(E[0],E[1]);break}}return v}C=y;z=v.indexOf(C[0]);w=v.indexOf(C[1]);return-1!==z&&-1!==w?[q(v,z,w),q(v,w,z)]:!1}function p(v,y,z,C,
w){var E=y[1]-v[1];y=v[0]-y[0];v=E*v[0]+y*v[1];var H=C[1]-z[1];C=z[0]-C[0];z=H*z[0]+C*z[1];var M=E*C-H*y;return Math.abs(M-0)<=(w||0)?[0,0]:[(C*v-y*z)/M,(E*z-H*v)/M]}function t(v,y,z,C,w,E,H){E=E||100;H=H||0;w=w||25;y="undefined"!==typeof y?y:[];z=z||[];C=C||[];var M=[0,0],N=[0,0],Q=[0,0],T,Z=0,V=0,aa=0,ha=[],oa=[];if(3>v.length)return y;H++;if(H>E)return console.warn("quickDecomp: max level ("+E+") reached."),y;for(var Y=0;Y<v.length;++Y)if(m(v,Y)){z.push(v[Y]);var ma=T=Number.MAX_VALUE;for(var da=
0;da<v.length;++da){if(c(h(v,Y-1),h(v,Y),h(v,da))&&a(h(v,Y-1),h(v,Y),h(v,da-1))){Q=p(h(v,Y-1),h(v,Y),h(v,da),h(v,da-1));var xa=h(v,Y+1);var Ja=h(v,Y);0>b(xa,Ja,Q)&&(xa=e(v[Y],Q),xa<T&&(T=xa,N=Q,V=da))}c(h(v,Y+1),h(v,Y),h(v,da+1))&&a(h(v,Y+1),h(v,Y),h(v,da))&&(Q=p(h(v,Y+1),h(v,Y),h(v,da),h(v,da+1)),c(h(v,Y-1),h(v,Y),Q)&&(xa=e(v[Y],Q),xa<ma&&(ma=xa,M=Q,Z=da)))}if(V===(Z+1)%v.length)Q[0]=(N[0]+M[0])/2,Q[1]=(N[1]+M[1])/2,C.push(Q),Y<Z?(g(ha,v,Y,Z+1),ha.push(Q),oa.push(Q),0!==V&&g(oa,v,V,v.length),g(oa,
v,0,Y+1)):(0!==Y&&g(ha,v,Y,v.length),g(ha,v,0,Z+1),ha.push(Q),oa.push(Q),g(oa,v,V,Y+1));else{V>Z&&(Z+=v.length);M=Number.MAX_VALUE;if(Z<V)return y;for(da=V;da<=Z;++da)if(f(h(v,Y-1),h(v,Y),h(v,da))&&a(h(v,Y+1),h(v,Y),h(v,da))){xa=e(h(v,Y),h(v,da));if(V=xa<M)a:{V=v;N=Y;Q=da;for(ma=0;ma!==V.length;++ma)if(ma!==N&&ma!==Q&&(ma+1)%V.length!==N&&(ma+1)%V.length!==Q&&d(h(V,N),h(V,Q),h(V,ma),h(V,ma+1))){V=!1;break a}V=!0}V&&(M=xa,aa=da%v.length)}Y<aa?(g(ha,v,Y,aa+1),0!==aa&&g(oa,v,aa,v.length),g(oa,v,0,Y+
1)):(0!==Y&&g(ha,v,Y,v.length),g(ha,v,0,aa+1),g(oa,v,aa,Y+1))}ha.length<oa.length?(t(ha,y,z,C,w,E,H),t(oa,y,z,C,w,E,H)):(t(oa,y,z,C,w,E,H),t(ha,y,z,C,w,E,H));return y}y.push(v);return y}self.pCa={AAa:function(v){var y=l(v);return 0<y.length?r(v,y):[v]},xCa:t,BBa:function(v){var y;for(y=0;y<v.length-1;y++)for(var z=0;z<y-1;z++)if(d(v[y],v[y+1],v[z],v[z+1]))return!1;for(y=1;y<v.length-2;y++)if(d(v[0],v[v.length-1],v[y],v[y+1]))return!1;return!0},CCa:function(v,y){for(var z=0,C=v.length-1;3<v.length&&
0<=C;--C){var w=h(v,C-1);var E=h(v,C),H=h(v,C+1),M=y;M?(Ea[0]=E[0]-w[0],Ea[1]=E[1]-w[1],Fa[0]=H[0]-E[0],Fa[1]=H[1]-E[1],w=Math.acos((Ea[0]*Fa[0]+Ea[1]*Fa[1])/(Math.sqrt(Ea[0]*Ea[0]+Ea[1]*Ea[1])*Math.sqrt(Fa[0]*Fa[0]+Fa[1]*Fa[1])))<M):w=0===b(w,E,H);w&&(v.splice(C%v.length,1),z++)}return z},DCa:function(v,y){for(var z=v.length-1;1<=z;--z)for(var C=v[z],w=z-1;0<=w;--w){var E=C,H=v[w],M=y;Math.abs(E[0]-H[0])<=(M||0)&&Math.abs(E[1]-H[1])<=(M||0)&&v.splice(z,1)}},VBa:function(v){for(var y=0,z=1;z<v.length;++z)if(v[z][1]<
v[y][1]||v[z][1]===v[y][1]&&v[z][0]>v[y][0])y=z;if(c(h(v,y-1),h(v,y),h(v,y+1)))return!1;y=[];z=v.length;for(var C=0;C!==z;C++)y.push(v.pop());for(C=0;C!==z;C++)v[C]=y[C];return!0}}}"use strict";{const d=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};d.uw=!1;d.JP=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.yh={}}"use strict";
{const d=self.B;d.nT=class{constructor(b){this.Aka=b;this.Ua=new Map;this.Jga()}Jga(){var b=this.Aka;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const c of b)this.Kga(c)}Kga(b){if(b)if(b.includes("=")){var c=b.indexOf("="),f=decodeURIComponent(b.substring(0,c));b=decodeURIComponent(b.substring(c+1));this.Ua.set(f,b)}else this.Ua.set(b,null)}vC(b){return this.Ua.has(b)}ja(b){b=this.Ua.get(b);return"undefined"===typeof b?null:b}};d.LJ=new d.nT(location.search);d.Bsa=new d.nT(location.hash);
d.LJ.ja("mode")}"use strict";
{const d=self.B,b=navigator.userAgent;let c={ema:/linux|openbsd|freebsd|netbsd/i.test(b),fla:/CrOS/.test(b),NH:/trident|iemobile|msie|tizen/i.test(b),jBa:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),C_:/bb10/i.test(b),vla:/edge\//i.test(b),w0:/trident/i.test(b),webkit:/webkit/i.test(b),Bma:/safari\//i.test(b),ela:/chrome\//i.test(b),gla:/chromium\//i.test(b),jla:/crosswalk|xwalk/i.test(b),eCa:/nwjs/i.test(b),Uka:/amazonwebappplatform/i.test(b),Sma:/wv\)/.test(b),Vka:/android/i.test(b),
mma:/nokiabrowser\/[0-9.]+/i.test(b)};var Ua=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),sb=/android\s+[0-9.]+/i.exec(b),tb=/OPR\/[0-9.]+/.exec(b),ub=/tizen\s+[0-9.]+/i.exec(b),Bb=/iphone\s+os\s+[0-9_]+/i.exec(b),Cb=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Db=/windows\s+phone\s+[0-9.]+/i.exec(b),Eb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Fb=/chrome\/[0-9.]+/i.exec(b),Gb=/chromium\/[0-9.]+/i.exec(b),Hb=/nwjs\/[0-9.]+/i.exec(b),Ib=/firefox\/[0-9.]+/i.exec(b),Jb=/msie\s+[0-9.]+/i.exec(b),Kb=/edge\/[0-9.]+/i.exec(b),
Lb=/edg\/[0-9.]+/i.exec(b),Mb=/silk\/[0-9.]+/i.exec(b);let f="(unknown)",a="(unknown)",e="(unknown)",h="(unknown)",g="(unknown)",m="browser",q=!1,l=!1,r=new Map;function p(v,y,z){!0===y?(z(),r.set(v,!0)):y&&y.length&&(z(y[0]),r.set(v,!0))}p("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),v=>{f="Windows";if(v=v.split(" ")[2])switch(v){case "5.0":a="2000";break;case "5.1":a="XP";break;case "5.2":a="XP";break;case "6.0":a="Vista";break;case "6.1":a="7";break;case "6.2":a="8";break;case "6.3":a="8.1";
break;case "10.0":a="10"}});p("isOSX",Ua,v=>{f="Mac OS X";(v=v.split(" ")[3])&&(a=v.replace("_","."))});p("isLinux",c.ema,()=>{f="Linux"});p("isChromeOS",c.fla,()=>{f="Chrome OS"});p("isAndroid",!c.NH&&sb,v=>{f="Android";(v=v.split(" ")[1])&&(a=v)});p("isTizen",ub,v=>{f="Tizen";(v=v.split(" ")[1])&&(a=v)});p("isIPhone",!c.NH&&Bb,v=>{f="iOS";(v=v.split(" ")[2])&&(a=v.replace("_","."))});p("isIPad",!c.NH&&Cb,v=>{f="iOS";(v=v.split(" ")[3])&&(a=v.replace("_","."))});p("isWindowsPhone",Db,v=>{f="Windows Phone";
(v=v.split(" ")[2])&&(a=v)});p("isWindowsPhoneOS",Eb,v=>{f="Windows Phone";(v=v.split(" ")[3])&&(a=v)});p("isBlackberry",c.C_,()=>{f="Blackberry";a="10";e="stock";g="webkit"});p("isChrome",!c.vla&&!c.opera&&Fb,v=>{e="Chrome";g="Chromium";(v=v.split("/")[1])&&(h=v)});p("isOpera",tb,v=>{e="Opera";g="Chromium";(v=v.split("/")[1])&&(h=v)});p("isChromium",Gb,v=>{g=e="Chromium";(v=v.split("/")[1])&&(h=v)});p("isFirefox",Ib,v=>{e="Firefox";g="Gecko";(v=v.split("/")[1])&&(h=v)});p("isInternetExplorer",Jb,
v=>{e="Internet Explorer";g="Trident";(v=v.split(" ")[1])&&(h=v)});p("isTrident","Internet Explorer"!==e&&c.w0,()=>{g="Trident";var v=/rv:[0-9.]+/i.exec(b);v&&v.length&&(e="Internet Explorer",(v=v[0].split(":")[1])&&(h=v))});p("isEdge",Kb,v=>{g=e="Edge";(v=v.split("/")[1])&&(h=v)});p("isEdgeChromium",Lb,v=>{e="Edge";g="Chromium";(v=v.split("/")[1])&&(h=v)});p("isSafari",c.Bma&&!c.mma&&!c.ela&&!c.gla&&!c.iBa&&!c.C_,()=>{e="Safari";g="WebKit";var v=/version\/[0-9.]+/i.exec(b),y=/crios\/[0-9.]+/i.exec(b),
z=/fxios\/[0-9.]+/i.exec(b);v&&v.length&&(v=v[0].split("/")[1])&&(h=v);y&&y.length&&(e="Chrome for iOS",(y=y[0].split("/")[1])&&(h=y));z&&z.length&&(e="Firefox for iOS",(z=z[0].split("/")[1])&&(h=z))});p("isSilk",Mb,v=>{e="Silk";(v=v.split("/")[1])&&(h=v)});p("isCrosswalk",c.jla,()=>m="crosswalk");p("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>m="cordova");p("isNWJS",Hb,v=>{m="nwjs";e="NW.js";g="Chromium";(v=v.split("/")[1])&&(h=v)});p("isAmazonWebApp",c.Uka,()=>m="webapp");
p("isHomeScreenWebApp","nwjs"!==m&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>m="webapp");p("isFalseSafari","Safari"===e&&("Android"===f||"Tizen"===f||"Blackberry"===f),()=>e="stock");p("isAndroidWebview","Chrome"===e&&"browser"===m&&c.Sma,()=>m="webview");p("isFirefoxOS","Firefox"===e&&"(unknown)"===f,()=>f="Firefox OS");p("isAndroidFallback","(unknown)"===f&&!c.NH&&c.Vka,()=>f="Android");p("isTridentFallback",
"(unknown)"===f&&c.w0,()=>g="Trident");p("isWebkitFallback","(unknown)"===f&&c.webkit,()=>g="WebKit");p("isDesktop","Windows"===f||"Mac OS X"===f||"Linux"===f||"Chrome OS"===f||"nwjs"===m,()=>q=!0);"Edge"===g&&"undefined"!==typeof Windows&&"undefined"!==typeof Windows.System&&(m="windows-store");l="nwjs"===m;const t="Mac OS X"===f&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;t&&(f="iOS",a=h,l=q=!1);d.lb={Vt:f,bta:a,Ad:e,hoa:h,WH:parseFloat(h),xB:g,cI:m,nra:q,sJ:!q,ora:l,kra:!!(self.chrome&&
self.chrome.runtime&&self.chrome.runtime.id),dra:"Mac OS X"===f||"iOS"===f,zra:t,Dra:"Linux"===f}}"use strict";
{const d=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,c="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function f(t){return new Promise((v,y)=>{t.onsuccess=()=>v(t.result);t.onerror=()=>y(t.error)})}function a(t){return new Promise((v,y)=>{t.oncomplete=()=>v();t.onerror=()=>y(t.error);t.onabort=()=>y(t.error)})}function e(t,v){return g(t,v)}function h(t,v){return g(t,v,!0)}async function g(t,v,y=!1,
z=!0){const C=await m(t);try{const w=C.transaction(["keyvaluepairs"],y?"readwrite":"readonly");return v(w)}catch(w){if(z&&"InvalidStateError"===w.name)return d.delete(t),g(t,v,y,!1);throw w;}}function m(t){l(t);let v=d.get(t);v instanceof Promise||(v=q(t),d.set(t,v),v.catch(()=>d.delete(t)));return v}async function q(t){l(t);const v=indexedDB.open(t,2);v.addEventListener("upgradeneeded",y=>{try{y.target.result.createObjectStore("keyvaluepairs")}catch(z){console.error(`Failed to create objectstore for database ${t}`,
z)}});return f(v)}function l(t){if("string"!==typeof t)throw new TypeError("expected string");}function r(t,v){const y=t.objectStore("keyvaluepairs").openCursor();return new Promise(z=>{const C=[];y.onsuccess=w=>{if(w=w.target.result){switch(v){case "entries":C.push([w.key,w.value]);break;case "keys":C.push(w.key);break;case "values":C.push(w.value)}w.continue()}else z(C)}})}class p{constructor(t){l(t);this.name=t}async ready(){await m(this.name)}set(t,v){l(t);return h(this.name,async y=>{var z=y.objectStore("keyvaluepairs").put(v,
t);z=f(z);y=a(y);await Promise.all([y,z])})}get(t){l(t);return e(this.name,async v=>{var y=v.objectStore("keyvaluepairs").get(t);y=f(y);v=a(v);[,v]=await Promise.all([v,y]);return v})}delete(t){l(t);return h(this.name,async v=>{var y=v.objectStore("keyvaluepairs").delete(t);y=f(y);v=a(v);await Promise.all([v,y])})}clear(){return h(this.name,async t=>{var v=t.objectStore("keyvaluepairs").clear();v=f(v);t=a(t);await Promise.all([t,v])})}keys(){return e(this.name,async t=>{if(c){var v=t.objectStore("keyvaluepairs").getAllKeys();
v=f(v)}else v=r(t,"keys");t=a(t);[,t]=await Promise.all([t,v]);return t})}values(){return e(this.name,async t=>{if(b){var v=t.objectStore("keyvaluepairs").getAll();v=f(v)}else v=r(t,"values");t=a(t);[,t]=await Promise.all([t,v]);return t})}entries(){return e(this.name,async t=>{var v=r(t,"entries");t=a(t);[,v]=await Promise.all([t,v]);return v})}}self.k7=p}"use strict";
{const d=self.k7,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],c=new WeakMap;let f=!1;"undefined"===typeof indexedDB&&(f=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function a(m){throw Error(`"${m}" is not implemented`);
}function e(m){if("function"===typeof m)throw Error("localforage callback API is not implemented; please use the promise API instead");}function h(m){return"object"===typeof m?new Promise(q=>{const {port1:l,port2:r}=new MessageChannel;r.onmessage=p=>q(p.data);l.postMessage(m)}):Promise.resolve(m)}class g{constructor(m){this.G=m;c.set(this,new Map)}uy(m){if(!f)for(const q of b)if(m&&q.test(m.message)){console.error("Unable to use local storage, reverting to in-memory store: ",m,m.message);f=!0;break}}async pY(m){m=
c.get(this).get(m);m=await h(m);return"undefined"===typeof m?null:m}async b_(m,q){q=await h(q);c.get(this).set(m,q)}TZ(m){c.get(this).delete(m)}OX(){c.get(this).clear()}YY(){return Array.from(c.get(this).keys())}async getItem(m,q){e(q);if(f)return await this.pY(m);let l;try{l=await this.G.get(m)}catch(r){this.uy(r);if(f)return await this.pY(m);console.error(`Error reading '${m}' from storage, returning null: `,r);return null}return"undefined"===typeof l?null:l}async setItem(m,q,l){e(l);"undefined"===
typeof q&&(q=null);if(f)await this.b_(m,q);else try{await this.G.set(m,q)}catch(r){if(this.uy(r),f)await this.b_(m,q);else throw r;}}async removeItem(m,q){e(q);if(f)this.TZ(m);else try{await this.G.delete(m)}catch(l){this.uy(l),f?this.TZ(m):console.error(`Error removing '${m}' from storage: `,l)}}async clear(m){e(m);if(f)this.OX();else try{await this.G.clear()}catch(q){this.uy(q),f?this.OX():console.error("Error clearing storage: ",q)}}async keys(m){e(m);if(f)return this.YY();m=[];try{m=await this.G.keys()}catch(q){this.uy(q);
if(f)return this.YY();console.error("Error getting storage keys: ",q)}return m}ready(m){e(m);return f?Promise.resolve(!0):this.G.ready()}uP(m){if("object"!==typeof m)throw new TypeError("invalid options object");m=m.name;if("string"!==typeof m)throw new TypeError("invalid store name");m=new d(m);return new g(m)}length(){a("localforage.length()")}key(){a("localforage.key()")}iterate(){a("localforage.iterate()")}supports(){a("localforage.supports()")}dropInstance(){a("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}"use strict";
{const d=self.B;d.Hc={};d.Hc.Hza=(()=>{try{if("Safari"===d.lb.Ad||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();d.Hc.upa="undefined"!==typeof HTMLDialogElement;d.Hc.$ua=!!self.requestIdleCallback;d.Hc.ImageBitmap=!!self.createImageBitmap;d.Hc.ImageBitmapOptions=!1;if(d.Hc.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.Hc.ImageBitmapOptions=!0}).catch(()=>{d.Hc.ImageBitmapOptions=!1})}catch(b){d.Hc.ImageBitmapOptions=!1}d.Hc.Eoa=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.lb.Ad);d.Hc.Ota=!(!navigator.permissions||!navigator.permissions.query);d.Hc.lT="undefined"!==typeof Proxy;d.Hc.xpa="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Hc.zB="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.Hc.Rpa="function"===typeof fetch;d.Hc.Qta=!!(self.isSecureContext&&"Opera"!==d.lb.Ad&&navigator.storage&&navigator.storage.persist);d.Hc.zya=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var Nb;if("undefined"===typeof document||"iOS"===d.lb.Vt)Nb=!1;else{var Ob=document.documentElement;Nb=!!(Ob.requestFullscreen||Ob.msRequestFullscreen||Ob.mozRequestFullScreen||Ob.webkitRequestFullscreen)}d.Hc.aqa=Nb;d.Hc.Mqa="undefined"!==typeof self.ImageDecoder;d.Hc.Ysa=!!self.showOpenFilePicker;
d.Hc.Zsa=!(!navigator.fonts||!navigator.fonts.query)}"use strict";
{const d=self.B;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,c){return this.replace(new RegExp(d.Sw(b),"g"),c)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(c,f){return c.reduce((a,e)=>{0<f&&Array.isArray(e)?Array.prototype.push.apply(a,b(e,f-1)):a.push(e);return a},[])}Array.prototype.flat=function(c=1){return b(this,c)}}RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,
"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,c)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((f,a)=>b({usage:f,quota:a}),c))});"undefined"===typeof HTMLCollection||HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),
done:!1}}});"undefined"===typeof NodeList||NodeList.prototype[Symbol.iterator]||(NodeList.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof DOMTokenList||DOMTokenList.prototype[Symbol.iterator]||(DOMTokenList.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof FileList||FileList.prototype[Symbol.iterator]||(FileList.prototype[Symbol.iterator]=
function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof TextEncoder&&(self.TextEncoder=class{constructor(){Object.defineProperty(this,"encoding",{value:"utf-8",writable:!1})}encode(b){for(var c=b.length,f=-1,a=new Uint8Array(3*c),e,h,g=0;g!==c;){e=b.charCodeAt(g);g+=1;if(55296<=e&&56319>=e){if(g===c){a[f+=1]=239;a[f+=1]=191;a[f+=1]=189;break}h=b.charCodeAt(g);if(56320<=h&&57343>=h){if(e=1024*(e-55296)+h-56320+65536,g+=1,65535<e){a[f+=1]=240|
e>>>18;a[f+=1]=128|e>>>12&63;a[f+=1]=128|e>>>6&63;a[f+=1]=128|e&63;continue}}else{a[f+=1]=239;a[f+=1]=191;a[f+=1]=189;continue}}127>=e?a[f+=1]=0|e:(2047>=e?a[f+=1]=192|e>>>6:(a[f+=1]=224|e>>>12,a[f+=1]=128|e>>>6&63),a[f+=1]=128|e&63)}return new Uint8Array(a.buffer.slice(0,f+1))}toString(){return"[object TextEncoder]"}},TextEncoder[Symbol.toStringTag]="TextEncoder");if("undefined"===typeof TextDecoder){function b(a){const e=a[Symbol.iterator]();return{next:()=>e.next(),[Symbol.iterator](){return this}}}
function c(a){a=a.next();if(a.done)throw Error("unexpected end of input");if(0!=(a.value&192^128))throw Error("invalid byte");return a.value&63}const f=new Map;f.set("utf-8",(a,e)=>{if(a.buffer)var h=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);else if(h instanceof ArrayBuffer)h=new Uint8Array(a);else throw Error("Invalid parameter");a=b(h);h=[];try{for(const g of a){let m;if(127>g)m=g&127;else if(223>g)m=(g&31)<<6|c(a);else if(239>g)m=(g&15)<<12|c(a)<<6|c(a);else if(247>g)m=(g&7)<<18|c(a)<<
12|c(a)<<6|c(a);else throw Error("Invalid character");h.push(String.fromCodePoint(m))}}catch(g){if(e)throw g;h.push("\ufffd")}return h.join("")});f.set("utf8",f.get("utf-8"));f.set("utf-16le",()=>{throw Error("utf-16le decoder not implemented");});self.TextDecoder=class{constructor(a="utf-8",e={}){const h=f.get(a);if(!h)throw Error(`TextDecoder polyfill does not support "${a}"`);Object.defineProperty(this,"fatal",{value:!0===e.fatal,writable:!1});Object.defineProperty(this,"_decoder",{value:h,writable:!1});
Object.defineProperty(this,"encoding",{value:a,writable:!1})}decode(a){return this._decoder(a,this.fatal)}toString(){return"[object TextDecoder]"}};TextDecoder[Symbol.toStringTag]="TextDecoder"}"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}"use strict";{const d=self.B;self.assert=function(b,c){b||console.error("Assertion failure: "+c+"\n\nStack trace:\n"+d.YB())}}"use strict";
{const d=self.B,b=self.yh;d.Qo=function(f){return"number"===typeof f};d.No=function(f){return d.Qo(f)&&isFinite(f)};d.Yo=function(f){if(!d.Qo(f))throw new TypeError("expected number");};d.yT=function(){};d.vva=function(f,a,e){if(!d.Qo(f)||isNaN(f)||a>f||e<f)throw new RangeError("number outside of range");};d.hva=function(...f){for(let a of f);};d.Qm=function(f){if(!d.No(f))throw new TypeError("expected finite number");};d.vT=function(){};d.eva=function(...f){for(let a of f);};d.Km=function(f){return"string"===
typeof f};d.Vf=function(f){if(!d.Km(f))throw new TypeError("expected string");};d.AT=function(){};d.jva=function(...f){for(let a of f);};d.vS=function(f){return"object"!==typeof f||null===f?!1:(f=Object.getPrototypeOf(f))?f.constructor===Object:null===f};d.Iva=function(f){if(!d.vS(f))throw new TypeError("expected simple object");};d.Fva=function(f){if(!d.rf(f)&&!d.vS(f))throw new TypeError("expected simple object");};d.uS=function(f){return"object"===typeof f&&null!==f&&!Array.isArray(f)};d.tT=function(f){if(!d.uS(f))throw new TypeError("expected object");
};d.zT=function(){};d.iva=function(...f){for(let a of f);};d.L6=function(f){return d.Oo(f,Blob)&&"string"===typeof f.name};d.tva=function(f){if(!d.L6(f))throw new TypeError("expected file");};d.Dva=function(){};d.Vq=function(f){return Array.isArray(f)};d.sT=function(f){if(!d.Vq(f))throw new TypeError("expected array");};d.uT=function(){};d.dva=function(...f){for(let a of f);};d.A6=function(f){return d.Vq(f)?f.length?d.Vq(f[0])?!0:!1:!0:!1};d.cva=function(f){if(!d.A6(f))throw new TypeError("expected 2d array");
for(let a of f)if(!d.Vq(a))throw new TypeError("expected 2d array");};d.wva=function(){};d.EC=function(f){return"function"===typeof f};d.ol=function(f,a){if(!d.EC(f))throw new TypeError("expected function");if(!d.rf(a)&&f!==a)throw new TypeError("expected same function reference");};d.wT=function(){};d.fva=function(...f){for(let a of f);};d.lva=function(f,...a){if(!d.EC(f))throw new TypeError("expected function");if(!a.length)throw Error("missing comparison functions");for(let e of a)if(!d.rf(e)&&
f===e)return;throw new TypeError("expected same function reference");};d.xva=function(...f){if(!d.rf(f))for(let a of f);};d.Oo=function(f,a){return f instanceof a};d.rS=function(f,...a){for(let e of a)if(d.Oo(f,e))return!0;return!1};d.QJ=function(f,a){if(!d.Oo(f,a))throw new TypeError("unexpected type");};d.xT=function(){};d.gva=function(f,...a){for(let e of a);};d.mva=function(f,...a){if(!d.rS(f,...a))throw new TypeError("unexpected type");};d.nva=function(f,...a){if(!d.rf(f)&&!d.rS(f,...a))throw new TypeError("unexpected type");
};d.fra=function(f,a){for(let e of f)if(!d.Oo(e,a))return!1;return!0};d.gra=function(f){for(let a of f)if(!d.No(a))return!1;return!0};d.ova=function(f){for(let a of f);};d.yva=function(f){if(!d.rf(f))for(let a of f);};d.pva=function(f){for(let a of f);};d.zva=function(f){if(!d.rf(f))for(let a of f);};d.lra=function(f,a){return d.rf(f)||!d.Km(f.nodeName)?!1:!a||d.vh(f.nodeName,a)};d.qva=function(f,a){if(d.rf(f)||!d.Km(f.nodeName))throw new TypeError("expected DOM node");if(a&&!d.vh(f.nodeName,a))throw new TypeError(`expected DOM '${a}' node`);
};d.Ava=function(){};d.oJ=function(f,a){return d.rf(f)||!d.Km(f.tagName)?!1:!a||d.vh(f.tagName,a)};d.uva=function(f,a){if(d.rf(f)||!d.Km(f.tagName))throw new TypeError("expected HTML element");if(a&&!d.vh(f.tagName,a))throw new TypeError(`expected HTML '${a}' element`);};d.Eva=function(){};d.kS=function(f){return d.oJ(f,"img")||d.oJ(f,"canvas")||d.oJ(f,"video")||"undefined"!==typeof OffscreenCanvas&&f instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&f instanceof ImageBitmap};d.rva=function(f){if(!d.kS(f))throw new TypeError("expected drawable");
};d.Bva=function(){};d.lS=function(f){return f instanceof ImageData?!0:d.kS(f)};d.sva=function(f){if(!d.lS(f))throw new TypeError("expected drawable or image data");};d.Cva=function(f){if(!d.rf(f)&&!d.lS(f))throw new TypeError("expected drawable or image data");};d.b7=function(f){return"string"===typeof f||f instanceof d.hJ||f instanceof d.tm};d.Jva=function(f){if(!d.b7(f))throw new TypeError("expected string-like");};d.Gva=function(){};d.kva=function(...f){for(let a of f);};d.Hva=function(){throw Error("must be overridden");
};d.ata=function(){throw Error("not yet implemented");};d.mra=function(f,...a){if("undefined"===typeof f)return!1;for(let e of a){if("undefined"===typeof f[e])return!1;f=f[e]}return!0};d.rf=function(f){return"undefined"===typeof f||null===f};d.Ona=function(f){let a=f[0].constructor;for(let e of f)if(e.constructor!==a)return!1;return a};d.Pna=function(f,a){for(let e of f)if(!(e instanceof a))return!1;return!0};const c=Object.getPrototypeOf(Uint8Array);d.Tra=function(f){return d.Oo(f,c)};d.Kva=function(){};
d.Gza=function(f){d.Nba(f,c)};d.Fza=function(f,...a){if(!d.Mba(f,...a))throw new TypeError("unexpected type");};d.Mba=function(f,...a){for(const e of a)if(d.FU(f,e))return!0;return!1};d.Nba=function(f,a){if(!d.FU(f,a))throw new TypeError("unexpected type");};d.FU=function(f,a){for(;f=Object.getPrototypeOf(f);)if(f.constructor.name===a.name)return!0;return!1};b.Yo=d.Yo;b.yT=d.yT;b.Qm=d.Qm;b.vT=d.vT;b.Vf=d.Vf;b.AT=d.AT;b.tT=d.tT;b.zT=d.zT;b.sT=d.sT;b.uT=d.uT;b.ol=d.ol;b.wT=d.wT;b.QJ=d.QJ;b.xT=d.xT;
b.rf=d.rf}"use strict";
{const d=self.B,b=new Map;d.Kua=function(r,...p){b.has(r)||b.set(r,-1);-1===b.get(r)&&b.set(r,requestAnimationFrame(()=>{console.log(`%c${r}`,"font-weight: bold",...p);b.set(r,-1)}))};d.YB=function(){return Error().stack};d.rpa=function(){debugger};d.oAa=function(r,p){return r&&r instanceof p?r:null};d.om=function(r){return"undefined"===typeof r?"undefined":null===r?"null":"boolean"===typeof r?"<boolean>":d.Qo(r)?"<number>":d.Km(r)?"<string>":d.Vq(r)?"<array>":"symbol"===typeof r?"<"+r.toString()+
">":d.EC(r)?r.name&&"Function"!==r.name?r.name:"<anonymous function>":"object"===typeof r?r.constructor&&r.constructor.name&&"Object"!==r.constructor.name?r.constructor.name:"<anonymous object>":"<unknown>"};d.rH=function(r){return null===r?"null":Array.isArray(r)?"array":typeof r};d.range=function*(r,p){if(!isFinite(Math.abs(r-p)))throw Error("Invalid parameters");if(r>p)for(--r;r>=p;r--)yield r;else for(;r<p;r++)yield r};let c=new Map,f=new Map,a=new WeakMap,e=new WeakMap;d.zt={};const h=new Set(["then",
"splice"]);function g(r){console.warn("[Defence] "+r+" @",d.YB())}d.zt.get=function(r,p){p in r||"symbol"===typeof p||h.has(p)||g(`Accessed missing property '${p}' from defended object '${d.om(r)}', returning undefined`);e.has(r)&&"symbol"!==typeof p&&!h.has(p)&&g(`Accessed property '${p}' on a released object '${d.om(r)}'\nObject was originally released at: ${e.get(r)})\nCall stack at access: `);return r[p]};d.zt.set=function(r,p,t){p in r||c.has(r)||g(`Set non-existent property '${p}' to '${t}' on defended object '${d.om(r)}'`);
{var v=d.rH(r[p]);let y=d.rH(t);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||c.has(r)||g(`Set '${d.rH(r[p])}' property '${p}' to type '${d.rH(t)}' on defended object '${d.om(r)}'`);e.has(r)&&g(`Set property '${p}' on a released object '${d.om(r)}'\nObject was originally released at: ${e.get(r)})\nCall stack at access: `);r[p]=t;return!0};d.zt.deleteProperty=function(r,p){throw new ReferenceError(`Cannot delete property '${p}' from defended object '${d.om(r)}'`);};d.zt.defineProperty=
function(r,p){throw new ReferenceError(`Cannot define property '${p}' on defended object '${d.om(r)}'`);};d.zt.GAa=function(r){throw new ReferenceError(`Cannot enumerate defended object '${d.om(r)}'`);};let m=-1;function q(){m=-1;if(0<c.size||0<f.size){let r=[...new Set([...c.keys()].map(p=>d.om(p)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${r}`);c.clear();
f.clear()}}d.ua=class{constructor(){if(d.JP&&d.Hc.lT){var r=new.target;r=Object.create(r.prototype);var p=new Proxy(r,d.zt);c.set(r,p);f.set(p,r);a.set(p,r);-1===m&&(m=requestAnimationFrame(q));return p}}};d.lla=function(r){if(d.JP&&d.Hc.lT&&r instanceof d.ua){if(!f.has(r))return r;let p=f.get(r);f.delete(r);c.delete(p);return r}return d.uw?Object.seal(r):r};d.D=function(r,...p){let t;try{t=new r(...p)}catch(z){throw f.clear(),c.clear(),z;}if(d.JP){p=t;var v=new Set;for(y in p)v.add(y);var y=v;if(p=
l.get(r)){v=[];for(let z of p.values())y.has(z)?y.delete(z):v.push(z);d.mm(v,[...y]);v.length&&console.warn(`[Defence] '${d.om(r)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else l.set(r,y)}return d.lla(t)};d.j=function(r){(r=a.get(r))&&e.set(r,d.YB())};d.hp=function(){let r=a.get(void 0);return r?!!e.get(r):!1};let l=new Map;d.Mta=class{constructor(r){this.qa="";r&&this.start(r)}start(r){this.qa=r;performance.mark(this.qa+"-Start")}end(){performance.mark(this.qa+"-End");performance.measure(this.qa,
this.qa+"-Start",this.qa+"-End")}next(r){this.end();this.qa=r;performance.mark(this.qa+"-Start")}}}"use strict";
{const d=self.B,b=2*Math.PI,c=Math.PI/180,f=180/Math.PI;d.wrap=function(e,h,g){e=Math.floor(e);h=Math.floor(h);g=Math.floor(g);return e<h?(e=g-(h-e)%(g-h),e===g?0:e):h+(e-h)%(g-h)};d.gma=function(e,h,g,m){return(e-h)*(m-0)/(g-h)};d.normalize=function(e,h,g){return(e-h)/(g-h)};d.ba=function(e,h,g){return e<h?h:e>g?g:e};d.Cc=function(e){e%=b;0>e&&(e+=b);return e};d.Ma=function(e){return e*c};d.Pd=function(e){return e*f};d.Be=function(e,h,g,m){return Math.hypot(g-e,m-h)};d.nH=function(e,h,g,m){e=g-e;
h=m-h;return e*e+h*h};d.uh=function(e,h,g,m){return Math.atan2(m-h,g-e)};d.yq=function(e,h){if(e===h)return 0;e=Math.sin(e)*Math.sin(h)+Math.cos(e)*Math.cos(h);return 1<=e?0:-1>=e?Math.PI:Math.acos(e)};d.hH=function(e,h,g){let m=Math.sin(e),q=Math.cos(e),l=Math.sin(h),r=Math.cos(h);return Math.acos(m*l+q*r)>g?0<q*l-m*r?d.Cc(e+g):d.Cc(e-g):d.Cc(h)};d.sg=function(e,h){return 0>=Math.cos(e)*Math.sin(h)-Math.sin(e)*Math.cos(h)};d.pP=function(e,h,g,m=0){let q=d.yq(e,h);m*=b;return d.sg(h,e)?d.Cc(e+(q+
m)*g):d.Cc(e-(q+m)*g)};d.Xka=function(e,h,g,m=0){const q=d.yq(e,h);m*=b;return d.sg(h,e)?d.Cc(e+(q+m)*g):d.Cc((b-q+m)*g)};d.Wka=function(e,h,g,m=0){const q=d.yq(e,h);m*=b;return d.sg(h,e)?d.Cc((-b+q-m)*g):d.Cc(e-(q+m)*g)};d.le=function(e,h,g){return e+g*(h-e)};d.sQ=function(e,h,g){return e===h?0:(g-e)/(h-e)};d.xma=function(e,h,g,m){return d.le(0,m,d.sQ(e,h,g))};d.DH=function(e,h,g,m){return d.le(d.le(e,h,m),d.le(h,g,m),m)};d.L_=function(e,h,g,m,q){return d.le(d.DH(e,h,g,q),d.DH(h,g,m,q),q)};d.J_=
function(e,h,g){return(e+h+(e-h)*Math.cos(g*Math.PI))/2};d.pm=function(e){return 0<e&&0===(e-1&e)};d.SP=function(e){--e;for(let h=1;32>h;h<<=1)e|=e>>h;return e+1};d.PCa=function(e,h){return Math.round(e*h)/h};d.NAa=function(e,h){return Math.floor(e*h)/h};d.gt=function(e){return Math.round(1E6*e)/1E6};d.toFixed=function(e,h){e=e.toFixed(h);for(h=e.length-1;0<=h&&"0"===e.charAt(h);--h);0<=h&&"."===e.charAt(h)&&--h;return 0>h?e:e.substr(0,h+1)};d.f9=function(e,h,g){return d.ba(e,0,255)|d.ba(h,0,255)<<
8|d.ba(g,0,255)<<16};d.TC=function(e,h,g,m){e=d.ba(Math.floor(1024*e),-8192,8191);h=d.ba(Math.floor(1024*h),-8192,8191);g=d.ba(Math.floor(1024*g),-8192,8191);m=d.ba(Math.floor(1023*m),0,1023);0>e&&(e+=16384);0>h&&(h+=16384);0>g&&(g+=16384);return-(274877906944*e+16777216*h+1024*g+m)};d.hT=function(e,h,g){return d.TC(e,h,g,1)};d.TI=function(e){if(0<=e)return(e&255)/255;e=Math.floor(-e/274877906944);8191<e&&(e-=16384);return e/1024};d.EI=function(e){if(0<=e)return((e&65280)>>8)/255;e=Math.floor(-e%
274877906944/16777216);8191<e&&(e-=16384);return e/1024};d.qI=function(e){if(0<=e)return((e&16711680)>>16)/255;e=Math.floor(-e%16777216/1024);8191<e&&(e-=16384);return e/1024};d.G3=function(e){return 0===e&&0>1/e?0:0<=e?1:Math.floor(-e%1024)/1023};d.Gla=function(e,h){e=Math.floor(e);for(h=Math.floor(h);0!==h;){let g=h;h=e%h;e=g}return e};const a=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.lBa=function(e,h){e=Math.floor(e);h=Math.floor(h);if(e===h)return[1,1];for(var g of a){let m=
e/g[0]*g[1];if(1>Math.abs(h-m))return g.slice(0);m=e/g[1]*g[0];if(1>Math.abs(h-m))return[g[1],g[0]]}g=d.Gla(e,h);return[e/g,h/g]};d.VCa=function(e,h,g,m,q,l,r,p){var t=Math.min(e,g),v=Math.max(q,r);if(Math.max(e,g)<Math.min(q,r)||t>v)return!1;t=Math.min(h,m);v=Math.max(l,p);if(Math.max(h,m)<Math.min(l,p)||t>v)return!1;t=q-e+r-g;v=l-h+p-m;e=g-e;h=m-h;q=r-q;l=p-l;p=Math.abs(h*q-l*e);return Math.abs(q*v-l*t)>p?!1:Math.abs(e*v-h*t)<=p};d.xo=function(e,h,g,m,q,l,r,p,t,v,y,z){const C=Math.max(t,y);if(l<
Math.min(t,y)||q>C)return!1;q=Math.max(v,z);if(p<Math.min(v,z)||r>q)return!1;r=t-e+y-g;p=v-h+z-m;e=g-e;h=m-h;t=y-t;v=z-v;z=Math.abs(h*t-v*e);return Math.abs(t*p-v*r)>z?!1:Math.abs(e*p-h*r)<=z};d.FH=function(e,h,g,m,q){const l=Math.min(e,g),r=Math.max(e,g),p=Math.min(h,m),t=Math.max(h,m),v=q.jc,y=q.kc,z=q.Oc,C=q.Pc,w=q.Uc,E=q.Vc,H=q.Ic;q=q.Jc;return d.xo(e,h,g,m,l,r,p,t,v,y,z,C)||d.xo(e,h,g,m,l,r,p,t,z,C,w,E)||d.xo(e,h,g,m,l,r,p,t,w,E,H,q)||d.xo(e,h,g,m,l,r,p,t,H,q,v,y)};d.UCa=function(e,h,g,m,q){const l=
Math.min(e,g),r=Math.max(e,g),p=Math.min(h,m),t=Math.max(h,m);let v=0;for(let y=q.length-4;v<=y;v+=2)if(d.xo(e,h,g,m,l,r,p,t,q[v],q[v+1],q[v+2],q[v+3]))return!0;return d.xo(e,h,g,m,l,r,p,t,q[v],q[v+1],q[0],q[1])};d.wma=function(e,h,g,m,q,l,r,p){g-=e;l=p-l;const t=g*l-(m-h)*(r-q);if(0===t)return 2;m=((h-m)*(r-e)+g*(p-h))/t;return 0<m&&1.000001>m?(l*(r-e)+(q-r)*(p-h))/t:2};d.mB=function(e,h,g,m,q,l,r,p,t){const v=(r-q)*t;t*=p-l;return d.wma(e,h,g,m,q-v,l-t,r+v,p+t)};d.Rla=function(e,h,g,m,q,l,r,p){q-=
g;l-=m;r-=g;p-=m;e-=g;g=h-m;h=q*q+l*l;m=q*r+l*p;q=q*e+l*g;l=r*r+p*p;r=r*e+p*g;p=1/(h*l-m*m);l=(l*q-m*r)*p;q=(h*r-m*q)*p;return 0<=l&&0<=q&&1>=l+q};d.Qma=function(e,h,g,m,q,l,r,p){q-=g;l-=m;r-=g;p-=m;e-=g;const t=h-m;h=q*q+l*l;m=q*r+l*p;g=r*r+p*p;q=e*q+t*l;l=e*r+t*p;r=h*g-m*m;p=(g*q-m*l)/r;q=(h*l-m*q)/r;return[1-p-q,p,q]};d.Pma=function(e,h,g,m,q,l,r,p,t){return[e*m+h*l+g*p,e*q+h*r+g*t]}}"use strict";
{const d=self.B;let b=null,c="";if("undefined"!==typeof document){b=document;const l=document.querySelector("base");if(c=l&&l.hasAttribute("href")?l.getAttribute("href"):"")c.startsWith("/")&&(c=c.substr(1)),c.endsWith("/")||(c+="/")}d.pqa=function(){return c};d.rI=function(){if(!b)return"";const l=b.location;return d.N4(l.origin+l.pathname)+c};d.N4=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const r=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===r?"":l.substr(0,
r+1)};d.tqa=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const r=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===r?l:l.substr(r+1)};d.qpa=function(l){if(l.types)for(let r=0;r<l.types.length;r++)if("Files"===l.types[r]||"application/x-c3-file"===l.types[r])return!0;return!1};const f=["alphabetical"],a={filter:null,sort:null};d.A3=async function(l,r){r=Object.assign({},a,r);if(!d.EC(r.filter))throw Error('"filter" option is not a function');l=Array.from(l).filter(p=>
0!==p.size).filter(p=>r.filter(p)).map(async p=>{try{return await d.Foa(p)}catch(t){return null}});l=(await Promise.all(l)).filter(p=>p);if(r&&r.sort)switch(r.sort){case "alphabetical":l.sort((p,t)=>p.name.localeCompare(t.name));break;default:throw Error(`invalid sort mode "${r.sort}", valid modes are "${f}"`);}return l};d.ppa=async function(l,r){return d.A3(l.files,r)};d.tra=function(l){return l.type?-1!==l.type.search(/image\/.*/):-1!==d.MimeType.p4(d.yR(l.name)).uqa().search(/image\/.*/)};d.ura=
function(l){return"image/svg+xml"===l.type};d.sra=function(l){return l.type?d.MimeType.ja(l.type).C6():d.MimeType.p4(d.yR(l.name)).C6()};d.yR=function(l){let r=l.lastIndexOf(".");return 1>r?"":l.substr(r)};d.sqa=function(l){let r=l.lastIndexOf(".");return 1>r?l:l.substr(0,r)};d.O7=function(l){return l.replace(/\\/g,"/")};d.Bta=function(l){l=d.O7(l);let r=/^\w:\//.exec(l);r?(r=r[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):r="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));
var p=l.lastIndexOf("/")+1;let t="",v=l,y="";0<p&&(t=l.slice(0,p),v=l.slice(p));l=v;p=v.lastIndexOf(".");0<p&&(y=v.slice(p),l=v.slice(0,-y.length));return{dir:t,jAa:v,name:l,root:r,ext:y,$Aa:r+t+v}};d.EK=function(l,r){return new Promise(p=>{self.setTimeout(p,l,r)})};d.eDa=function(l){try{l()}catch(r){d.uw&&console.warn("Swallowed exception: ",r)}};d.noop=function(){};d.vh=function(l,r){return"string"!==typeof l||"string"!==typeof r?!1:l===r||l.normalize().toLowerCase()===r.normalize().toLowerCase()};
d.HAa=function(l,r){return"string"!==typeof l||"string"!==typeof r?!1:l===r?!0:l.normalize()===r.normalize()};d.Rma=function(l,r){var p=0;l[p++]=r[0];l[p++]=r[1];l[p++]=r[2];l[p++]=r[3];l[p++]=r[4];l[p++]=r[5];l[p++]=r[6];l[p++]=r[7];l[p++]=r[8];l[p++]=r[9];l[p++]=r[10];l[p++]=r[11];l[p++]=r[12];l[p++]=r[13];l[p++]=r[14];l[p]=r[15]};d.zd=function(l,r){l.length=r};d.H=function(l){l&&0!==l.length&&d.zd(l,0)};d.hla=function(l){if(l){for(let r=0;r<l.length;r++)d.zd(l[r],0);d.zd(l,0)}};d.pH=function(l,
r,p){r|=0;var t=l.length;if(!(r<=t))for(;t<r;++t)l.push(p)};d.EH=function(l,r,p){r|=0;const t=l.length;r<t?d.zd(l,r):r>t&&d.pH(l,r,p)};d.$d=function(l,r){d.H(l);d.mm(l,r)};d.mm=function(l,r){if(1E4>r.length)l.push(...r);else for(let p=0,t=r.length;p<t;++p)l.push(r[p])};d.$ka=function(l,r){r=Math.floor(r);if(!(0>r||r>=l.length)){for(var p=l.length-1;r<p;++r)l[r]=l[r+1];d.zd(l,p)}};d.$s=function(l,r){r=l.indexOf(r);0<=r&&l.splice(r,1)};d.iAa=function(l,r){let p=l.length;if(r.length!==p)return!1;for(let t=
0;t<p;++t)if(l[t]!==r[t])return!1;return!0};d.Zka=function(l,r){let p=[],t=0;for(let v=0,y=l.length;v<y;++v){let z=l[v];r(z)?p.push(z):(l[t]=z,++t)}d.zd(l,t);return p};d.si=function(l,r){const p=l.length;let t=0;for(let v=0,y=l.length;v<y;++v){let z=l[v];r.has(z)||(l[t++]=z)}d.zd(l,t);return p-t};d.Nla=function(l,r){return l!==Math.floor(l)?!1:0<=l&&l<r.length};d.uDa=function(l,r){if(!d.Nla(l,r))throw new RangeError("array index out of bounds");};d.iH=function(l){return l.slice()};d.mla=function(l,
r){let p=[];for(let t of l)if(d.uS(t)){l=r(t);if(!l)throw Error("missing clone");if(l.constructor!==t.constructor)throw Error("object is not a clone");p.push(l)}else d.Vq(t)?p.push(d.mla(t,r)):p.push(t);return p};d.pAa=function(l){let r=[];for(let p of l)r.push(p.slice());return r};d.ZBa=function(l,r){return new Set([...l,...r])};d.$Ba=function(l,r){for(const p of r)l.add(p);return l};d.first=function(l){for(let r of l)return r;return null};d.xor=function(l,r){return!l!==!r};d.compare=function(l,
r,p){switch(r){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};d.uBa=function(l){for(let r in l)if(l.hasOwnProperty(r))return!0;return!1};d.t9=function(l,r){return l.length?new Promise((p,t)=>{const v=[];let y=0,z=!1;for(let C=0,w=l.length;C<w;++C)v.push(void 0),l[C].then(E=>{z||(v[C]=E,++y,y===l.length?p(v):r(y,l.length))}).catch(E=>{z=!0;t(E)})}):Promise.resolve([])};let e=[];d.rna=function(l){e.push(l)};d.rqa=
function(){let l=0;for(let r of e){let p=r();l+=p}return Math.floor(l)};let h=1;const g=new Map,m=new MessageChannel;m.port2.onmessage=function(l){const r=l.data,p=g.get(r);g.delete(r);p&&p(l.timeStamp)};d.PJ=function(l){const r=h++;g.set(r,l);m.port1.postMessage(r);return r};d.p1=function(l){g.delete(l)};d.q9=d.PJ;d.Kba=function(){return new Promise(l=>d.q9(l))};const q=new Set;d.bva=function(l){const r=self.requestAnimationFrame(async p=>{await d.Kba();q.has(r)&&(q.delete(r),l(p))});q.add(r);return r};
d.xoa=function(l){q.has(l)&&(self.cancelAnimationFrame(l),q.delete(l))}}"use strict";
{const d=self.B;d.lJ=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};d.tJ=function(b){return!d.lJ(b)};d.nba=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};d.TB=function(b){return fetch(b,void 0).then(c=>{d.nba(c);return c})};d.Uw=function(b){return d.TB(b).then(c=>c.text())};d.hR=function(b){return d.TB(b).then(c=>c.json())};d.wm=function(b){return d.TB(b).then(c=>c.blob())};d.Tw=function(b){return d.TB(b).then(c=>
c.arrayBuffer())};d.y3=function(b){return new Promise((c,f)=>{const a=new Image;a.onload=()=>c(a);a.onerror=e=>f(e);a.src=b})};d.i1=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((c,f)=>{const a=new FileReader;a.onload=()=>c(a.result);a.onerror=()=>f(a.error);a.readAsArrayBuffer(b)})};d.CQ=function(b){return"function"===typeof b.text?b.text():new Promise((c,f)=>{const a=new FileReader;a.onload=()=>c(a.result);a.onerror=()=>f(a.error);a.readAsText(b)})};d.boa=function(b){return d.CQ(b).then(c=>
JSON.parse(c))};d.j1=async function(b){b=URL.createObjectURL(b);try{const c=await d.y3(b);URL.revokeObjectURL(b);b="";"function"===typeof c.decode&&await c.decode();return c}finally{b&&URL.revokeObjectURL(b)}};d.ti=function(b,c){if("undefined"!==typeof document&&"function"===typeof document.createElement){const f=document.createElement("canvas");f.width=b;f.height=c;return f}return new OffscreenCanvas(b,c)};d.zB=function(b,c,f){"number"!==typeof f&&(f=1);c=c||"image/png";f=d.ba(f,0,1);return b.toBlob?
new Promise(a=>b.toBlob(a,c,f)):b.convertToBlob?b.convertToBlob({type:c,quality:f}):d.rm(()=>d.KQ(b,c,f))};d.KQ=function(b,c,f){"number"!==typeof f&&(f=1);c=c||"image/png";f=d.ba(f,0,1);return d.a2(b.toDataURL(c,f))};d.a2=function(b){b=d.g9(b);return d.h1(b.data,b.hma)};d.g9=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var c=b.indexOf(",");if(0>c)throw new URIError("expected comma in data: uri");var f=b.substring(c+1);c=b.substring(5,c).split(";");b=c[0]||"";let a=
c[2];f="base64"===c[1]||"base64"===a?atob(f):decodeURIComponent(f);return{hma:b,data:f}};d.h1=function(b,c){var f=b.length;let a=f>>2,e=new Uint8Array(f),h=new Uint32Array(e.buffer,0,a),g,m;for(m=g=0;g<a;++g)h[g]=b.charCodeAt(m++)|b.charCodeAt(m++)<<8|b.charCodeAt(m++)<<16|b.charCodeAt(m++)<<24;for(f&=3;f--;)e[m]=b.charCodeAt(m),++m;return c?new Blob([e],{type:c}):new Blob([e])};d.ZQ=function(b){const c=d.ti(b.width,b.height);c.getContext("2d").drawImage(b,0,0);return d.zB(c,void 0,void 0)};d.Lqa=
function(b,c,f){const a=d.ti(b.width,b.height);a.getContext("2d").putImageData(b,0,0);return d.KQ(a,c,f)};d.P5=function(b){if(d.Hc.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(c=>d.ZQ(c));if(d.Hc.ImageBitmap)return createImageBitmap(b).then(c=>d.ZQ(c));{const c=d.ti(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return d.zB(c,void 0,void 0)}};d.O1=function(b,c){b.clear();for(const f of c)b.add(f)};d.Lsa=function(b){const c=Object.create(null);for(const [f,
a]of b.entries())c[f]=a;return c};d.cta=function(b,c){c.clear();for(const [f,a]of Object.entries(b))c.set(f,a)};d.AK=function f(c){if("object"===typeof c&&null!==c){if(c instanceof Set)return{_c3type_:"set",data:[...c].map(a=>f(a))};if(c instanceof Map)return{_c3type_:"map",data:[...c].map(a=>[a[0],f(a[1])])};{const a=Object.create(null);for(const [e,h]of Object.entries(c))a[e]=f(h);return a}}return c};d.nI=function a(f){if("object"===typeof f&null!==f){if("set"===f._c3type_)return new Set(f.data.map(e=>
a(e)));if("map"===f._c3type_)return new Map(f.data.map(e=>[e[0],a(e[1])]));{const e=Object.create(null);for(const [h,g]of Object.entries(f))e[h]=a(g);return e}}return f};d.m1=function(f){let a="",e=!1;for(const h of f)"-"===h?e=!0:e?(a+=h.toUpperCase(),e=!1):a+=h;return a};d.Po=function(f){return"object"===typeof f&&"function"===typeof f.next};d.Isa=function(f,a){const e=[];if("function"===typeof a)for(var h=0;h<f;++h)e.push(a());else for(h=0;h<f;++h)e.push(a);return e}}"use strict";
{const d=self.B,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,c=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function f(a,e,h){0>h&&(h+=1);1<h&&--h;return h<1/6?a+6*(e-a)*h:.5>h?e:h<2/3?a+(e-a)*(2/3-h)*6:a}d.sb=class{constructor(a,e,h,g){this.Ya=this.ob=this.Ca=this.nb=0;a instanceof d.sb?this.set(a):this.kt(a||0,e||0,h||0,g||0)}jQ(a,e,h){this.nb=+a;this.Ca=+e;this.ob=+h;this.ba()}kt(a,e,h,g){this.nb=+a;this.Ca=+e;this.ob=+h;this.Ya=+g;this.ba()}set(a){this.nb=a.nb;this.Ca=a.Ca;this.ob=a.ob;this.Ya=a.Ya;
return this}Ga(a){return this.set(a)}add(a){this.nb+=a.nb;this.Ca+=a.Ca;this.ob+=a.ob;this.Ya+=a.Ya;this.ba()}y_(a,e,h){this.nb+=+a;this.Ca+=+e;this.ob+=+h;this.Ya+=0;this.ba()}bt(a){this.nb=a.nb;this.Ca=a.Ca;this.ob=a.ob}jt(a){this.nb=d.ba(+a,0,1)}it(a){this.Ca=d.ba(+a,0,1)}Aw(a){this.ob=d.ba(+a,0,1)}vj(a){this.Ya=d.ba(+a,0,1)}clone(){return d.D(d.sb,this.nb,this.Ca,this.ob,this.Ya)}toArray(){return[this.nb,this.Ca,this.ob,this.Ya]}Ug(a,e){a[e++]=this.nb;a[e++]=this.Ca;a[e++]=this.ob;a[e]=this.Ya}jd(a){return this.nb===
a.nb&&this.Ca===a.Ca&&this.ob===a.ob&&this.Ya===a.Ya}dt(a){return this.nb===a.nb&&this.Ca===a.Ca&&this.ob===a.ob}aB(a,e,h,g){return this.nb===a&&this.Ca===e&&this.ob===h&&this.Ya===g}multiply(a){this.nb*=a.nb;this.Ca*=a.Ca;this.ob*=a.ob;this.Ya*=a.Ya}jma(a){this.nb*=a;this.Ca*=a;this.ob*=a;this.Ya*=a}CH(){this.nb*=this.Ya;this.Ca*=this.Ya;this.ob*=this.Ya}ba(){this.nb=d.ba(this.nb,0,1);this.Ca=d.ba(this.Ca,0,1);this.ob=d.ba(this.ob,0,1);this.Ya=d.ba(this.Ya,0,1);return this}qB(a){this.nb=d.TI(a);
this.Ca=d.EI(a);this.ob=d.qI(a);this.Ya=d.G3(a)}Cla(){return`rgb(${100*(d.No(void 0)?NaN:this.nb)}%, ${100*(d.No(void 0)?NaN:this.Ca)}%, ${100*(d.No(void 0)?NaN:this.ob)}%)`}rma(a){if("string"===typeof a){a=a.trim();"#"===a.charAt(0)&&(a=a.substr(1));if(3===a.length){var e=parseInt(a[0],16)/15;var h=parseInt(a[1],16)/15;a=parseInt(a[2],16)/15}else if(6===a.length)e=parseInt(a.substr(0,2),16)/255,h=parseInt(a.substr(2,2),16)/255,a=parseInt(a.substr(4,2),16)/255;else return;isFinite(e)&&this.jt(e);
isFinite(h)&&this.it(h);isFinite(a)&&this.Aw(a);this.vj(1)}}zH(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,"");var e=a.split(",");if(!(3>e.length)){a=parseInt(e[0].trim(),10)/255;var h=parseInt(e[1].trim(),10)/255;e=parseInt(e[2].trim(),10)/255;isFinite(a)&&this.jt(a);isFinite(h)&&this.it(h);isFinite(e)&&this.Aw(e);this.vj(1)}}}d0(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,"");var e=a.split(",");if(!(3>e.length)){a=parseInt(e[0].trim(),10)/100;var h=parseInt(e[1].trim(),10)/100;
e=parseInt(e[2].trim(),10)/100;isFinite(a)&&this.jt(a);isFinite(h)&&this.it(h);isFinite(e)&&this.Aw(e);this.vj(1)}}}f0(a){if("string"===typeof a){a=a.replace(/^rgba\(|\)|%/,"");var e=a.split(",");if(!(4>e.length)){a=parseInt(e[0].trim(),10)/255;var h=parseInt(e[1].trim(),10)/255,g=parseInt(e[2].trim(),10)/255;e=parseFloat(e[3].trim());isFinite(a)&&this.jt(a);isFinite(h)&&this.it(h);isFinite(g)&&this.Aw(g);isFinite(e)&&this.vj(e)}}}e0(a){if("string"===typeof a){a=a.replace(/^rgba\(|\)|%/,"");var e=
a.split(",");if(!(4>e.length)){a=parseInt(e[0].trim(),10)/100;var h=parseInt(e[1].trim(),10)/100,g=parseInt(e[2].trim(),10)/100;e=parseFloat(e[3].trim());isFinite(a)&&this.jt(a);isFinite(h)&&this.it(h);isFinite(g)&&this.Aw(g);isFinite(e)&&this.vj(e)}}}g0(a){if("string"===typeof a){a=a.replace(/\s+/,"");if(a.includes(",")){if(a.startsWith("rgb(")){a.includes("%")?this.d0(a):this.zH(a);return}if(a.startsWith("rgba(")){a.includes("%")?this.e0(a):this.f0(a);return}if(a.startsWith("hsl(")||a.startsWith("hsla(")){this.qma(a);
return}{const e=a.split(",");if(a.includes("%")){if(3===e.length){this.d0(a);return}4===e.length&&this.e0(a)}else{if(3===e.length){this.zH(a);return}4===e.length&&this.f0(a)}return}}this.rma(a)}}toJSON(){return[this.nb,this.Ca,this.ob,this.Ya]}l0(a,e,h,g){a%=360;e=d.ba(e,0,100);h=d.ba(h,0,100);g=d.ba(g,0,1);a/=360;e/=100;h/=100;if(0===e)h=e=a=h;else{const m=.5>h?h*(1+e):h+e-h*e,q=2*h-m;h=f(q,m,a+1/3);e=f(q,m,a);a=f(q,m,a-1/3)}this.jt(h);this.it(e);this.Aw(a);this.vj(g)}qma(a){var e=a.replace(/ |hsl|hsla|\(|\)|;/gi,
"");a=b.exec(e);e=c.exec(e);a&&4===a.length?this.l0(+a[1],+a[2],+a[3],1):e&&5===e.length&&this.l0(+a[1],+a[2],+a[3],+a[4])}qm(a){!Array.isArray(a)||3>a.length||(this.nb=a[0],this.Ca=a[1],this.ob=a[2],this.Ya=4<=a.length?a[3]:1)}set r(a){this.jt(a)}get r(){return this.nb}set Bla(a){this.it(a)}get Bla(){return this.Ca}set wq(a){this.vj(a)}get wq(){return this.Ya}static hI(a,e){return d.ba(Math.max(a,e)-Math.min(a,e),0,1)}};d.sb.Jza=Object.freeze(d.D(d.sb,1,1,1,1));d.sb.aoa=Object.freeze(d.D(d.sb,0,
0,0,1));d.sb.bza=Object.freeze(d.D(d.sb,0,0,0,0))}"use strict";
{const d=self.B;d.BD=class{constructor(b,c){this.X=this.Y=0;b instanceof d.BD?this.Ga(b):this.set(b||0,c||0)}set(b,c){this.Y=+b;this.X=+c}Ga(b){this.Y=b.Y;this.X=b.X}jd(b){return this.Y===b.Y&&this.X===b.X}toArray(){return[this.Y,this.X]}Ug(b,c){b[c++]=this.Y;b[c]=this.X}offset(b,c){this.Y+=+b;this.X+=+c}scale(b,c){this.Y*=b;this.X*=c}Sk(b,c){this.Y/=b;this.X/=c}round(){this.Y=Math.round(this.Y);this.X=Math.round(this.X)}floor(){this.Y=Math.floor(this.Y);this.X=Math.floor(this.X)}ceil(){this.Y=Math.ceil(this.Y);
this.X=Math.ceil(this.X)}angle(){return d.uh(0,0,this.Y,this.X)}cma(){return this.Y*this.Y+this.X*this.X}length(){return Math.sqrt(this.cma())}zma(b,c){const f=this.Y*c-this.X*b;this.X=this.X*c+this.Y*b;this.Y=f}rotate(b){0!==b&&this.zma(Math.sin(b),Math.cos(b))}move(b,c){0!==c&&(this.Y+=Math.cos(b)*c,this.X+=Math.sin(b)*c)}normalize(){const b=this.length();0!==b&&1!==b&&(this.Y/=b,this.X/=b)}ba(b,c){this.Y=d.ba(this.Y,b,c);this.X=d.ba(this.X,b,c)}}}"use strict";
{const d=self.B;d.Rect=class{constructor(b,c,f,a){this.U=this.V=this.O=this.P=0;b instanceof d.Rect?this.Ga(b):this.set(b||0,c||0,f||0,a||0)}set(b,c,f,a){this.P=+b;this.O=+c;this.V=+f;this.U=+a}Rg(b,c,f,a){b=+b;c=+c;this.P=b;this.O=c;this.V=b+ +f;this.U=c+ +a}Ga(b){this.P=+b.P;this.O=+b.O;this.V=+b.V;this.U=+b.U}clone(){return new d.Rect(this.P,this.O,this.V,this.U)}jd(b){return this.P===b.P&&this.O===b.O&&this.V===b.V&&this.U===b.U}n0(b){this.V=+b}Cma(b){this.U=+b}toArray(){return[this.P,this.O,
this.V,this.U]}Kma(){new DOMRect(this.P,this.O,this.width(),this.height())}Ug(b,c){b[c++]=this.P;b[c++]=this.O;b[c++]=this.V;b[c]=this.U}Tma(b,c){b[c++]=this.P;b[c++]=this.O;b[c++]=this.V;b[c++]=this.O;b[c++]=this.V;b[c++]=this.U;b[c++]=this.P;b[c]=this.U}width(){return this.V-this.P}height(){return this.U-this.O}so(){return(this.P+this.V)/2}uo(){return(this.O+this.U)/2}offset(b,c){b=+b;c=+c;this.P+=b;this.O+=c;this.V+=b;this.U+=c}offsetLeft(b){this.P+=+b}offsetTop(b){this.O+=+b}oma(b){this.V+=+b}nma(b){this.U+=
+b}tH(b,c){b=+b;c=+c;this.P-=b;this.O-=c;this.V+=b;this.U+=c}multiply(b,c){this.P*=b;this.O*=c;this.V*=b;this.U*=c}Sk(b,c){this.P/=b;this.O/=c;this.V/=b;this.U/=c}Ima(){const b=this.P;this.P=this.V;this.V=b}lt(){const b=this.O;this.O=this.U;this.U=b}kQ(b){const c=this.O;this.O=+b-this.U;this.U=+b-c}round(){this.P=Math.round(this.P);this.O=Math.round(this.O);this.V=Math.round(this.V);this.U=Math.round(this.U)}Ama(){this.P=Math.floor(this.P);this.O=Math.floor(this.O);this.V=Math.ceil(this.V);this.U=
Math.ceil(this.U)}floor(){this.P=Math.floor(this.P);this.O=Math.floor(this.O);this.V=Math.floor(this.V);this.U=Math.floor(this.U)}ceil(){this.P=Math.ceil(this.P);this.O=Math.ceil(this.O);this.V=Math.ceil(this.V);this.U=Math.ceil(this.U)}ba(b,c,f,a){this.P<b&&(this.P=+b);this.O<c&&(this.O=+c);this.V>f&&(this.V=+f);this.U>a&&(this.U=+a)}I_(){0>this.P&&(this.P=0);1<this.O&&(this.O=1);1<this.V&&(this.V=1);0>this.U&&(this.U=0)}normalize(){this.P>this.V&&this.Ima();this.O>this.U&&this.lt()}eB(b){return!(b.V<
this.P||b.U<this.O||b.P>this.V||b.O>this.U)}Mla(b,c,f){return!(b.V+c<this.P||b.U+f<this.O||b.P+c>this.V||b.O+f>this.U)}tg(b,c){return b>=this.P&&b<=this.V&&c>=this.O&&c<=this.U}wla(b){b.P<this.P&&(this.P=+b.P);b.O<this.O&&(this.O=+b.O);b.V>this.V&&(this.V=+b.V);b.U>this.U&&(this.U=+b.U)}dma(b){this.P=d.le(b.P,b.V,this.P);this.O=d.le(b.O,b.U,this.O);this.V=d.le(b.P,b.V,this.V);this.U=d.le(b.O,b.U,this.U)}}}"use strict";
{const d=self.B;d.Td=class{constructor(b,c,f,a,e,h,g,m){this.Jc=this.Ic=this.Vc=this.Uc=this.Pc=this.Oc=this.kc=this.jc=0;b instanceof d.Td?this.Ga(b):this.set(b||0,c||0,f||0,a||0,e||0,h||0,g||0,m||0)}set(b,c,f,a,e,h,g,m){this.jc=+b;this.kc=+c;this.Oc=+f;this.Pc=+a;this.Uc=+e;this.Vc=+h;this.Ic=+g;this.Jc=+m}m0(b,c,f,a){this.set(b,c,f,c,f,a,b,a)}Ga(b){this.jc=b.jc;this.kc=b.kc;this.Oc=b.Oc;this.Pc=b.Pc;this.Uc=b.Uc;this.Vc=b.Vc;this.Ic=b.Ic;this.Jc=b.Jc}jd(b){return this.jc===b.jc&&this.kc===b.kc&&
this.Oc===b.Oc&&this.Pc===b.Pc&&this.Uc===b.Uc&&this.Vc===b.Vc&&this.Ic===b.Ic&&this.Jc===b.Jc}toArray(){return[this.jc,this.kc,this.Oc,this.Pc,this.Uc,this.Vc,this.Ic,this.Jc]}Ug(b,c){b[c++]=this.jc;b[c++]=this.kc;b[c++]=this.Oc;b[c++]=this.Pc;b[c++]=this.Uc;b[c++]=this.Vc;b[c++]=this.Ic;b[c]=this.Jc}Uma(b,c,f){b[c++]=this.jc;b[c++]=this.kc;b[c++]=f;b[c++]=this.Oc;b[c++]=this.Pc;b[c++]=f;b[c++]=this.Uc;b[c++]=this.Vc;b[c++]=f;b[c++]=this.Ic;b[c++]=this.Jc;b[c]=f}offset(b,c){b=+b;c=+c;this.jc+=b;
this.kc+=c;this.Oc+=b;this.Pc+=c;this.Uc+=b;this.Vc+=c;this.Ic+=b;this.Jc+=c}round(){this.jc=Math.round(this.jc);this.kc=Math.round(this.kc);this.Oc=Math.round(this.Oc);this.Pc=Math.round(this.Pc);this.Uc=Math.round(this.Uc);this.Vc=Math.round(this.Vc);this.Ic=Math.round(this.Ic);this.Jc=Math.round(this.Jc)}floor(){this.jc=Math.floor(this.jc);this.kc=Math.floor(this.kc);this.Oc=Math.floor(this.Oc);this.Pc=Math.floor(this.Pc);this.Uc=Math.floor(this.Uc);this.Vc=Math.floor(this.Vc);this.Ic=Math.floor(this.Ic);
this.Jc=Math.floor(this.Jc)}ceil(){this.jc=Math.ceil(this.jc);this.kc=Math.ceil(this.kc);this.Oc=Math.ceil(this.Oc);this.Pc=Math.ceil(this.Pc);this.Uc=Math.ceil(this.Uc);this.Vc=Math.ceil(this.Vc);this.Ic=Math.ceil(this.Ic);this.Jc=Math.ceil(this.Jc)}wj(b){this.jc=b.P;this.kc=b.O;this.Oc=b.V;this.Pc=b.O;this.Uc=b.V;this.Vc=b.U;this.Ic=b.P;this.Jc=b.U}iQ(b,c){0===c?this.wj(b):this.GH(b,Math.sin(c),Math.cos(c))}GH(b,c,f){const a=b.P*c,e=b.O*c,h=b.V*c;c*=b.U;const g=b.P*f,m=b.O*f,q=b.V*f;b=b.U*f;this.jc=
g-e;this.kc=m+a;this.Oc=q-e;this.Pc=m+h;this.Uc=q-c;this.Vc=b+h;this.Ic=g-c;this.Jc=b+a}GP(b){b.set(Math.min(this.jc,this.Oc,this.Uc,this.Ic),Math.min(this.kc,this.Pc,this.Vc,this.Jc),Math.max(this.jc,this.Oc,this.Uc,this.Ic),Math.max(this.kc,this.Pc,this.Vc,this.Jc))}tg(b,c){var f=this.Oc-this.jc,a=this.Pc-this.kc;const e=this.Uc-this.jc,h=this.Vc-this.kc;b-=this.jc;c-=this.kc;var g=f*f+a*a;let m=f*e+a*h;a=f*b+a*c;const q=e*e+h*h,l=e*b+h*c;let r=1/(g*q-m*m);f=(q*a-m*l)*r;g=(g*l-m*a)*r;if(0<=f&&0<
g&&1>f+g)return!0;f=this.Ic-this.jc;a=this.Jc-this.kc;g=f*f+a*a;m=f*e+a*h;a=f*b+a*c;r=1/(g*q-m*m);f=(q*a-m*l)*r;g=(g*l-m*a)*r;return 0<=f&&0<g&&1>f+g}so(){return(this.jc+this.Oc+this.Uc+this.Ic)/4}uo(){return(this.kc+this.Pc+this.Vc+this.Jc)/4}V_(b){var c=b.so(),f=b.uo();if(this.tg(c,f))return!0;c=this.so();f=this.uo();if(b.tg(c,f))return!0;c=this.jc;f=this.kc;const a=this.Oc,e=this.Pc,h=this.Uc,g=this.Vc,m=this.Ic,q=this.Jc;return d.FH(c,f,a,e,b)||d.FH(a,e,h,g,b)||d.FH(h,g,m,q,b)||d.FH(m,q,c,f,b)}PP(){this.Xl(0,
2);this.Xl(1,3);this.Xl(6,4);this.Xl(7,5)}zP(){this.Xl(0,6);this.Xl(1,7);this.Xl(2,4);this.Xl(3,5)}wP(){this.Xl(2,6);this.Xl(3,7)}Xl(b,c){const f=this.mY(b);this.a_(b,this.mY(c));this.a_(c,f)}mY(b){switch(b){case 0:return this.jc;case 1:return this.kc;case 2:return this.Oc;case 3:return this.Pc;case 4:return this.Uc;case 5:return this.Vc;case 6:return this.Ic;case 7:return this.Jc;default:throw new RangeError("invalid quad point index");}}a_(b,c){c=+c;switch(b){case 0:this.jc=c;break;case 1:this.kc=
c;break;case 2:this.Oc=c;break;case 3:this.Pc=c;break;case 4:this.Uc=c;break;case 5:this.Vc=c;break;case 6:this.Ic=c;break;case 7:this.Jc=c;break;default:throw new RangeError("invalid quad point index");}}}}"use strict";
{const d=self.B,b=[0,0,1,0,1,1,0,1],c=d.D(d.Td);d.Iq=class extends d.ua{constructor(f,a=!0){super();f||(f=b);this.je=Float64Array.from(f);this.qp=new d.Rect;this.Jl=!0;this.bi=a}j(){}h0(){return this.je.length/2}HH(f){this.je.length===f.length?this.je.set(f):this.je=Float64Array.from(f);this.Jl=!0}Dma(){this.HH(b)}Ga(f){this.HH(f.je)}k0(){this.Jl=!0}Mka(){if(this.Jl){var f=this.je,a=f[0],e=f[1],h=a,g=e;for(let m=0,q=f.length;m<q;m+=2){const l=f[m],r=f[m+1];l<a&&(a=l);l>h&&(h=l);r<e&&(e=r);r>g&&(g=
r)}this.qp.set(a,e,h,g);this.Jl=!1}}wj(f){let a=this.je;8!==a.length&&(this.je=a=new Float64Array(8));a[0]=f.P-NaN;a[1]=f.O-NaN;a[2]=f.V-NaN;a[3]=f.O-NaN;a[4]=f.V-NaN;a[5]=f.U-NaN;a[6]=f.P-NaN;a[7]=f.U-NaN;this.qp.Ga(f);this.qp.offset(NaN,NaN);this.Jl=!1}hQ(f,a,e){c.Ga(f);c.offset(a,e);this.HH(c.toArray());this.Jl=!0}transform(f,a,e){let h=0,g=1;0!==e&&(h=Math.sin(e),g=Math.cos(e));this.qQ(f,a,h,g)}qQ(f,a,e,h){const g=this.je;for(let m=0,q=g.length;m<q;m+=2){const l=m+1,r=g[m]*f,p=g[l]*a;g[m]=r*h-
p*e;g[l]=p*h+r*e}this.Jl=!0}offset(f,a){const e=this.je;for(let h=0,g=e.length;h<g;h+=2)e[h]+=f,e[h+1]+=a}tg(f,a){const e=this.je;if(f===e[0]&&a===e[1])return!0;this.Mka();var h=this.qp;const g=h.P-110,m=h.O-101,q=h.V+131;h=h.U+120;let l,r,p,t,v,y,z,C;g<f?(l=g,p=f):(l=f,p=g);m<a?(r=m,t=a):(r=a,t=m);q<f?(v=q,z=f):(v=f,z=q);h<a?(y=h,C=a):(y=a,C=h);let w=0,E=0;for(let M=0,N=e.length;M<N;M+=2){var H=(M+2)%N;const Q=e[M],T=e[M+1],Z=e[H];H=e[H+1];d.xo(g,m,f,a,l,p,r,t,Q,T,Z,H)&&++w;d.xo(q,h,f,a,v,z,y,C,
Q,T,Z,H)&&++E}return 1===w%2||1===E%2}dB(f,a,e){const h=f.je,g=this.je;if(this.tg(h[0]+a,h[1]+e)||f.tg(g[0]-a,g[1]-e))return!0;for(let q=0,l=g.length;q<l;q+=2){var m=(q+2)%l;f=g[q];const r=g[q+1],p=g[m];m=g[m+1];let t,v,y,z;f<p?(t=f,y=p):(t=p,y=f);r<m?(v=r,z=m):(v=m,z=r);for(let C=0,w=h.length;C<w;C+=2){const E=(C+2)%w;if(d.xo(f,r,p,m,t,y,v,z,h[C]+a,h[C+1]+e,h[E]+a,h[E+1]+e))return!0}}return!1}PP(f){const a=this.je;for(let e=0,h=a.length;e<h;e+=2)a[e]=2*f-a[e];this.Jl=!0}zP(f){const a=this.je;for(let e=
0,h=a.length;e<h;e+=2){const g=e+1;a[g]=2*f-a[g]}this.Jl=!0}wP(){const f=this.je;for(let a=0,e=f.length;a<e;a+=2){const h=a+1,g=f[a];f[a]=f[h];f[h]=g}this.Jl=!0}Cd(){return this.bi}}}"use strict";
{const d=self.B;d.Ex=class extends d.ua{constructor(b){super();this.Fl=new Map;if(b)for(const [c,f,a]of b)this.Set(c,f,a)}j(){this.Bd();this.Fl=null}Bd(){const b=this.Fl;for(const c of b.values())c.clear();b.clear()}Set(b,c,f){const a=this.Fl;let e=a.get(b);e||(e=new Map,a.set(b,e));e.set(c,f)}ja(b,c){return(b=this.Fl.get(b))?b.get(c):b}vC(b){return(b=this.Fl.get(b))?b.has(void 0):!1}Jq(b,c){const f=this.Fl,a=f.get(b);a&&a.delete(c)&&0===a.size&&f.delete(b)}YQ(b){const c=this.Fl,f=c.get(b);f&&(f.clear(),
c.delete(b));for(const [a,e]of c.entries())e.delete(b)&&0===e.size&&c.delete(a)}Jj(){let b=0;for(const c of this.Fl.values())b+=c.size;return b}*values(){for(const b of this.Fl.values())yield*b.values()}*entries(){for(const [b,c]of this.Fl.entries())for(const [f,a]of c.entries())yield[b,f,a]}}}"use strict";
{const d=self.B;d.TH=class extends d.ua{constructor(){super();this.$p=new Set;this.rE=[];this.aA=!1}j(){this.Bd()}Bd(){this.$p.clear();d.H(this.rE);this.aA=!1}Qc(b){this.$p.has(b)||(this.$p.add(b),this.aA||this.rE.push(b))}vC(b){return this.$p.has(b)}Jq(b){this.$p.delete(b)&&(this.aA=!0)}Jj(){return this.$p.size}Yq(){return 0===this.$p.size}pI(){this.aA&&(this.Sga(),this.aA=!1);return this.rE}Sga(){const b=this.rE;d.H(b);for(const c of this.$p)b.push(c)}}}"use strict";
{const d=new Map,b=new Map,c=new Map,f=new Map,a=new Map,e=new Map;e.set("linear","noease");e.set("default","noease");self.Rw=class h{constructor(){}static R6(g){this.NK();return[...b.keys()].includes(g)}static jea(g){const m=e.get(g);if(m)return d.get(m);if(h.R6(g))return d.get(g);if(a.has(g))return a.get(g)}static Pq(g){this.NK();const m=h.jea(g);return m?m:f.get(g)}static NK(){0===d.size&&(this.Zb("default",()=>{}),this.Zb("noease",this.N7),this.Zb("easeinsine",this.e3),this.Zb("easeoutsine",this.n3),
this.Zb("easeinoutsine",this.Z2),this.Zb("easeinelastic",this.O2),this.Zb("easeoutelastic",this.i3),this.Zb("easeinoutelastic",this.U2),this.Zb("easeinback",this.L2),this.Zb("easeoutback",this.f3),this.Zb("easeinoutback",this.Q2),this.Zb("easeinbounce",this.$Q),this.Zb("easeoutbounce",this.jI),this.Zb("easeinoutbounce",this.R2),this.Zb("easeincubic",this.N2),this.Zb("easeoutcubic",this.h3),this.Zb("easeinoutcubic",this.T2),this.Zb("easeinquad",this.a3),this.Zb("easeoutquad",this.k3),this.Zb("easeinoutquad",
this.W2),this.Zb("easeinquart",this.b3),this.Zb("easeoutquart",this.l3),this.Zb("easeinoutquart",this.X2),this.Zb("easeinquint",this.d3),this.Zb("easeoutquint",this.m3),this.Zb("easeinoutquint",this.Y2),this.Zb("easeincirc",this.M2),this.Zb("easeoutcirc",this.g3),this.Zb("easeinoutcirc",this.S2),this.Zb("easeinexpo",this.P2),this.Zb("easeoutexpo",this.j3),this.Zb("easeinoutexpo",this.V2),this.RU("cubicbezier",this.K2),this.RU("spline",this.o3))}static Zb(g,m){h.IK(g,m,"predefined")}static RU(g,m){h.IK(g,
m,"private")}static F0(g,m){this.NK();h.IK(g,m,"custom",void 0)}static IK(g,m,q,l){switch(q){case "predefined":d.set(g,m);b.set(g,m);break;case "custom":l?(c.has(l)||c.set(l,new Map),c.get(l).set(g,m)):f.set(g,m);break;case "private":d.set(g,m);a.set(g,m);break;default:throw Error("unexpected ease mode");}}static N7(g,m,q,l){return q*g/l+m}static a3(g,m,q,l){return q*(g/=l)*g+m}static k3(g,m,q,l){return-q*(g/=l)*(g-2)+m}static W2(g,m,q,l){return 1>(g/=l/2)?q/2*g*g+m:-q/2*(--g*(g-2)-1)+m}static N2(g,
m,q,l){return q*(g/=l)*g*g+m}static h3(g,m,q,l){return q*((g=g/l-1)*g*g+1)+m}static T2(g,m,q,l){return 1>(g/=l/2)?q/2*g*g*g+m:q/2*((g-=2)*g*g+2)+m}static b3(g,m,q,l){return q*(g/=l)*g*g*g+m}static l3(g,m,q,l){return-q*((g=g/l-1)*g*g*g-1)+m}static X2(g,m,q,l){return 1>(g/=l/2)?q/2*g*g*g*g+m:-q/2*((g-=2)*g*g*g-2)+m}static d3(g,m,q,l){return q*(g/=l)*g*g*g*g+m}static m3(g,m,q,l){return q*((g=g/l-1)*g*g*g*g+1)+m}static Y2(g,m,q,l){return 1>(g/=l/2)?q/2*g*g*g*g*g+m:q/2*((g-=2)*g*g*g*g+2)+m}static e3(g,
m,q,l){return-q*Math.cos(g/l*(Math.PI/2))+q+m}static n3(g,m,q,l){return q*Math.sin(g/l*(Math.PI/2))+m}static Z2(g,m,q,l){return-q/2*(Math.cos(Math.PI*g/l)-1)+m}static P2(g,m,q,l){return 0===g?m:q*Math.pow(2,10*(g/l-1))+m}static j3(g,m,q,l){return g===l?m+q:q*(-Math.pow(2,-10*g/l)+1)+m}static V2(g,m,q,l){return 0===g?m:g===l?m+q:1>(g/=l/2)?q/2*Math.pow(2,10*(g-1))+m:q/2*(-Math.pow(2,-10*--g)+2)+m}static M2(g,m,q,l){return-q*(Math.sqrt(1-(g/=l)*g)-1)+m}static g3(g,m,q,l){return q*Math.sqrt(1-(g=g/l-
1)*g)+m}static S2(g,m,q,l){return 1>(g/=l/2)?-q/2*(Math.sqrt(1-g*g)-1)+m:q/2*(Math.sqrt(1-(g-=2)*g)+1)+m}static O2(g,m,q,l){let r=0,p=q;if(0===g)return m;if(1===(g/=l))return m+q;r||(r=.3*l);p<Math.abs(q)?(p=q,q=r/4):q=r/(2*Math.PI)*Math.asin(q/p);return-(p*Math.pow(2,10*--g)*Math.sin(2*(g*l-q)*Math.PI/r))+m}static i3(g,m,q,l){let r,p=0,t=q;if(0===g)return m;if(1===(g/=l))return m+q;p||(p=.3*l);t<Math.abs(q)?(t=q,r=p/4):r=p/(2*Math.PI)*Math.asin(q/t);return t*Math.pow(2,-10*g)*Math.sin(2*(g*l-r)*
Math.PI/p)+q+m}static U2(g,m,q,l){let r,p=0,t=q;if(0===g)return m;if(2===(g/=l/2))return m+q;p||(p=.3*l*1.5);t<Math.abs(q)?(t=q,r=p/4):r=p/(2*Math.PI)*Math.asin(q/t);return 1>g?-.5*t*Math.pow(2,10*--g)*Math.sin(2*(g*l-r)*Math.PI/p)+m:t*Math.pow(2,-10*--g)*Math.sin(2*(g*l-r)*Math.PI/p)*.5+q+m}static L2(g,m,q,l,r){void 0===r&&(r=1.70158);return q*(g/=l)*g*((r+1)*g-r)+m}static f3(g,m,q,l,r){void 0===r&&(r=1.70158);return q*((g=g/l-1)*g*((r+1)*g+r)+1)+m}static Q2(g,m,q,l,r){void 0===r&&(r=1.70158);return 1>
(g/=l/2)?q/2*g*g*(((r*=1.525)+1)*g-r)+m:q/2*((g-=2)*g*(((r*=1.525)+1)*g+r)+2)+m}static $Q(g,m,q,l){return q-h.jI(l-g,0,q,l)+m}static jI(g,m,q,l){return(g/=l)<1/2.75?7.5625*q*g*g+m:g<2/2.75?q*(7.5625*(g-=1.5/2.75)*g+.75)+m:g<2.5/2.75?q*(7.5625*(g-=2.25/2.75)*g+.9375)+m:q*(7.5625*(g-=2.625/2.75)*g+.984375)+m}static R2(g,m,q,l){return g<l/2?.5*h.$Q(2*g,0,q,l)+m:.5*h.jI(2*g-l,0,q,l)+.5*q+m}static K2(g,m,q,l,r){return m+3*g*(q-m)+3*g**2*(m+l-2*q)+g**3*(r-m+3*q-3*l)}static o3(g,m,q,l,r,p,t,v,y,z){if(l===
r&&p===t)return g;if(1==g)g=1;else{for(var C=0,w=1,E=z[w];10!=w&&E<=g;)w++,E=z[w],C+=.1;w--;E=z[w];z=C+(g-E)/(z[w+1]-E)*.1;v=v-3*p+3*l-m;p=3*p-6*l+3*m;m=3*(l-m);l=3*v*z*z+2*p*z+m;if(0!==l)if(.02<=l)for(C=0;4>C;++C)z-=(((v*z+p)*z+m)*z-g)/(3*v*z*z+2*p*z+m);else{l=C;C+=.1;w=0;let H;do z=l+(C-l)/2,E=((v*z+p)*z+m)*z-g,0<E?C=z:l=z,E=1E-7<Math.abs(E),H=10>++w;while(E&&H)}g=z}return(((y-3*t+3*r-q)*g+(3*t-6*r+3*q))*g+3*(r-q))*g}static O3(g,m,q,l){const r=[];l=l-3*q+3*m-g;q=3*q-6*m+3*g;g=3*(m-g);for(let p=
0;11>p;++p)m=.1*p,r.push(((l*m+q)*m+g)*m);return r}}}"use strict";{const d=self.B;d.Eua=class{constructor(){this.WY=[]}j(){this.Bd();this.WY=null}Bd(){d.hla(this.WY)}}}"use strict";
self.B.Event=class{constructor(d,b){this.type=d;this.cancelable=!!b;this.Ola=this.aQ=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Ola)throw Error(`cannot stop async event '${this.type}' propagation`);this.aQ=!0}};"use strict";
{const d=self.B;d.Event.h5=class extends d.ua{constructor(b){super();this.La=b;this.Hg=[];this.Ju=new Set;this.Kg=[];this.Bv=new Set;this.gz=0;this.hA=[];this.Ov=[];this.Pv=[]}j(){0<this.gz||(d.H(this.Hg),this.Ju.clear(),d.H(this.Kg),this.Bv.clear(),d.H(this.hA),d.H(this.Ov),d.H(this.Pv),d.j(this))}PU(b,c){this.TV()?this.hA.push([b,c]):c?this.Ju.has(b)||(this.Hg.push(b),this.Ju.add(b)):this.Bv.has(b)||(this.Kg.push(b),this.Bv.add(b))}fha(b,c){this.TV()?c?this.Ov.push(b):this.Pv.push(b):c?this.Ju.has(b)&&
(this.Ju.delete(b),d.$s(this.Hg,b)):this.Bv.has(b)&&(this.Bv.delete(b),d.$s(this.Kg,b))}$ea(){return!this.Hg.length&&!this.Kg.length}TV(){return 0<this.gz}Pga(){for(var b of this.hA)this.PU(...b);d.H(this.hA);for(const c of this.Pv)this.Bv.delete(c);for(const c of this.Ov)this.Ju.delete(c);b=new Set(this.Ov);d.si(this.Kg,new Set(this.Pv));d.si(this.Hg,b);d.H(this.Ov);d.H(this.Pv)}Xda(b){this.vu();let c=!1;for(let f=0,a=this.Hg.length;f<a;++f)if(this.Hg[f](b),b.aQ){c=!0;break}if(!c)for(let f=0,a=this.Kg.length;f<
a&&(this.Kg[f](b),!b.aQ);++f);this.uu();return!b.defaultPrevented}Zda(b){this.vu();for(let c=0,f=this.Hg.length;c<f;++c)this.Hg[c](b);for(let c=0,f=this.Kg.length;c<f;++c)this.Kg[c](b);this.uu();return!0}vu(){this.gz++}uu(){this.gz--;0===this.gz&&(this.hA.length||this.Ov.length||this.Pv.length)&&this.Pga()}cu(b){b?this.vu():this.uu()}qV(b){const c=[];this.vu();for(let a=0,e=this.Hg.length;a<e;++a){var f=this.Hg[a](b);f instanceof Promise&&c.push(f)}for(let a=0,e=this.Kg.length;a<e;++a)f=this.Kg[a](b),
f instanceof Promise&&c.push(f);this.uu();return c.length?Promise.all(c).then(()=>!b.defaultPrevented):!b.defaultPrevented}async Uda(b){return await this.qV(b)}async Vda(b){this.vu();for(let f=0,a=this.Hg.length;f<a;++f){var c=this.Hg[f](b);c instanceof Promise&&await c}for(let f=0,a=this.Kg.length;f<a;++f)c=this.Kg[f](b),c instanceof Promise&&await c;this.uu();return!b.defaultPrevented}*Wda(b){this.vu();for(let f=0,a=this.Hg.length;f<a;++f){var c=this.Hg[f](b);d.Po(c)&&(yield*c)}for(let f=0,a=this.Kg.length;f<
a;++f)c=this.Kg[f](b),d.Po(c)&&(yield*c);this.uu()}}}"use strict";
{const d=self.B;d.Event.Eb=class extends d.ua{constructor(){super();this.Sr=new Map;this.yM=!1}j(){if(this.yM)throw Error("already released");this.w1();this.yM=!0;d.j(this)}hp(){return this.yM}w1(){for(let b of this.Sr.values())b.j();this.Sr.clear()}nr(b,c){let f=this.Sr.get(b);return f?f:c?(f=d.D(d.Event.h5,b),this.Sr.set(b,f),f):null}aJ(b){return this.Sr.has(b)}addEventListener(b,c,f){this.nr(b,!0).PU(c,!!f)}removeEventListener(b,c,f){let a=this.nr(b,!1);a&&(a.fha(c,!!f),a.$ea()&&this.Sr.delete(b))}dispatchEvent(b){const c=
this.nr(b.type,!1);return c?b.cancelable?c.Xda(b):c.Zda(b):!0}async xP(b){const c=this.nr(b.type,!1);return c?await c.Uda(b):!0}rla(b){const c=this.nr(b.type,!1);return c?c.qV(b):!0}async qla(b){const c=this.nr(b.type,!1);c&&await c.Vda(b)}sla(b){const c=this.nr(b.type,!1);if(!c)return null;if(b.cancelable)throw Error("not supported");return c.Wda(b)}cu(b){for(const c of this.Sr.values())c.cu(b)}}}"use strict";
{const d=self.B,b="undefined"!==typeof requestIdleCallback;let c=[],f=-1,a=0;function e(q){f=b&&0===a?requestIdleCallback(h,{timeout:35}):setTimeout(h,0<a?1:q)}function h(q){f=-1;if(c.length){var l=performance.now(),r=0;do{g(c.shift());var p=performance.now();++r;var t=(p-l)/r*1.1}while(c.length&&(b&&0===a&&"undefined"!==typeof q?t<q.timeRemaining():12>p-l+t));-1===f&&c.length&&e(Math.max(16-(p-l),4))}}function g(q){let l;try{l=q.FP()}catch(r){q.reject(r);return}q.resolve(l)}let m=d.LJ.vC("disable-asyncify");
m&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.rm=function(q){let l=null;d.uw&&(l=d.YB());return new Promise((r,p)=>{c.push({FP:q,resolve:r,reject:p,stack:l});m?g(c.pop()):-1===f&&e(16)})};d.rm.TT=function(q){if(q)++a;else if(--a,0>a)throw Error("already turned off high throughput mode");}}"use strict";
{const d=self.B;let b=-1;function c(){b=-1}d.SB=function(){-1===b&&(b=Date.now(),self.setTimeout(c,16));return b};let f=-1,a=-1,e=new Set;function h(){a=f=-1;let g=Date.now();for(let m of e)if(m.zca(g)){let q=m.Or;if(-1===a||q<a)a=q}else e.delete(m);-1!==a&&(f=self.setTimeout(h,Math.max(a-g+100,1E3)))}d.O5=class{constructor(g,m){this.Iu=g;this.mj=1E3*m;this.Or=0;this.Nb=!1}nd(){let g=d.SB();this.Or=g+this.mj;this.Nb||(e.add(this),this.Nb=!0);-1===f?(a=this.Or,f=self.setTimeout(h,this.mj+100)):this.Or<
a&&a>g+1E3&&(self.clearTimeout(f),a=this.Or,f=self.setTimeout(h,this.mj+100))}zca(g){return g>=this.Or?this.Iu()?(this.Or=g+this.mj,!0):this.Nb=!1:!0}YH(){this.Nb&&(e.delete(this),this.Nb=!1,0===e.size&&-1!==f&&(self.clearTimeout(f),a=f=-1))}j(){this.YH();this.Iu=null}}}"use strict";
{const d=self.B;d.Pb=class b{constructor(c){this.Yu=!1;this.AM=c}PB(){this.Yu||(this.Yu=!0,this.AM&&(this.AM(),this.AM=null))}j(){this.PB()}static j(c){return new b(()=>c.j())}static mc(c,f,a){if("undefined"===typeof e||null===e)var e=!1;else if("boolean"!==typeof e&&"object"!==typeof e)throw new TypeError("invalid event listener options");if(f.includes(" ")){f=f.split(" ");const h=new d.Uk;for(let g of f)c.addEventListener(g,a,e),h.Qc(d.D(d.Pb,()=>c.removeEventListener(g,a,e)));return h}c.addEventListener(f,
a,e);return d.D(d.Pb,()=>c.removeEventListener(f,a,e))}};d.Iya=class extends d.Pb{};d.Uk=class extends d.Pb{constructor(...b){super();this.ge=new Set;for(let c of b)this.Qc(c)}Qc(...b){if(this.Yu)throw Error("already disposed");for(let c of b)this.ge.add(c)}Ei(b){if(this.Yu)throw Error("already disposed");this.ge.delete(b)}PB(){if(this.Yu)throw Error("already disposed");this.Yu=!0;for(let b of this.ge)b.PB();this.ge.clear();this.ge=null}j(){this.PB()}}}"use strict";
{const d=self.B;d.zx=class extends d.ua{constructor(){super();this.Yv=this.DA=this.X=this.AE=0}Qc(b){this.X=+b-this.AE;this.DA=this.Yv+this.X;this.AE=this.DA-this.Yv-this.X;this.Yv=this.DA}ja(){return this.Yv}nd(){this.Yv=this.DA=this.X=this.AE=0}Set(b){this.DA=this.X=this.AE=0;this.Yv=+b}j(){}}}"use strict";
{const d=self.B,b={NJ:function(c){this.v0=c;this.left=this.right=this.v0.Ib;this.parent=null;this.color=!1;this.key=null},br:function(c){this.size=0;this.Ib=new b.NJ(this);this.Ib.color=!1;this.root=this.Ib;this.root.parent=this.Ib;this.compare=c||this.nla}};wa=b.br.prototype;wa.nla=function(c,f){return c<f?-1:f<c?1:0};wa.clone=function(){var c=new b.br(this.compare);c.Jla(this);return c};wa.clear=function(){this.size=0;this.Ib=new b.NJ(this);this.Ib.color=!1;this.root=this.Ib;this.root.parent=this.Ib};
wa.gB=function(c){var f=c.right;c.right=f.left;f.left!=this.Ib&&(f.left.parent=c);f.parent=c.parent;c.parent==this.Ib?this.root=f:c==c.parent.left?c.parent.left=f:c.parent.right=f;f.left=c;c.parent=f};wa.oB=function(c){var f=c.left;c.left=f.right;f.right!=this.Ib&&(f.right.parent=c);f.parent=c.parent;c.parent==this.Ib?this.root=f:c==c.parent.right?c.parent.right=f:c.parent.left=f;f.right=c;c.parent=f};wa.qw=function(c){if(this.contains(c))this.bB(c).key=c;else{var f=new b.NJ(this);f.key=c;c=this.Ib;
for(var a=this.root;a!=this.Ib;)c=a,a=0>this.compare(f.key,a.key)?a.left:a.right;f.parent=c;c==this.Ib?this.root=f:0>this.compare(f.key,c.key)?c.left=f:c.right=f;f.left=this.Ib;f.right=this.Ib;f.color=!0;this.Kla(f);this.size++}};wa.Kla=function(c){for(;c!=this.Ib&&c!=this.root&&1==c.parent.color;)if(c.parent==c.parent.parent.left){var f=c.parent.parent.right;1==f.color?(c.parent.color=!1,f.color=!1,c.parent.parent.color=!0,c=c.parent.parent):(c==c.parent.right&&(c=c.parent,this.gB(c)),c.parent.color=
!1,c.parent.parent.color=!0,c.parent.parent!=this.Ib&&this.oB(c.parent.parent))}else f=c.parent.parent.left,1==f.color?(c.parent.color=!1,f.color=!1,c.parent.parent.color=!0,c=c.parent.parent):(c==c.parent.left&&(c=c.parent,this.oB(c)),c.parent.color=!1,c.parent.parent.color=!0,c.parent.parent!=this.Ib&&this.gB(c.parent.parent));this.root.color=!1};wa.pla=function(c){var f=c.left==this.Ib||c.right==this.Ib?c:this.Fq(c);var a=f.left!=this.Ib?f.left:f.right;a.parent=f.parent;f.parent==this.Ib?this.root=
a:f==f.parent.left?f.parent.left=a:f.parent.right=a;f!=c&&(c.key=f.key);0==f.color&&this.ola(a);this.size--};wa.ola=function(c){for(;c!=this.root&&0==c.color;)if(c==c.parent.left){var f=c.parent.right;1==f.color&&(f.color=!1,c.parent.color=!0,this.gB(c.parent),f=c.parent.right);0==f.left.color&&0==f.right.color?(f.color=!0,c=c.parent):(0==f.right.color&&(f.left.color=!1,f.color=!0,this.oB(f),f=c.parent.right),f.color=c.parent.color,c.parent.color=!1,f.right.color=!1,this.gB(c.parent),c=this.root)}else f=
c.parent.left,1==f.color&&(f.color=!1,c.parent.color=!0,this.oB(c.parent),f=c.parent.left),0==f.right.color&&0==f.left.color?(f.color=!0,c=c.parent):(0==f.left.color&&(f.right.color=!1,f.color=!0,this.gB(f),f=c.parent.left),f.color=c.parent.color,c.parent.color=!1,f.left.color=!1,this.oB(c.parent),c=this.root);c.color=!1};wa.remove=function(c){c=this.bB(c);if(c!=this.Ib){var f=c.key;this.pla(c);return f}return null};wa.min=function(c){for(;c.left!=this.Ib;)c=c.left;return c};wa.max=function(c){for(;c.right!=
this.Ib;)c=c.right;return c};wa.Fq=function(c){if(c.right!=this.Ib)return this.min(c.right);for(var f=c.parent;f!=this.Ib&&c==f.right;)c=f,f=f.parent;return f};wa.bB=function(c){for(var f=this.root;f!=this.Ib&&0!=this.compare(f.key,c);)f=0>this.compare(c,f.key)?f.left:f.right;return f};wa.contains=function(c){return null!=this.bB(c).key};wa.HP=function(){var c=[];this.forEach(function(f){c.push(f)});return c};wa.Jla=function(c){if("array"==b.rQ(c))for(var f=0;f<c.length;f++)this.qw(c[f]);else if("function"==
b.rQ(c.forEach))c.forEach(this.qw,this);else if("function"==b.rQ(c.HP))for(c=c.HP(),f=0;f<c.length;f++)this.qw(c[f]);else if("object"==b.rQ(c))for(f in c)this.qw(c[f])};wa.range=function(c,f){var a=[];this.Oma(function(e){a.push(e)},c,f);return a};wa.Oma=function(c,f,a){if(!this.vw())for(f=this.bB(f),a=this.bB(a);f!=a&&!c.call(void 0,f.key,this);)f=this.Fq(f)};wa.forEach=function(c,f){if(!this.vw())for(var a=this.min(this.root);a!=this.Ib;a=this.Fq(a))c.call(f,a.key,a.key,this)};wa.some=function(c,
f){if(this.vw())return!1;for(var a=this.min(this.root);a!=this.Ib;a=this.Fq(a))if(c.call(f,a.key,a.key,this))return!0;return!1};wa.every=function(c,f){if(this.vw())return!1;for(var a=this.min(this.root);a!=this.Ib;a=this.Fq(a))if(!c.call(f,a.key,a.key,this))return!1;return!0};wa.map=function(c,f){var a=[];if(this.vw())return a;for(var e=this.min(this.root);e!=this.Ib;e=this.Fq(e))a.push(c.call(f,e.key,e.key,this));return a};wa.filter=function(c,f){var a=[];if(this.vw())return a;for(var e=this.min(this.root);e!=
this.Ib;e=this.Fq(e))c.call(f,e.key,e.key,this)&&a.push(e.key);return a};wa.vw=function(){return 0==this.size};d.br=class extends d.ua{constructor(c){super();this.gj=new b.br(c);this.av=!1;this.Gs=new Set;this.Hs=new Set}Qc(c){this.av?this.gj.contains(c)?this.Hs.delete(c):this.Gs.add(c):this.gj.qw(c)}Ei(c){this.av?this.gj.contains(c)?this.Hs.add(c):this.Gs.delete(c):this.gj.remove(c)}vC(c){return this.av?this.Gs.has(c)?!0:!this.Hs.has(c)&&this.gj.contains(c):this.gj.contains(c)}Bd(){this.gj.clear();
this.Gs.clear();this.Hs.clear()}toArray(){if(this.av)throw Error("cannot be used in queueing mode");return this.gj.HP()}Jj(){return this.gj.size+this.Gs.size-this.Hs.size}Yq(){return 0===this.Jj()}Ji(c){c=!!c;if(this.av!==c&&(this.av=c,!c)){for(const f of this.Hs)this.gj.remove(f);this.Hs.clear();for(const f of this.Gs)this.gj.qw(f);this.Gs.clear()}}*values(){if(!this.Yq()){var c=this.gj;for(let f=c.min(c.root);f!=c.Ib;f=c.Fq(f))yield f.key}}[Symbol.iterator](){return this.values()}}}"use strict";
{const d=self.B;d.IJ=class{constructor(b=d.hardwareConcurrency){this.mka=b;this.uO=[];this.WL=0}Qc(b){return new Promise((c,f)=>{this.uO.push({FP:b,resolve:c,reject:f});this.jW()})}async jW(){if(this.uO.length&&!(this.WL>=this.mka)){this.WL++;var b=this.uO.shift();try{const c=await b.FP();b.resolve(c)}catch(c){b.reject(c)}this.WL--;this.jW()}}}}"use strict";
{const d=self.B;d.B9=class{constructor(b,c,f){this.Iu=b;this.Xja=c;this.Yja=f||2*c;this.fw=-1;this.RF=-Infinity;this.s_=()=>this.Bga();this.Hja=this.XM=!1;this.Wy=null}pea(){return"undefined"!==typeof d.e1&&d.e1.Hra()?this.Yja:this.Xja}n1(){var b=[];if(-1===this.fw){this.Wy=b;b=d.SB();var c=b-this.RF,f=this.pea();c>=f&&this.Hja?(this.RF=b,this.IW()):this.fw=self.setTimeout(this.s_,Math.max(f-c,4))}}IW(){this.XM=!0;const b=this.Wy;this.Wy=null;b?this.Iu(...b):this.Iu();this.XM=!1}nd(){this.XM||(this.VU(),
this.Wy=null,this.RF=d.SB())}Bga(){this.fw=-1;this.RF=d.SB();this.IW()}VU(){-1!==this.fw&&(self.clearTimeout(this.fw),this.fw=-1)}j(){this.VU();this.s_=this.Wy=this.Iu=null}}}"use strict";function Pb(d,b){if(!d.nY)throw Error("no get base size callback set");return d.nY(b)}function Qb(d){if(!d.PZ)throw Error("no redraw callback set");d.PZ()}self.B.dwa=class{constructor(){this.Uja=new Map;this.PZ=this.SZ=this.nY=null}};"use strict";
self.B.cwa=class{constructor(d,b){this.Gv=d;this.Kja=b;this.xd=0;Pb(this.Gv,b).then(()=>{Qb(this.Gv)}).catch(c=>{console.error("[SVG] Error loading SVG: ",c);Qb(this.Gv)});this.vO=null}j(){if(0>=this.xd)throw Error("already released");this.xd--;0===this.xd&&this.zy()}zy(){if(this.vO){var d=this.Gv;if(!d.SZ)throw Error("no release result callback set");d.SZ(this.vO);this.vO=null}this.Gv.Uja.delete(this.Kja);this.Gv=null}};"use strict";
{const d=self.B;d.gza="\ufeff";const b=new Set([..."0123456789"]);d.S6=function(q){return b.has(q)};const c=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.LC=function(q){return c.has(q)};d.Spa=function(q){return[...q].filter(l=>!d.LC(l)).join("")};d.KC=function(q){for(const l of q)if(!d.LC(l))return!1;return!0};d.g7=function(q){return 1===q.length&&32>q.charCodeAt(0)};d.B3=function(q){return[...q].filter(l=>
!d.g7(l)).join("")};const f=new Set([..."0123456789.+-e"]);d.Sra=function(q){q=q.trim();if(!q.length)return!1;let l=q.charAt(0);if("-"!==l&&!b.has(l))return!1;for(let r of q)if(!f.has(r))return!1;return!0};d.M9=function(q){let l=q.length;for(;0<l&&d.S6(q.charAt(l-1));)--l;return q.substr(0,l)};d.Sqa=function(q){let l=d.M9(q);q=(q=q.substr(l.length))?(parseInt(q,10)+1).toString():"2";return l+q};const a=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function e(q){return a.get(q)}
const h=/[&<>"']/g;d.r3=function(q){return q.replace(h,e)};d.Fpa=function(q){q=d.Oj(q,"\\","\\\\");q=d.Oj(q,'"','\\"');q=d.Oj(q,"\t","\\t");q=d.Oj(q,"\r","");return d.Oj(q,"\n","\\n")};d.Gpa=function(q){q=d.Oj(q,"&","&amp;");q=d.Oj(q,"<","&lt;");q=d.Oj(q,">","&gt;");return d.Oj(q,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.Sw=function(q){return q.replace(g,"\\$&")};d.Tpa=function(q,l,r=!1){if(!l)return[];r||(q=q.toLowerCase(),l=l.toLowerCase());r=l.length;var p=0;let t=[];for(;-1<(p=q.indexOf(l,
p));)t.push(p),p+=r;return t};d.Oj=function(q,l,r){return q.replaceAll(l,()=>r)};d.Zua=function(q,l,r){return q.replace(new RegExp(d.Sw(l),"gi"),()=>r)};d.Jwa=function(q,l){"string"===typeof l?q.textContent=l:l.SY?q.textContent=l.toString():(q.innerHTML=l.oQ(),l instanceof d.tm&&l.ala(q))};d.Dya=function(q,l){return q instanceof d.hJ||q instanceof d.tm?q.jd(l):l instanceof d.hJ||l instanceof d.tm?l.jd(q):q===l};d.Eya=function(q,...l){let r=q;for(let p=0,t=l.length;p<t;++p){const v=`{${p}}`;if(!q.includes(v))throw Error(`missing placeholder '${v}' in string substitution`);
r=r.replace(v,l[p].toString())}return r};d.Fya=function(q,...l){let r=q,p=-1,t=-1;for(let v=0,y=l.length;v<y;++v){const z=`{${v}}`;q.includes(z)?(t=v,r=r.replace(z,l[v].toString())):-1===p&&(p=v)}if(0<=p&&0<=t&&p<t)throw Error(`missing placeholder '${p}' in string substitution`);return r};d.Gya=function(q,l){for(let [r,p]of Object.entries(l))q=q.replaceAll(r,p.toString());return q};d.gya=function(q,l){q=q.toLowerCase();l=l.toLowerCase();return q>l?1:q<l?-1:0};d.Zpa=function(q,l){l="common."+(l?"dataRates":
"dataSizes")+".";const r=self.DBa;if(1024>q)return r(l+"bytes",q);if(1048576>q)return q/=1024,q=10>q?Math.round(10*q)/10:Math.round(q),r(l+"kilobytes",q);if(1073741824>q)return q/=1048576,q=10>q?Math.round(10*q)/10:Math.round(q),r(l+"megabytes",q);if(1099511627776>q)return q/=1073741824,q=10>q?Math.round(10*q)/10:Math.round(q),r(l+"gigabytes",q);q/=1099511627776;q=10>q?Math.round(10*q)/10:Math.round(q);return r(l+"terabytes",q)};const m={Yka:!1,kla:!0,Ila:!0,ima:!0,j0:!0};d.$pa=function(q,l){l=Object.assign({},
m,l);d.l7.Hua("common.time");const r=[],p=self.lang,t=self.CBa;if(l.kla){var v=Math.floor(q/86400);0<v&&(q-=86400*v,r.push(t(".days",null,v)))}l.Ila&&(v=Math.floor(q/3600),0<v||r.length)&&(q-=3600*v,r.push(t(".hours",null,v)));l.ima&&(v=Math.floor(q/60),0<v||r.length||!l.j0)&&(q-=60*v,r.push(t(".minutes",null,v)));l.j0&&r.push(t(".seconds",null,Math.floor(q%60)));q=(l.Yka?p(".approx-prefix"):"")+r.join(p(".separator"));d.l7.wua();return q};d.aAa=function(q,l){let r=0>q?"-":"";q=Math.abs(q);q=q.toString();
l-=q.length;for(let p=0;p<l;++p)r+="0";return r+q};d.Hya=function(q){return q.toLowerCase().replace(/\b\w/g,l=>l.toUpperCase())};d.cpa=function(q,l){q=q.split(".").map(r=>r.trim());l=l.split(".").map(r=>r.trim());d.EH(q,4,"0");d.EH(l,4,"0");q=q.map(r=>parseInt(r,10));l=l.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const p=q[r]-l[r];if(0!==p)return 0>p?-1:1}return 0};d.lpa=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,q=>{const l=Math.floor(16*Math.random());return("x"===
q?l:l&3|8).toString(16)})};d.Bya=function(q,l){if(q.length!==l.length)throw Error("strings must be same length");let r=0;for(let p=0,t=q.length;p<t;++p)q.charAt(p)!==l.charAt(p)&&++r;return r};d.Cya=function(q,l){if(0===q.length)return l.length;if(0===l.length)return q.length;let r,p,t,v;if(q.length>l.length){var y=q;q=l;l=y}v=Array(q.length+1);for(y=0;y<=q.length;y++)v[y]=y;for(y=1;y<=l.length;y++){p=y;for(r=1;r<=q.length;r++)t=l[y-1]===q[r-1]?v[r-1]:Math.min(v[r-1]+1,Math.min(p+1,v[r]+1)),v[r-1]=
p,p=t;v[q.length]=p}return v[q.length]}}"use strict";
{const d=self.B,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),c=/\[(\/?)([a-zA-Z0-9]+)\]/g,f=/\[(\/?)([^\[]*?)\]/g;
let a=null,e=0;function h(m,q,l){var r=b.get(l);if(r){if("string"===typeof r){if("a"!==r||q)return"<"+q+r+">";q=parseInt(l.substring(1),10)-1;if(0>q||q>=a.length)throw Error("invalid bbcode link substitution");r=a[q];if("string"===typeof r)return`<a href="${a[q]}">`;if("function"===typeof r)return`<a class="bblink${q}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return m=r[0],r=r[1],q?"</"+m+">":`<${m} class="${r}">`}else return"class"===l?q?"</span>":`<span class="bbclass${e++}">`:
m}const g=/\n/g;d.tm=class{constructor(m,q){this.Si=q&&q.b0?m:d.r3(m);this.WM="";this.QX=!1;this.Sz=[];if(q&&(this.QX=!!q.qAa,q.links)){if(9<q.links.length)throw Error("too many links");this.Sz=q.links}this.uY=this.Si.includes("[");this.xZ=this.QX&&this.Si.includes("\n");this.SY=!this.uY&&!this.xZ&&!this.Si.includes("&");this.zY=!1;this.hz=[]}toString(){return this.Si}valueOf(){return this.Si}oQ(){if(this.SY)return this.Si;if(!this.WM&&this.Si){let m=this.Si;this.uY&&(e=0,a=this.Sz,m=m.replace(c,
h),a=null);this.xZ&&(m=m.replace(g,"<br>"));this.WM=m}return this.WM}ala(m){if(this.Sz.length)for(let q=0,l=this.Sz.length;q<l;++q){const r=this.Sz[q];if("function"!==typeof r)continue;const p=m.querySelector(".bblink"+q);if(!p)throw Error("unable to attach BBString link handler");p.onclick=r}}jd(m){return m instanceof d.hJ?this.oQ()===m.oQ():m instanceof d.tm?this.Si===m.Si:this.Si===m}r0(){if(this.zY)return this.hz;const m=this.Si,q=[];let l=f.lastIndex=0;for(var r;null!==(r=f.exec(m));){var p=
r.index;if(0<p&&"\\"===m.charAt(p-1))continue;var t=r[1],v=r[2];const y=m.substring(l,p);l=p+r[0].length;y&&this.hz.push({text:y,Od:q.slice(0)});if(v)if(t)for(v=v.toLowerCase(),r=q.length-1;0<=r;--r){if(q[r].tag===v){q.splice(r,1);break}}else r=v,p=null,t=v.indexOf("="),-1!==t?(r=v.substring(0,t).toLowerCase(),p=v.substring(t+1)):r=r.toLowerCase(),q.push({tag:r,param:p})}l<m.length&&this.hz.push({text:m.substring(l),Od:q.slice(0)});for(const y of this.hz)y.text=this.Oga(y.text);this.zY=!0;return this.hz}Oga(m){m=
d.Oj(m,"\\[","[");return d.Oj(m,"\\\\","\\")}static sU(m){return m.replace(f,"")}}}"use strict";
{const d=self.B;d.hy=class{constructor(){this.Rl=[]}lW(b,c){let f=0,a=0,e=0,h=0,g=0;for(const m of b)-1===m.width&&(b=c(m.text,m.Od),m.width=b.width,m.height=b.height,m.wh=b.wh||0,m.Qg=b.Qg||0,m.Sg=b.Sg||0),f+=m.width,a=Math.max(a,m.height),e=Math.max(e,m.wh),h=Math.max(h,m.Qg),g=Math.max(g,m.Sg);return{width:f,height:a,wh:e,Qg:h,Sg:g}}DD(b,c,f,a,e,h){this.Rl.push({BP:b,width:c,height:f,wh:a,Qg:e,Sg:h})}hy(b,c,f,a,e){"string"===typeof b&&(b=[{text:b,Od:[]}]);d.H(this.Rl);if(!(!b.length||1===b.length&&
!b[0].text.length||2>f)){if(1===b.length){var h=b[0];const g=h.text;h=h.Od;if(100>=g.length&&!g.includes("\n")){let {width:m,height:q,wh:l,Qg:r,Sg:p}=c(g,h);m+=e;l=l||0;r=r||0;p=p||0;if(m<=f){this.DD([{text:g,Od:h,width:m,height:q,wh:l,Qg:r,Sg:p}],m,q,l,r,p);return}}}if("word"===a)a=this.aja(b);else{a=[];for(const g of b)d.mm(a,[...g.text].map(m=>[{text:m,Od:g.Od}]))}this.rja(a,c,f,e)}}aja(b){const c=[];let f=[],a=!1;for(const h of b){var e=h.text;b=h.Od;for(const g of e)"\n"===g?(0<f.length&&c.push(f),
c.push([{text:"\n",Od:b}]),f=[]):0===f.length?(f.push({text:g,Od:b}),a=d.LC(g)):(e=d.LC(g),e===a?(e=f[f.length-1],e.Od===b?e.text+=g:f.push({text:g,Od:b})):(c.push(f),f=[],f.push({text:g,Od:b}),a=e))}0<f.length&&c.push(f);return c}Cca(b){return b.map(c=>({text:c.text,Od:c.Od,width:c.width,height:c.height,wh:c.wh,Qg:c.Qg,Sg:c.Sg}))}UU(b,c){var f=b.length?b[b.length-1]:null;let a=0;f&&c[0].Od===f.Od&&(f.text+=c[0].text,f.width=-1,f.height=-1,f.wh=-1,f.Qg=-1,f.Sg=-1,a=1);for(f=c.length;a<f;++a){const e=
c[a];b.push({text:e.text,Od:e.Od,width:-1,height:-1,wh:-1,Qg:-1,Sg:-1})}}rja(b,c,f,a){let e=[],h=0,g=0,m=0,q=0;var l=0;for(const r of b){if(1===r.length&&"\n"===r[0].text){0===g&&(l=c(" ",r[0].Od),g=l.height,m=l.wh||0,q=l.Qg||0,l=l.Sg||0);this.DD(e,h,g,m,q,l);e=[];l=q=m=g=h=0;continue}b=this.Cca(e);this.UU(b,r);const p=this.lW(b,c),t=p.width;t>=f?(0<e.length&&this.DD(e,h,g,m,q,l),e=[],d.KC(r[0].text)?l=q=m=g=h=0:(this.UU(e,r),l=this.lW(e,c),h=l.width,g=l.height,m=l.wh,q=l.Qg,l=l.Sg)):(e=b,h=t,g=p.height,
m=p.wh,q=p.Qg,l=p.Sg)}0<e.length&&this.DD(e,h,g,m,q,l);this.fja(c,a)}fja(b,c){for(const a of this.Rl){const e=a.BP;if(!e.length)continue;let h=e[e.length-1];var f=h.text;const g=f.trimEnd();if(!g)a.width-=h.width,e.pop();else if(g.length<f.length){f=b(g,h.Od).width;const m=h.width-f;h.width=f;h.text=g;a.width-=m}0!==c&&0<e.length&&(h=e[e.length-1],h.width+=c,a.width+=c)}}Bd(){d.H(this.Rl)}FR(){return this.Rl.reduce((b,c)=>Math.max(b,c.width),0)}X4(){return this.Rl.reduce((b,c)=>b+c.height,0)}}}"use strict";
function Rb(d,b){return d[0]===b[0]&&d[1]===b[1]&&d[2]===b[2]&&d[3]===b[3]&&d[4]===b[4]&&d[5]===b[5]&&d[6]===b[6]&&d[7]===b[7]&&d[8]===b[8]&&d[9]===b[9]&&d[10]===b[10]&&d[11]===b[11]&&d[12]===b[12]&&d[13]===b[13]&&d[14]===b[14]&&d[15]===b[15]}self.B.Da={};"use strict";
{const d=self.B,b=[0,0,0,0,0,0,0,0],c=self.pw,f=c.MH,a=c.uH,e=f.Se(0,0,0);new d.Td(0,0,1,0,1,1,0,1);d.Da.P9=class{constructor(){this.Z=this.$=0;this.fk=f.Se(0,0,100);this.Sl=f.Se(0,0,0);this.gP=f.Se(0,1,0);this.vq=f.Se(1,1,1);this.Xz=a.create();this.Hk=a.create();this.xN=a.create();this.Fr=[];this.xG=new Map;this.JO=this.DG=this.KO=this.CG=null;this.CA=new Map;this.mk=null;this.nM=[];this.wZ=new Map;this.wk=this.Su=this.Gu=0;this.$u=!0}z3(h){let g=0,m=h.length,q=0;for(;g<m;)h[g++]=q,h[g++]=q+1,h[g++]=
q+2,h[g++]=q,h[g++]=q+2,h[g++]=q+3,q+=4}XU(){this.Su=this.Gu=0;this.JO=this.DG=this.KO=this.CG=null;this.Aca()}zC(){this.XU();this.mk=null}j8(){for(const h of this.Fr)h.j();this.XU()}iT(h,g,m,q,l){const r=this.Hk,p=this.Xz;for(let t=0,v=b.length;t<v;++t)b[t]=0;b[0]=r[0]*h+r[4]*g+r[12];b[1]=r[1]*h+r[5]*g+r[13];b[2]=r[2]*h+r[6]*g+r[14];b[3]=r[3]*h+r[7]*g+r[15];b[4]=p[0]*b[0]+p[4]*b[1]+p[8]*b[2]+p[12]*b[3];b[5]=p[1]*b[0]+p[5]*b[1]+p[9]*b[2]+p[13]*b[3];b[6]=p[2]*b[0]+p[6]*b[1]+p[10]*b[2]+p[14]*b[3];b[7]=
-b[2];0!==b[7]&&(b[7]=1/b[7],b[4]*=b[7],b[5]*=b[7],b[6]*=b[7],l[0]=(.5*b[4]+.5)*m,l[1]=(.5*b[5]+.5)*q)}M(){return this.$}N(){return this.Z}bD(h,g,m){this.fk[0]=h*this.vq[0];this.fk[1]=g*this.vq[1];this.fk[2]=m}rD(h,g,m){this.Sl[0]=h*this.vq[0];this.Sl[1]=g*this.vq[1];this.Sl[2]=m}YC(h){a.KP(this.Hk,this.fk,this.Sl,h||this.gP);a.scale(this.Hk,this.Hk,this.vq)}k$(h,g){if(1!==h||1!==g)e[0]=h,e[1]=g,e[2]=1,a.scale(this.Hk,this.Hk,e)}gca(h){this.Fr.push(h);this.xG.set(h.qa,h)}hha(h){const g=this.Fr.indexOf(h);
-1!==g&&this.Fr.splice(g,1);this.xG.delete(h.qa)}Aca(){d.H(this.Fr);this.xG.clear()}PR(h){return this.xG.get(h)||null}Ki(){this.Tm(this.CG)}zaa(){this.Tm(this.DG)}ZJ(){this.Tm(this.JO)}dia(h){this.mk=h}C0(h,g,m,q){const l=d.Da.vK.FS(h,g,m,q);let r=this.CA.get(l);r||(r=d.D(d.Da.vK,this,h,g,m,q),this.CA.set(l,r));r.Q0();return r}pT(h){h.j2();0===h.xd&&(this.mk===h&&(this.mk=null),this.CA.delete(h.C4()),h.j())}Mea(h){d.H(this.nM);this.wZ.clear();for(const g of h){h=g[0];const m=g[1],q=g[2];this.nM.push([m,
q]);this.wZ.set(h,{dDa:m,BAa:q})}}hea(h){return this.nM[h]}aD(h){this.Gu=h}bp(h){this.Su=h;this.mk=null}aI(h){this.z1(h.P,h.O,h.width(),h.height())}Vw(){this.wi();this.wk++}W5(){this.wk++}dK(h){this.$u=!!h}}}"use strict";
{const d=self.B;d.Da.vK=class{constructor(b,c,f,a,e){this.Ja=b;this.xd=0;this.Ab=null;this.qA="";this.up=f;this.pb=d.D(d.sb);this.pb.set(a);this.Md=e;"string"===typeof c?this.qA=c:(this.Ab=c,this.qA=this.Ab.qa)}j(){if(0<this.xd)throw Error("releasing state group still in use");this.Ab=this.Ja=null;this.qA=""}X0(){const b=this.Ja;b.Tm(this.Ab);b.Wf(this.up);b.Ii(this.pb);b.bp(this.Md);b.dia(this)}C4(){return d.Da.vK.FS(this.qA,this.up,this.pb,this.Md)}Q0(){++this.xd}j2(){--this.xd}Nm(){this.Ab=null}EJ(b){this.Ab=
b.PR(this.qA);if(!this.Ab)throw Error("failed to restore shader program");}static FS(b,c,f,a){return("string"===typeof b?b:b.qa)+","+c+","+f.nb+","+f.Ca+","+f.ob+","+f.Ya+","+a}}}"use strict";
{const d=self.B,b=d.D(d.Td);function c(f,a,e){const h=e.jc,g=e.kc;return[h+(e.Oc-h)*f+(e.Ic-h)*a,g+(e.Pc-g)*f+(e.Jc-g)*a]}d.Da.F7=class{constructor(f){this.UN=f;this.ri=this.ni=this.Md=this.X=this.Y=0}Wj(f,a,e,h){this.Y=f;this.X=a;this.ni=e;this.ri=h}I(){return this.Y}sf(f){this.Y!==f&&(this.Y=f,this.UN.EL())}J(){return this.X}Zf(f){this.X!==f&&(this.X=f,this.UN.EL())}kb(){return this.Md}$f(f){this.Md!==f&&(this.Md=Math.max(f,0),this.UN.EL())}mK(f){this.ni=f}oK(f){this.ri=f}Wea(f,a,e){[this.Y,this.X]=
c(f.Y,f.X,a);this.Md=f.Md;this.ni=d.le(e.P,e.V,f.ni);this.ri=d.le(e.O,e.U,f.ri)}Vea(f,a,e){[this.Y,this.X]=c(f.Y,f.X,a);this.Md=f.Md;[this.ni,this.ri]=c(f.ni,f.ri,e)}Tb(){return{x:this.I(),y:this.J(),z:this.kb(),u:this.ni,v:this.ri}}Qb(f){this.sf(f.x);this.Zf(f.y);f.hasOwnProperty("z")&&this.$f(f.z);this.mK(f.u);this.oK(f.v)}};d.Da.IS=class{constructor(f,a,e){if(2>f||2>a)throw Error("invalid mesh size");this.Gl=f;this.gm=a;this.yc=e||null;this.Xp=[];this.uZ=this.tZ=0;this.qZ=this.pZ=1;this.nO=!1;
e=f-1;const h=a-1;for(let g=0;g<a;++g){const m=[];for(let q=0;q<f;++q){const l=d.D(d.Da.F7,this,q,g),r=q/e,p=g/h;l.Wj(r,p,r,p);m.push(l)}this.Xp.push(m)}}j(){d.H(this.Xp)}EL(){this.nO=!0}RD(){if(this.nO){var f=Infinity,a=Infinity,e=-Infinity,h=-Infinity;for(const g of this.Xp)for(const m of g){const q=m.I(),l=m.J();f=Math.min(f,q);a=Math.min(a,l);e=Math.max(e,q);h=Math.max(h,l);m.kb()}this.tZ=f;this.uZ=a;this.pZ=e;this.qZ=h;this.nO=!1}}L4(){this.RD();return this.tZ}M4(){this.RD();return this.uZ}J4(){this.RD();
return this.pZ}K4(){this.RD();return this.qZ}Ft(f,a){f=Math.floor(f);a=Math.floor(a);return 0>f||f>=this.Gl||0>a||a>=this.gm?null:this.Xp[a][f]}HQ(f,a,e){const h=e instanceof d.Rect;if(f.Gl!==this.Gl||f.gm!==this.gm)throw Error("source mesh wrong size");f=f.Xp;const g=this.Xp;for(let m=0,q=g.length;m<q;++m){const l=f[m],r=g[m];for(let p=0,t=r.length;p<t;++p){const v=l[p],y=r[p];h?y.Wea(v,a,e):y.Vea(v,a,e)}}}Ec(f){const a=this.Xp;let e=a[0];for(let h=1,g=a.length;h<g;++h){const m=a[h];let q=e[0],l=
m[0];for(let r=1,p=m.length;r<p;++r){const t=e[r],v=m[r];b.set(q.ni,q.ri,t.ni,t.ri,v.ni,v.ri,l.ni,l.ri);f.VC(q.I(),q.J(),q.kb(),t.I(),t.J(),t.kb(),v.I(),v.J(),v.kb(),l.I(),l.J(),l.kb(),b);q=t;l=v}e=m}}x6(f){f=f.je;const a=[],e=this.Gl-1,h=this.gm-1,g=1/e,m=1/h,q=e-1,l=h-1;let r=f[0],p=f[1],t=d.ba(Math.floor(r*e),0,q),v=d.ba(Math.floor(p*h),0,l),y=0,z=0,C=0;var w=-1;const E=()=>{r=d.ba(d.le(r,y,C),0,1);p=d.ba(d.le(p,z,C),0,1);a.push(r,p)};for(let H=0,M=f.length;H<M;H+=2)for(r=f[H],p=f[H+1],a.push(r,
p),t=d.ba(Math.floor(r*e),0,q),v=d.ba(Math.floor(p*h),0,l),w=(H+2)%M,y=f[w],z=f[w+1],w=-1;;){if(1E6<a.length)throw Error("Too many mesh poly points");const N=t*g,Q=v*m,T=(t+1)*g,Z=(v+1)*m;if(0!==w&&(C=d.mB(r,p,y,z,N,Q,T,Z,-.001),0<=C&&.99999999>=C)){E();w=0;continue}if(0<v&&2!==w&&(C=d.mB(r,p,y,z,N,Q,T,Q,.001),0<=C&&.99999999>=C)){E();v--;w=4;continue}if(t<q&&3!==w&&(C=d.mB(r,p,y,z,T,Q,T,Z,.001),0<=C&&.99999999>=C)){E();t++;w=1;continue}if(0<t&&1!==w&&(C=d.mB(r,p,y,z,N,Q,N,Z,.001),0<=C&&.99999999>=
C)){E();t--;w=3;continue}if(v<l&&4!==w&&(C=d.mB(r,p,y,z,N,Z,T,Z,.001),0<=C&&.99999999>=C)){E();v++;w=2;continue}break}return d.D(d.Iq,a)}wba(f,a){f=this.dja(f);this.Sia(f);a.HH(f)}dja(f){const a=[];f=f.je;for(let e=0,h=f.length;e<h;e+=2){const [g,m]=this.yU(f[e],f[e+1]);a.push(g,m)}return a}yU(f,a){var e=this.Gl-1,h=this.gm-1;const g=1/e,m=1/h;e=d.ba(Math.floor(f*e),0,e-1);const q=d.ba(Math.floor(a*h),0,h-1);h=e*g;const l=q*m,r=(e+1)*g,p=(q+1)*m,t=this.Ft(e,q),v=this.Ft(e+1,q+1),y=d.Rla(f,a,h,l,r,
l,r,p);e=this.Ft(e+(y?1:0),q+(y?0:1));const [z,C,w]=d.Qma(f,a,h,l,y?h+g:h,y?l:l+m,r,p);return d.Pma(z,C,w,t.I(),t.J(),e.I(),e.J(),v.I(),v.J())}Sia(f){const a=[];let e=f[0],h=f[1],g=e-f[f.length-2],m=h-f[f.length-1];for(let l=0,r=f.length;l<r;l+=2){var q=(l+2)%r;const p=f[q];q=f[q+1];const t=p-e,v=q-h,y=1E-7>Math.abs(v)&&1E-7>Math.abs(m)&&Math.sign(t)===Math.sign(g);(!(1E-7>Math.abs(t)&&1E-7>Math.abs(g)&&Math.sign(v)===Math.sign(m)||y)&&1E-7<Math.abs(t/g-v/m)||0==t&&0===v)&&a.push(e,h);e=p;h=q;g=t;
m=v}6<=a.length&&a.length<f.length&&d.$d(f,a)}Tb(){return{cols:this.Gl,rows:this.gm,points:this.Xp.map(f=>f.map(a=>a.Tb()))}}Qb(f){const a=this.Gl,e=this.gm;if(f.cols!==a||f.rows!==e)throw Error("mesh data wrong size");f=f.points;for(let h=0;h<e;++h){const g=f[h];for(let m=0;m<a;++m)this.Ft(m,h).Qb(g[m])}}}}"use strict";
{const d=self.B,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),c=new Set(["nearest","bilinear","trilinear"]),f=new Set(["default","low","high"]),a=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function e(q,l){let r,p;switch(q){case "rgba8":q=l.RGBA8;p=r=l.RGBA;l=l.UNSIGNED_BYTE;break;case "rgb8":q=l.RGB8;p=r=l.RGB;l=l.UNSIGNED_BYTE;break;case "rgba4":q=l.RGBA4;p=r=l.RGBA;l=l.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":q=l.RGB5_A1;p=r=l.RGBA;l=l.UNSIGNED_SHORT_5_5_5_1;break;case "rgb565":q=
l.RGB565;p=r=l.RGB;l=l.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{lQ:q,rw:r,format:p,type:l}}const h={Iw:"clamp-to-edge",Jw:"clamp-to-edge",Jf:"trilinear",B_:0,XP:"rgba8",vH:!0,kB:"default",premultiplyAlpha:!0,Y_:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},m=new Set;d.Da.CD=class{constructor(q){this.Ja=q;this.Kb=null;this.Z=this.$=0;this.Zi=!0;this.qo=this.po="clamp-to-edge";this.Lc="trilinear";this.cM=0;this.hi="rgba8";this.yn=!1;this.vs="default";
this.xd=0}Rca(q,l){if(!("undefined"!==typeof HTMLImageElement&&q instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&q instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&q instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&q instanceof OffscreenCanvas||q instanceof ImageData||q instanceof ArrayBuffer)&&null!==q)throw Error("invalid texture source");l=Object.assign({},h,l);if(this.Kb)throw Error("already created texture");this.po=l.Iw;this.qo=l.Jw;this.Lc=l.Jf;
this.cM=l.B_;this.hi=l.XP;this.yn=!!l.vH&&this.Ja.$u;this.vs=l.kB;if(!a.has(this.po)||!a.has(this.qo))throw Error("invalid wrap mode");if(!c.has(this.Lc))throw Error("invalid sampling");if(!b.has(this.hi))throw Error("invalid pixel format");if(!f.has(this.vs))throw Error("invalid mipmap quality");this.Zi=!0;if(q instanceof ArrayBuffer||null===q||l.Y_){if(this.$=l.width,this.Z=l.height,q instanceof ArrayBuffer&&q.byteLength!==this.$*this.Z*4)throw Error("ArrayBuffer wrong size");}else this.$=q.width,
this.Z=q.height;if(0>=this.$||0>=this.Z)throw Error("invalid texture data size");if(l.Y_){var r=d.ti(this.$,this.Z);r.getContext("2d").drawImage(q,0,0,this.$,this.Z);q=r}var p=d.pm(this.$)&&d.pm(this.Z);r=this.Ja.cG;if(this.$>r||this.Z>r)throw Error("texture data exceeds maximum texture size");r=this.Ja.ka;var t=this.Ja.Ae;this.Kb=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.Kb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l.premultiplyAlpha);l=e(this.hi,r);if(this.Ja.kr()||p||!this.fL())2<=
t?(r.texStorage2D(r.TEXTURE_2D,this.yn?Math.floor(Math.log2(Math.max(this.$,this.Z))+1):1,l.lQ,this.$,this.Z),q instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.$,this.Z,l.format,l.type,new Uint8Array(q)):null!==q&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,l.format,l.type,q)):q instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,l.rw,this.$,this.Z,0,l.format,l.type,new Uint8Array(q)):null===q?r.texImage2D(r.TEXTURE_2D,0,l.rw,this.$,this.Z,0,l.format,l.type,null):r.texImage2D(r.TEXTURE_2D,0,
l.rw,l.format,l.type,q);else{if(null===q)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");q instanceof ArrayBuffer&&(q=new ImageData(new Uint8ClampedArray(q),this.$,this.Z));q instanceof ImageData&&(p=d.ti(this.$,this.Z),p.getContext("2d").putImageData(q,0,0),q=p);p=d.ti(d.SP(this.$),d.SP(this.Z));t=p.getContext("2d");t.imageSmoothingEnabled="nearest"!==this.Lc;t.drawImage(q,0,0,this.$,this.Z,0,0,p.width,p.height);r.texImage2D(r.TEXTURE_2D,0,l.rw,l.format,
l.type,p)}null!==q&&this.iX(r);r.bindTexture(r.TEXTURE_2D,null);this.Ja.tL();this.xd=1;m.add(this)}Eca(q,l,r){r=Object.assign({},h,r);if(this.Kb)throw Error("already created texture");this.po=r.Iw;this.qo=r.Jw;this.Lc=r.Jf;this.hi=r.XP;this.yn=!!r.vH&&this.Ja.$u;this.vs=r.kB;if(!a.has(this.po)||!a.has(this.qo))throw Error("invalid wrap mode");if(!c.has(this.Lc))throw Error("invalid sampling");if(!b.has(this.hi))throw Error("invalid pixel format");if(!f.has(this.vs))throw Error("invalid mipmap quality");
this.Zi=!1;this.$=Math.floor(q);this.Z=Math.floor(l);q=d.pm(this.$)&&d.pm(this.Z);l=this.Ja.cG;if(0>=this.$||0>=this.Z)throw Error("invalid texture size");if(this.$>l||this.Z>l)throw Error("texture exceeds maximum texture size");if(!this.Ja.kr()&&this.fL()&&!q)throw Error("non-power-of-two tiled textures not supported");q=this.Ja.ka;l=this.Ja.Ae;this.Kb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.Kb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);r=e(this.hi,q);q.texImage2D(q.TEXTURE_2D,
0,2<=l?r.lQ:r.rw,this.$,this.Z,0,r.format,r.type,null);this.iX(q);q.bindTexture(q.TEXTURE_2D,null);this.Ja.tL();this.xd=1;m.add(this)}eL(q){if("default"===this.vs)return this.Zi?q.NICEST:q.FASTEST;if("low"===this.vs)return q.FASTEST;if("high"===this.vs)return q.NICEST;throw Error("invalid mipmap quality");}fL(){return"clamp-to-edge"!==this.po||"clamp-to-edge"!==this.qo}JV(q,l){if("clamp-to-edge"===l)return q.CLAMP_TO_EDGE;if("repeat"===l)return q.REPEAT;if("mirror-repeat"===l)return q.MIRRORED_REPEAT;
throw Error("invalid wrap mode");}iX(q){var l=d.pm(this.$)&&d.pm(this.Z);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,this.JV(q,this.po));q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,this.JV(q,this.qo));"nearest"===this.Lc?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST),this.yn=!1):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.LINEAR),(l||this.Ja.kr())&&this.yn?(q.hint(q.GENERATE_MIPMAP_HINT,this.eL(q)),q.generateMipmap(q.TEXTURE_2D),
q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,"trilinear"!==this.Lc||this.Ja.yY?q.LINEAR_MIPMAP_NEAREST:q.LINEAR_MIPMAP_LINEAR)):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR),this.yn=!1));(l=this.Ja.Ny)&&0<this.cM&&"nearest"!==this.Lc&&q.texParameterf(q.TEXTURE_2D,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.cM,this.Ja.TN))}tX(q,l){if(!("undefined"!==typeof HTMLImageElement&&q instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&q instanceof HTMLVideoElement||"undefined"!==
typeof HTMLCanvasElement&&q instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&q instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&q instanceof OffscreenCanvas||q instanceof ImageData))throw Error("invalid texture source");if(!this.Kb||0>=this.xd)throw Error("texture not created");if(this.Zi)throw Error("cannot update static texture");l=Object.assign({},g,l);const r=q.width||q.videoWidth,p=q.height||q.videoHeight;var t=this.Ja.Ae;const v=this.Ja.ka;v.bindTexture(v.TEXTURE_2D,
this.Kb);v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l.premultiplyAlpha);v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!!l.flipY);l=e(this.hi,v);t=2<=t?l.lQ:l.rw;try{if(this.$===r&&this.Z===p){const y=d.pm(this.$)&&d.pm(this.Z);v.texSubImage2D(v.TEXTURE_2D,0,0,0,l.format,l.type,q);(y||this.Ja.kr())&&this.yn&&(v.hint(v.GENERATE_MIPMAP_HINT,this.eL(v)),v.generateMipmap(v.TEXTURE_2D))}else{this.$=r;this.Z=p;const y=d.pm(this.$)&&d.pm(this.Z);if(!this.Ja.kr()&&this.fL()&&!y)throw Error("non-power-of-two tiled textures not supported");
v.texImage2D(v.TEXTURE_2D,0,t,l.format,l.type,q);(y||this.Ja.kr())&&this.yn&&(v.hint(v.GENERATE_MIPMAP_HINT,this.eL(v)),v.generateMipmap(v.TEXTURE_2D))}}catch(y){console.error("Error updating WebGL texture: ",y)}v.bindTexture(v.TEXTURE_2D,null);this.Ja.tL()}VK(){if(0<this.xd)throw Error("texture still has references");if(!this.Kb)throw Error("already deleted texture");m.delete(this);this.Ja.ka.deleteTexture(this.Kb);this.Kb=null}oC(){return this.Ja}mba(){if(0>=this.xd)throw Error("no more references");
this.xd--}M(){return this.$}N(){return this.Z}zI(){let q=this.$*this.Z;switch(this.hi){case "rgba8":q*=4;break;case "rgb8":q*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":q*=2}this.yn&&(q+=Math.floor(q/3));return q}static Nm(){m.clear()}static Tka(){return m.values()}}}"use strict";
{const d=self.B,b=new Set(["nearest","bilinear","trilinear"]),c={Jf:"trilinear",alpha:!0,depth:!1,cQ:!0,W_:!0,kma:0},f=new Set;d.Da.FK=class{constructor(a){this.Ja=a;this.Tn=this.Kb=this.vk=null;this.Z=this.$=0;this.yF=!0;this.Lc="trilinear";this.Du=!0;this.KE=!1;this.jA=!0;this.Jn=0}Dca(a,e,h){h=Object.assign({},c,h);const g=this.Ja.Ae;if(this.Kb||this.Tn)throw Error("already created render target");this.Lc=h.Jf;this.Du=!!h.alpha;this.KE=!!h.depth;this.jA=!!h.cQ;this.yF=!!h.W_;this.Jn=h.kma;if(!b.has(this.Lc))throw Error("invalid sampling");
if(0<this.Jn&&(2>g||this.jA))throw Error("invalid use of multisampling");2>g&&(this.jA=!0);this.$=a;this.Z=e;if(0>=this.$||0>=this.Z)throw Error("invalid render target size");a=this.Ja.ka;this.vk=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,this.vk);this.jA?(this.Kb=this.Ja.SQ(this.$,this.Z,{Jf:this.Lc,XP:this.Du?"rgba8":"rgb8",vH:!1}),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Kb.Kb,0)):(this.Tn=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,this.Tn),
e=this.Du?a.RGBA8:a.RGB8,0<this.Jn&&((h=a.getInternalformatParameter(a.RENDERBUFFER,e,a.SAMPLES))&&h[0]?(h=h[0],this.Jn>h&&(this.Jn=h)):this.Jn=0),0===this.Jn?a.renderbufferStorage(a.RENDERBUFFER,e,this.$,this.Z):a.renderbufferStorageMultisample(a.RENDERBUFFER,this.Jn,e,this.$,this.Z),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,this.Tn),a.bindRenderbuffer(a.RENDERBUFFER,null));e=this.Ja.Pr;this.KE&&e&&a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,
e);a.bindFramebuffer(a.FRAMEBUFFER,null);f.add(this)}EW(a,e){if(this.$!==a||this.Z!==e)this.$=a,this.Z=e,a=this.Ja.ka,a.bindFramebuffer(a.FRAMEBUFFER,this.vk),this.Kb?this.Kb.tX(new ImageData(this.$,this.Z)):(a.bindRenderbuffer(a.RENDERBUFFER,this.Tn),a.renderbufferStorage(a.RENDERBUFFER,this.Du?a.RGBA8:a.RGB8,this.$,this.Z),a.bindRenderbuffer(a.RENDERBUFFER,null)),e=this.Ja.Pr,this.KE&&e&&a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,e),a.bindFramebuffer(a.FRAMEBUFFER,
null)}VK(){if(!this.Kb&&!this.Tn)throw Error("already deleted render target");f.delete(this);const a=this.Ja.ka;a.bindFramebuffer(a.FRAMEBUFFER,this.vk);this.Kb?(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),this.Ja.Vk(this.Kb),this.Kb=null):this.Tn&&(a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,null),a.deleteRenderbuffer(this.Tn),this.Tn=null);a.bindFramebuffer(a.FRAMEBUFFER,null);2<=this.Ja.Ae&&(a.bindFramebuffer(a.READ_FRAMEBUFFER,null),
a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null));a.deleteFramebuffer(this.vk);this.vk=this.Ja.dd.zq=null}oe(){return this.Ja}Rd(){return this.Kb}qJ(){return"nearest"!==this.Lc}M(){return this.$}N(){return this.Z}H6(a){a=Object.assign({},c,a);return"nearest"!==a.Jf!==this.qJ()||!!a.alpha!==this.Du||2<=this.Ja.Ae&&!!a.cQ!==this.jA?!1:"number"===typeof a.width||"number"===typeof a.height?!this.yF&&this.M()===a.width&&this.N()===a.height:this.yF}zI(){return this.Kb?this.Kb.zI():this.$*this.Z*(this.Du?4:3)}static async c2(a,
e){a=await a.D9(e);return await d.P5(a)}static Nm(){f.clear()}}}"use strict";
{const d=self.B,b=self.pw,c=b.MH,f=b.uH;d.Da.gy=class{static async K1(a,e,h,g){const m=a.ka,q=m.createShader(m.FRAGMENT_SHADER);m.shaderSource(q,e);m.compileShader(q);e=m.createShader(m.VERTEX_SHADER);m.shaderSource(e,h);m.compileShader(e);const l=m.createProgram();m.attachShader(l,q);m.attachShader(l,e);m.bindAttribLocation(l,0,"aPos");m.bindAttribLocation(l,1,"aTex");m.bindAttribLocation(l,2,"aPoints");m.linkProgram(l);const r=a.hO;r?await a.oja(()=>m.getProgramParameter(l,r.COMPLETION_STATUS_KHR)):
await d.EK(5);if(!m.getShaderParameter(q,m.COMPILE_STATUS))throw g=m.getShaderInfoLog(q),m.deleteShader(q),m.deleteShader(e),m.deleteProgram(l),Error("Error compiling fragment shader: "+g);if(!m.getShaderParameter(e,m.COMPILE_STATUS))throw g=m.getShaderInfoLog(e),m.deleteShader(q),m.deleteShader(e),m.deleteProgram(l),Error("Error compiling vertex shader: "+g);if(!m.getProgramParameter(l,m.LINK_STATUS))throw g=m.getProgramInfoLog(l),m.deleteShader(q),m.deleteShader(e),m.deleteProgram(l),Error("Error linking shader program: "+
g);(a=d.B3(m.getProgramInfoLog(l)||"").trim())&&!d.KC(a)&&console.info(`[WebGL] Shader program '${g}' compilation log: `,a);m.deleteShader(q);m.deleteShader(e);return l}static async fb(a,e,h,g){h=await d.Da.gy.K1(a,e.src,h,g);return new d.Da.gy(a,h,e,g)}constructor(a,e,h,g){const m=a.ka;var q=a.dd;a.wi();m.useProgram(e);this.ka=m;this.Ja=a;this.qa=g;this.Ab=e;this.zF="<default-device-transform>"===g;g=m.getAttribLocation(e,"aPos");const l=m.getAttribLocation(e,"aTex");e=m.getAttribLocation(e,"aPoints");
-1!==g&&(m.bindBuffer(m.ARRAY_BUFFER,a.aH),m.vertexAttribPointer(g,3,m.FLOAT,!1,0,0),m.enableVertexAttribArray(g));-1!==l&&(m.bindBuffer(m.ARRAY_BUFFER,a.PG),m.vertexAttribPointer(l,2,m.FLOAT,!1,0,0),m.enableVertexAttribArray(l));-1!==e&&(m.bindBuffer(m.ARRAY_BUFFER,a.nG),m.vertexAttribPointer(e,4,m.FLOAT,!1,0,0),m.enableVertexAttribArray(e));m.bindBuffer(m.ARRAY_BUFFER,null);this.$O=new d.Da.ad(this,"matP","mat4");this.ZO=new d.Da.ad(this,"matMV","mat4");this.Us=new d.Da.ad(this,"color","vec4");
this.Lka=new d.Da.ad(this,"samplerFront","sampler");this.cP=new d.Da.ad(this,"pointTexStart","vec2");this.bP=new d.Da.ad(this,"pointTexEnd","vec2");this.fP=new d.Da.ad(this,"zElevation","float");this.dP=new d.Da.ad(this,"tileSize","vec2");this.eP=new d.Da.ad(this,"tileSpacing","vec2");this.YO=new d.Da.ad(this,"color2_","vec4");this.aP=new d.Da.ad(this,"outlineThickness","float");this.jw=new d.Da.ad(this,"samplerBack","sampler");this.ho=new d.Da.ad(this,"destStart","vec2");this.fo=new d.Da.ad(this,
"destEnd","vec2");this.Qk=new d.Da.ad(this,"srcStart","vec2");this.jo=new d.Da.ad(this,"srcEnd","vec2");this.lo=new d.Da.ad(this,"srcOriginStart","vec2");this.ko=new d.Da.ad(this,"srcOriginEnd","vec2");this.oi=new d.Da.ad(this,"pixelSize","vec2");this.rq=new d.Da.ad(this,"seconds","float");this.oq=new d.Da.ad(this,"layerScale","float");this.nq=new d.Da.ad(this,"layerAngle","float");this.qq=new d.Da.ad(this,"layoutStart","vec2");this.pq=new d.Da.ad(this,"layoutEnd","vec2");this.vY=!!(this.oi.na||this.rq.na||
this.jw.na||this.ho.na||this.fo.na||this.Qk.na||this.jo.na||this.lo.na||this.ko.na||this.oq.na||this.nq.na||this.qq.na||this.pq.na);this.dY=h.IAa||0;this.eY=h.JAa||0;this.uM=!!h.uAa;this.oka=!!h.bCa;this.Nv=!!h.qCa;this.nE=!!h.hAa;a=h.parameters||[];this.Vs=[];this.PA=this.ho.na||this.fo.na;this.Nka=this.oi.na||this.Qk.na||this.jo.na||this.lo.na||this.ko.na;this.qka=this.uM||this.PA||0!==this.dY||0!==this.eY;this.SM=this.TM=!1;this.Us.fS();this.YO.fS();this.Lka.eS(0);this.jw.eS(1);this.cP.Kh(0,0);
this.bP.Kh(1,1);this.fP.Nt(0);this.dP.Kh(0,0);this.eP.Kh(0,0);this.ho.Kh(0,0);this.fo.Kh(1,1);this.Qk.Kh(0,0);this.jo.Kh(0,0);this.lo.Kh(0,0);this.ko.Kh(0,0);this.oi.Kh(0,0);this.oq.Nt(1);this.nq.Nt(0);this.rq.Nt(0);this.qq.Kh(0,0);this.pq.Kh(0,0);this.aP.Nt(1);for(const r of a)a=r[2],h=new d.Da.ad(this,r[0],a),"color"===a?h.X5():h.Nt(0),this.Vs.push(h);this.zF?this.xX(q.YA):(this.yD(q.YA,!0),this.xD(q.lH,!0));q=q.tj;m.useProgram(q?q.Ab:null)}j(){this.ka.deleteProgram(this.Ab);this.Ab=null;this.Ja.hha(this);
this.Ja=this.ka=null}To(){return this.oka}lC(a){return this.Vs[a].La}Y0(a){for(let e=0,h=a.length;e<h;++e)if(!this.Vs[e].Z6(a[e]))return!1;return!0}z$(a){for(let e=0,h=a.length;e<h;++e)this.Vs[e].t$(a[e])}Z0(a,e,h,g,m,q,l,r,p){return this.jw.na||this.oi.na&&!this.oi.Jm(m,q)||this.ho.na&&!this.ho.Jm(a.P,a.O)||this.fo.na&&!this.fo.Jm(a.V,a.U)||this.oq.na&&!this.oq.uJ(l)||this.nq.na&&!this.nq.uJ(r)||this.Qk.na&&!this.Qk.Jm(e.P,e.O)||this.jo.na&&!this.jo.Jm(e.V,e.U)||this.lo.na&&!this.lo.Jm(h.P,h.O)||
this.ko.na&&!this.ko.Jm(h.V,h.U)||this.qq.na&&!this.qq.Jm(g.P,g.O)||this.pq.na&&!this.pq.Jm(g.O,g.U)||this.rq.na&&!this.rq.uJ(p)?!1:!0}haa(a,e,h,g,m,q,l,r,p){this.jw.na||(this.oi.na&&this.oi.Rm(m,q),this.ho.na&&this.ho.Rm(a.P,a.O),this.fo.na&&this.fo.Rm(a.V,a.U),this.oq.na&&this.oq.WJ(l),this.nq.na&&this.nq.WJ(r),this.Qk.na&&this.Qk.Rm(e.P,e.O),this.jo.na&&this.jo.Rm(e.V,e.U),this.lo.na&&this.lo.Rm(h.P,h.O),this.ko.na&&this.ko.Rm(h.V,h.U),this.qq.na&&this.qq.Rm(g.P,g.O),this.pq.na&&this.pq.Rm(g.O,
g.U),this.rq.na&&this.rq.WJ(p))}yD(a,e){this.TM&&!e||this.zF||(this.$O.na&&this.$O.zD(a),this.TM=!0)}faa(){this.TM=!1}xD(a,e){this.SM&&!e||this.zF||(this.ZO.na&&this.ZO.zD(a),this.SM=!0)}eaa(){this.SM=!1}xX(a){if(!this.zF)throw Error("not device transform shader");this.$O.zD(a);a=this.Ja;var e=a.M()/2,h=a.N()/2;const g=a.vq,m=c.Se(e*g[0],h*g[1],100*self.devicePixelRatio);e=c.Se(e*g[0],h*g[1],0);h=f.create();f.KP(h,m,e,a.gP);f.scale(h,h,g);this.ZO.zD(h)}Dba(a){this.Us.na&&this.Us.wD(a[0],a[1],a[2],
a[3])}static wI(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}"use strict";
{const d=self.B,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.Da.ad=class{constructor(c,f,a){if(!b.has(a))throw Error("invalid uniform type");this.yc=c;this.ka=this.yc.ka;this.qa=f;this.La=a;this.iN="color"===this.La;this.bj=this.ka.getUniformLocation(this.yc.Ab,f);this.na=!!this.bj;c=b.get(a);this.tb=new Float32Array(c);this.Gk=new Float32Array(c)}j(){this.bj=this.ka=this.yc=null}Nt(c){this.na&&(this.tb[0]=c,this.Gk.set(this.tb),this.ka.uniform1f(this.bj,
c))}eS(c){this.na&&(this.tb[0]=c,this.Gk.set(this.tb),this.ka.uniform1i(this.bj,c))}Kh(c,f){this.na&&(this.tb[0]=c,this.tb[1]=f,this.Gk.set(this.tb),this.ka.uniform2f(this.bj,c,f))}X5(){this.na&&(this.tb[0]=0,this.tb[1]=0,this.tb[2]=0,this.Gk.set(this.tb),this.ka.uniform3f(this.bj,0,0,0))}fS(){this.na&&(this.tb[0]=1,this.tb[1]=1,this.tb[2]=1,this.tb[3]=1,this.Gk.set(this.tb),this.ka.uniform4f(this.bj,1,1,1,1))}ru(c){c=Math.fround(c);const f=this.tb;f[0]!==c&&(f[0]=c,this.ka.uniform1f(this.bj,c))}ag(c,
f){c=Math.fround(c);f=Math.fround(f);const a=this.tb;if(a[0]!==c||a[1]!==f)a[0]=c,a[1]=f,this.ka.uniform2f(this.bj,c,f)}Bba(c,f,a){c=Math.fround(c);f=Math.fround(f);a=Math.fround(a);const e=this.tb;if(e[0]!==c||e[1]!==f||e[2]!==a)e[0]=c,e[1]=f,e[2]=a,this.ka.uniform3f(this.bj,c,f,a)}wD(c,f,a,e){c=Math.fround(c);f=Math.fround(f);a=Math.fround(a);e=Math.fround(e);const h=this.tb;if(h[0]!==c||h[1]!==f||h[2]!==a||h[3]!==e)h[0]=c,h[1]=f,h[2]=a,h[3]=e,this.ka.uniform4f(this.bj,c,f,a,e)}zD(c){const f=this.tb;
Rb(f,c)||(d.Rma(f,c),this.ka.uniformMatrix4fv(this.bj,!1,c))}Z6(c){const f=this.Gk;return this.iN?f[0]===Math.fround(c.nb)&&f[1]===Math.fround(c.Ca)&&f[2]===Math.fround(c.ob):f[0]===Math.fround(c)}t$(c){const f=this.Gk;this.iN?(f[0]=c.nb,f[1]=c.Ca,f[2]=c.ob):f[0]=c}uJ(c){return this.Gk[0]===Math.fround(c)}Jm(c,f){const a=this.Gk;return a[0]===Math.fround(c)&&a[1]===Math.fround(f)}WJ(c){this.Gk[0]=c}Rm(c,f){const a=this.Gk;a[0]=c;a[1]=f}}}"use strict";
{const d=self.B,b=self.pw,c=b.z0,f=b.uH;d.Da.d1=class{constructor(a){this.ug=a;this.lH=f.create();this.YA=f.create();this.zq=null;this.kH=c.Se(1,1,1,1);this.tj=null;this.YP=new d.Rect;this.clearColor=d.D(d.sb,0,0,0,0)}};d.Da.Oba=class{constructor(a){const e=new ArrayBuffer(96);this.La=0;this.dd=a;this.ka=a.ug.ka;this.vn=this.mg=0;this.ng=null;this.ue=new Float32Array(e,0,16);this.$y=new Float32Array(e,64,4);this.k_=new Float32Array(e,80,4);this.wG=[]}k6(a){this.La=1;this.mg=a;this.vn=6}w2(){const a=
this.ka;a.drawElements(a.TRIANGLES,this.vn,a.UNSIGNED_SHORT,this.mg)}r6(a){this.La=2;this.ng=a}G2(){const a=this.ka,e=this.ng;a.bindTexture(a.TEXTURE_2D,e?e.Kb:null)}jJ(a){this.La=3;a.Ug(this.$y,0)}y2(){const a=this.$y,e=this.dd;c.Ga(e.kH,a);e.tj.Dba(a)}B2(){const a=this.$y,e=this.dd.tj;e.YO.na&&e.YO.wD(a[0],a[1],a[2],a[3])}l6(a,e){this.La=4;this.mg=a;this.vn=e}x2(){this.ka.blendFunc(this.mg,this.vn)}w6(a){this.La=5;f.Ga(this.ue,a)}J2(){const a=this.dd,e=a.ug.Fr,h=a.tj,g=this.ue;for(let m=0,q=e.length;m<
q;++m){const l=e[m];l===h?l.xD(g,!0):l.eaa()}f.Ga(a.lH,g)}q6(a,e,h){this.La=6;this.ng=a;this.mg=e?1:0;e&&f.Ga(this.ue,h)}F2(){var a=this.ka,e=this.ng;const h=0!==this.mg,g=this.ue,m=this.dd,q=m.ug;if(e){const l=e.vk;m.zq=l;a.bindFramebuffer(a.FRAMEBUFFER,l);a=e.M();e=e.N()}else m.zq=null,a.bindFramebuffer(a.FRAMEBUFFER,null),a=q.WI(),e=q.VI();h&&q.DX(a,e,g)}c6(a){this.La=7;a.Ug(this.ue,0)}d6(){this.La=7;const a=this.ue;a[0]=0;a[1]=0;a[2]=0;a[3]=0}s2(){const a=this.ka;var e=this.ue,h=this.dd;const g=
h.clearColor;(h=h.ug.sv&&d.uw)&&a.disable(a.SCISSOR_TEST);const m=e[0],q=e[1],l=e[2];e=e[3];g.aB(m,q,l,e)||(a.clearColor(m,q,l,e),g.kt(m,q,l,e));a.clear(a.COLOR_BUFFER_BIT);h&&a.enable(a.SCISSOR_TEST)}b6(a,e,h,g){this.La=8;const m=this.ue;m[0]=a;m[1]=e;m[2]=h;m[3]=g;m[4]=0;m[5]=0;m[6]=0;m[7]=0}r2(){const a=this.ka;var e=this.ue,h=this.dd;const g=h.ug;h=h.clearColor;g.sv||a.enable(a.SCISSOR_TEST);a.scissor(e[0],e[1],e[2],e[3]);const m=e[4],q=e[5],l=e[6];e=e[7];h.aB(m,q,l,e)||(a.clearColor(m,q,l,e),
h.kt(m,q,l,e));a.clear(a.COLOR_BUFFER_BIT);g.sv?a.scissor(0,0,g.TA,g.SA):a.disable(a.SCISSOR_TEST)}n6(a){this.La=13;a.Ug(this.ue,0)}C2(){const a=this.ue;this.dd.YP.set(a[0],a[1],a[2],a[3])}i6(a,e){this.La=9;this.mg=a;this.vn=1;this.ue[0]=e}v2(){const a=this.ka,e=this.dd,h=e.ug.KO;a.useProgram(h.Ab);h.yD(e.YA,!1);h.xD(e.lH,!1);var g=e.YP;h.cP.na&&h.cP.ag(g.P,g.O);h.bP.na&&h.bP.ag(g.V,g.U);g=this.ue[0];h.fP.na&&h.fP.ru(g);h.Us.na&&(g=e.kH,h.Us.wD(g[0],g[1],g[2],g[3]));a.drawArrays(a.POINTS,this.mg/
4,this.vn);a.useProgram(e.tj.Ab)}o6(a){this.La=10;this.ng=a}D2(){var a=this.ka;const e=this.dd,h=this.ng;e.tj=h;a.useProgram(h.Ab);h.yD(e.YA,!1);h.xD(e.lH,!1);h.Us.na&&(a=e.kH,h.Us.wD(a[0],a[1],a[2],a[3]))}p6(){this.La=11}E2(){const a=this.dd.tj;a.vY&&this.wda(a);a.Vs.length&&this.xda(a)}wda(a){const e=this.ka,h=this.ue,g=this.$y,m=this.k_;if(a.jw.na){const q=this.dd.ug,l=this.ng;q.Op!==l&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,l?l.Kb:null),q.Op=l,e.activeTexture(e.TEXTURE0))}a.oi.na&&
a.oi.ag(h[0],h[1]);a.ho.na&&a.ho.ag(h[2],h[3]);a.fo.na&&a.fo.ag(h[4],h[5]);a.oq.na&&a.oq.ru(h[6]);a.nq.na&&a.nq.ru(h[7]);a.Qk.na&&a.Qk.ag(h[12],h[13]);a.jo.na&&a.jo.ag(h[14],h[15]);a.lo.na&&a.lo.ag(m[0],m[1]);a.ko.na&&a.ko.ag(m[2],m[3]);a.qq.na&&a.qq.ag(g[0],g[1]);a.pq.na&&a.pq.ag(g[2],g[3]);a.rq.na&&a.rq.ru(this.mg)}xda(a){a=a.Vs;const e=this.wG;for(let h=0,g=a.length;h<g;++h){const m=a[h],q=e[h];m.iN?m.Bba(q.nb,q.Ca,q.ob):m.ru(q)}}f6(a){this.La=12;this.ng=a}u2(){const a=this.ka,e=this.ng,h=this.dd.zq;
e!==h&&a.bindFramebuffer(a.FRAMEBUFFER,e);a.invalidateFramebuffer(a.FRAMEBUFFER,[a.COLOR_ATTACHMENT0]);e!==h&&a.bindFramebuffer(a.FRAMEBUFFER,h)}Y5(a,e){this.La=15;var h=this.ue;const g=this.dd.ug;h[0]=a.M();h[1]=a.N();h[2]=e?e.M():g.M();h[3]=e?e.N():g.N();h[4]=a.qJ()?1:0;h[5]=!0;h=this.wG;d.H(h);h.push(a.vk);h.push(e?e.vk:null)}p2(){var a=this.ue,e=this.wG;const h=this.ka;var g=a[0],m=a[1],q=a[2];const l=a[3],r=0!==a[4];a=0!==a[5];const p=e[1];h.bindFramebuffer(h.READ_FRAMEBUFFER,e[0]);h.bindFramebuffer(h.DRAW_FRAMEBUFFER,
p);a?h.blitFramebuffer(0,0,g,m,0,0,q,l,h.COLOR_BUFFER_BIT,r?h.LINEAR:h.NEAREST):(e=Math.min(g,q),g=Math.min(m,l),q=Math.max(m-l,0),m=Math.max(l-m,0),h.blitFramebuffer(0,q,e,g+q,0,m,e,g+m,h.COLOR_BUFFER_BIT,h.NEAREST))}u6(a){this.La=16;this.ng=a}I2(){this.ng.UH();this.ng=null}e6(a){this.La=17;this.ng=a}t2(){this.ng.kI();this.ng=null}A2(){const a=this.dd.tj,e=this.ue;a.oi.na&&a.oi.ag(e[0],e[1]);a.aP.na&&a.aP.ru(e[2])}s6(a,e,h,g,m,q,l){this.La=14;const r=this.ue;a.Ug(r,0);r[4]=1/e;r[5]=1/h;r[6]=g/e;
r[7]=m/h;r[8]=q/e;r[9]=l/h}H2(){const a=this.dd.tj,e=this.ue;a.Qk.na&&a.Qk.ag(e[0],e[1]);a.oi.na&&a.oi.ag(e[4],e[5]);a.dP.na&&a.dP.ag(e[6],e[7]);a.eP.na&&a.eP.ag(e[8],e[9])}a6(){this.La=20}q2(){const a=this.ka;a.clear(a.DEPTH_BUFFER_BIT)}m6(a){this.La=21;this.mg=a?1:0}z2(){const a=this.ka;0===this.mg?(a.disable(a.DEPTH_TEST),a.depthMask(!1)):(a.enable(a.DEPTH_TEST),a.depthMask(!0))}Ea(){switch(this.La){case 1:this.w2();break;case 2:this.G2();break;case 3:this.y2();break;case 4:this.x2();break;case 5:this.J2();
break;case 6:this.F2();break;case 7:this.s2();break;case 8:this.r2();break;case 9:this.v2();break;case 10:this.D2();break;case 11:this.E2();break;case 12:this.u2();break;case 13:this.C2();break;case 14:this.H2();break;case 15:this.p2();break;case 16:this.I2();break;case 17:this.t2();break;case 18:this.A2();break;case 19:this.B2();break;case 20:this.q2();break;case 21:this.z2()}}}}"use strict";
{const d=self.B,b={timeout:60},c=new d.sb(0,0,0,1),f=new Set(["left","center","right"]),a=new Set(["top","center","bottom"]),e=new Set(["word","character"]),h=new Set;d.D3&&d.D3.addEventListener("fontload",l=>{l=l.font.qa;for(const r of h)(r.Af||d.vh(r.ZE,l))&&r.Ar()});function g(l,r,p,t,v,y){r?"Gecko"===d.lb.xB?l.strokeText(p,t,v,y):l.strokeText(p,t,v):"Gecko"===d.lb.xB?l.fillText(p,t,v,y):l.fillText(p,t,v)}let m=!1,q=!1;d.Da.rT=class{constructor(l,r){r=Object.assign({},b,r);this.Ja=l;this.ZE="Arial";
this.$E=16;this.Xc=0;this.dka=this.Zja=!1;this.sM="black";this.Af=!1;this.UP=null;this.bM=new Set;this.ef="left";this.Qe="top";this.Ac="";this.bk=null;this.rg=d.D(d.hy);this.Zs="word";this.tN=this.QG=!1;this.Bz=!0;this.ai=-1;this.Z=this.$=this.ln=this.dg=this.$h=0;this.sj=1;this.qM=!1;this.Yz=this.In=this.pf=this.Os=null;this.aZ=this.bZ=-1;this.TF=this.eZ=this.DN="";this.EN=this.FN=1;this.Zz=(p,t)=>this.vy(p,t);this.Kb=null;this.EA=this.GA=0;this.Mk=new d.Rect;this.pA=1;this.YN=!1;this.TO=new d.O5(()=>
{this.Eg();this.hX(8,8)},r.timeout);this.VP=null;this.UA=!1;h.add(this)}j(){this.UP=null;this.bM.clear();this.Zz=this.Yz=this.In=this.pf=this.Os=this.bk=null;this.TO.j();this.VP=null;this.Eg();this.rg.Bd();this.Ja=this.rg=null;this.UA=!0;h.delete(this)}wr(){this.qM=!0}Ar(){this.wr();this.rg.Bd();this.QG=!0}aaa(){this.Bz=!1}Lh(){return this.Bz}JT(l){l=!!l;this.Af!==l&&(l=(this.Af=l)?"alphabetic":"top",this.pf&&(this.pf.textBaseline=l),this.In&&(this.In.textBaseline=l),this.Ar())}P$(){"Arial"!==this.ZE&&
(this.ZE="Arial",this.Ar())}Q$(){var l=16;.1>l&&(l=.1);this.$E!==l&&(this.$E=l,this.Ar())}qD(l){this.Xc!==l&&(this.Xc=l,this.wr())}fD(l){l=Math.floor(l);this.ai!==l&&(this.ai=l,this.wr())}Fd(l,r){for(let p=l.length-1;0<=p;--p){const t=l[p];if(t.tag===r)return t}return null}lp(l,r){return!!this.Fd(l,r)}AV(l,r){let p=[];(this.Zja||this.lp(r,"b"))&&p.push("bold");(this.dka||this.lp(r,"i"))&&p.push("italic");var t=this.Fd(r,"size");t=t?parseFloat(t.param):this.$E;l?p.push(t+"pt"):p.push(t*this.pA*this.sj*
self.devicePixelRatio+"pt");l=this.ZE;(r=this.Fd(r,"font"))&&r.param&&(l=r.param,this.UP&&!this.bM.has(l)&&(this.UP(l),this.bM.add(l)));l&&p.push('"'+l+'"');return p.join(" ")}Ii(l){l instanceof d.sb&&(l=l.Cla());this.sM!==l&&(this.sM=l,this.wr())}LT(l,r,p){c.jQ(l,r,p);this.Ii(c)}V$(){if(!f.has("center"))throw Error("invalid horizontal alignment");"center"!==this.ef&&(this.ef="center",this.wr())}Raa(){if(!a.has("center"))throw Error("invalid vertical alignment");"center"!==this.Qe&&(this.Qe="center",
this.wr())}mU(l){if(!e.has(l))throw Error("invalid word wrap mode");this.Zs!==l&&(this.Zs=l,this.Ar())}mu(l){this.Ac!==l&&(this.Ac=l,this.Ar())}vc(l,r,p){"undefined"===typeof p&&(p=1);if(!(0>=l||0>=l||this.dg===l&&this.ln===r&&this.sj===p)){1===this.sj!==(1===p)&&(this.YN=!0);var t=this.dg,v=this.sj;this.dg=l;this.ln=r;this.sj=p;l=self.devicePixelRatio;this.$=this.dg*this.sj*l;this.Z=this.ln*this.sj*l;l=Math.max(this.$,this.Z);r=Math.min(this.Ja.cG,2048);p=1;l>r&&(p=r/l,this.$=Math.min(this.$*p,r),
this.Z=Math.min(this.Z*p,r));this.pA=p;0<this.GA&&0<this.EA&&this.sj===v&&this.Mk.set(0,0,this.$/this.GA,this.Z/this.EA);this.dg!==t?this.Ar():this.wr()}}M(){return this.$}N(){return this.Z}UR(){this.qr();return this.rg.FR()}TR(){this.qr();return this.rg.X4()+this.rg.Rl.length*(this.Xc+4)-this.Xc}Rd(){this.TO.nd();this.Ofa();return this.Kb}Ofa(){this.Kb&&!this.qM&&!this.QG||this.tN||0>=this.$||0>=this.Z||(this.qM=!1,this.tN=!0,this.Bz?d.rm(()=>this.jV()):this.jV())}jV(){this.UA||(this.hX(Math.ceil(this.$),
Math.ceil(this.Z)),this.qr(),this.Mda(),this.mja(),this.TO.nd(),this.tN=!1)}hX(l,r){this.Os||(this.Os=d.ti(16,16));let p=!1;if(this.bZ!==l||this.aZ!==r)this.bZ=l,this.aZ=r,this.Os.width=l,this.Os.height=r,p=!0;this.pf||(this.pf=this.Os.getContext("2d"),p=!0);p?(this.pf.textBaseline=this.Af?"alphabetic":"top",this.pf.font=this.DN,this.pf.fillStyle=this.TF,this.pf.strokeStyle=this.TF,this.pf.globalAlpha=this.FN,this.pf.lineWidth=this.EN):this.pf.clearRect(0,0,l,r)}fW(){this.In||(this.In=d.ti(16,16).getContext("2d"),
this.Yz=d.ti(16,16).getContext("2d"),this.In.textBaseline=this.Af?"alphabetic":"top",this.Yz.textBaseline="top")}wia(l){this.eZ!==l&&(this.eZ=l,this.In.font=l,this.Yz.font=l)}qX(){if(!m){m=!0;this.fW();const l=this.In.measureText("test");q="number"===typeof l.fontBoundingBoxAscent&&"number"===typeof l.fontBoundingBoxDescent}return q}qr(){this.QG&&(this.fW(),!this.Af||this.bk&&this.bk.toString()===this.Ac||(this.bk=new d.tm(this.Ac,{b0:!0})),this.rg.hy(this.Af?this.bk.r0():this.Ac,this.Zz,this.dg,
this.Zs,0),this.QG=!1)}vy(l,r){this.wia(this.AV(!0,r));r=(r=this.Fd(r,"size"))?parseFloat(r.param):this.$E;const p=this.In.measureText(l);let t=0;this.Af&&this.qX()&&(t=p.fontBoundingBoxAscent-this.Yz.measureText(l).fontBoundingBoxAscent);return{width:p.width,height:4/3*r,wh:p.fontBoundingBoxAscent||0,Qg:p.fontBoundingBoxDescent||0,Sg:t}}hia(l){this.DN!==l&&(this.DN=l,this.pf.font=l)}CL(l){this.TF!==l&&(this.TF=l,this.pf.fillStyle=l,this.pf.strokeStyle=l)}gia(l){this.FN!==l&&(this.FN=l,this.pf.globalAlpha=
l)}TW(l){this.EN!==l&&(this.EN=l,this.pf.lineWidth=l)}Mda(){this.$h=0;const l=this.pA*this.sj*self.devicePixelRatio,r=(4+this.Xc)*l;var p=0;const t=this.rg.Rl;if(0!==t.length){var v=this.Af&&this.qX(),y=t[0].height*l;"center"===this.Qe?(p=t.reduce((z,C)=>z+C.height*l+r,0)-r,p=Math.max(this.Z/2-p/2,0),v&&(y=t[0].Sg*l)):"bottom"===this.Qe&&(p=t.reduce((z,C)=>z+C.height*l+r,0)-this.Xc*l,p=this.Z-p-(v?t[t.length-1].Qg*l:0)-2);for(let z=0,C=t.length;z<C;++z){v=t[z];const w=v.height*l,E=p;if(this.Af){if(p+=
0===z?y:w,0<z&&p>this.Z-4*l)break}else if(0<z&&p>=this.Z-w)break;0<=E&&this.Lda(v,p,l);this.Af||(p+=w);p+=r}}}Lda(l,r,p){let t=0;"center"===this.ef?t=(this.$-l.width*p)/2:"right"===this.ef&&(t=this.$-l.width*p);for(const v of l.BP)this.Kda(v,t,r,p,l.height),t+=v.width*p}Kda(l,r,p,t,v){const y=this.pf;var z=v/16;v=l.width*t;var C=l.height*t;const w=l.height/16;var E=(4+this.Xc)*t;const H=l.Od;l=l.text;if(-1!==this.ai){if(this.$h>=this.ai)return;this.$h+l.length>this.ai&&(l=l.substr(0,this.ai-this.$h),
v=this.vy(l,H).width*t);this.$h+=l.length}var M=this.Fd(H,"background"),N=this.lp(H,"u"),Q=this.lp(H,"s");if((!d.KC(l)||M||N||Q)&&!this.lp(H,"hide")){var T=this.Fd(H,"offsetx");r+=T?parseFloat(T.param)*t:0;T=this.Fd(H,"offsety");p+=T?parseFloat(T.param)*t:0;M&&(this.CL(M.param),y.fillRect(r,p-C,v,C+E));E=this.Fd(H,"color");this.CL(E?E.param:this.sM);E=this.Fd(H,"opacity");this.gia(E?parseFloat(E.param)/100:1);(E=this.lp(H,"stroke"))&&this.TW(w*this.pA*this.sj);N&&(N=r,M=p+t*z,T=v,z*=t,E?y.strokeRect(N,
M,T,z):y.fillRect(N,M,T,z));Q&&(z=r,C=p-C/4,Q=v,t*=w,E?y.strokeRect(z,C,Q,t):y.fillRect(z,C,Q,t));this.hia(this.AV(!1,H));g(y,E,l,r,p,v);!E&&(this.TW(w*this.pA*this.sj),t=this.Fd(H,"outline"))&&(this.CL(t.param),g(y,!0,l,r,p,v))}}mja(){this.Ja.Wq()||(this.GA=Math.ceil(this.$),this.EA=Math.ceil(this.Z),this.Mk.set(0,0,this.$/this.GA,this.Z/this.EA),this.YN&&(this.Eg(),this.YN=!1),this.Kb||(this.Kb=this.Ja.SQ(this.GA,this.EA,{vH:1===this.sj,kB:"high"})),this.Ja.Gba(this.Os,this.Kb),this.VP&&this.VP())}Yg(){return this.Mk}Eg(){this.Kb&&
(this.Ja.Wq()||this.Ja.Vk(this.Kb),this.Kb=null)}static Nm(){for(const l of h)l.Eg()}}}"use strict";
{const d=self.B;class b{constructor(c){this.ka=c.ka;this.Ae=c.Ae;this.ye=c.ye;this.fj=null;this.nz=this.Nb=!1;this.uG=0;this.fj=1===this.Ae?this.ye.createQueryEXT():this.ka.createQuery()}j(){this.fV();this.ye=this.ka=null;this.nz=!1}fV(){this.fj&&(1===this.Ae?this.ye.deleteQueryEXT(this.fj):this.ka.deleteQuery(this.fj),this.fj=null)}UH(){if(this.Nb)throw Error("query already active");1===this.Ae?this.ye.beginQueryEXT(this.ye.TIME_ELAPSED_EXT,this.fj):this.ka.beginQuery(this.ye.TIME_ELAPSED_EXT,this.fj);
this.Nb=!0}kI(){if(!this.Nb)throw Error("query not active");1===this.Ae?this.ye.endQueryEXT(this.ye.TIME_ELAPSED_EXT):this.ka.endQuery(this.ye.TIME_ELAPSED_EXT);this.Nb=!1}$H(){if(this.fj&&!this.nz&&!this.Nb){var c=1===this.Ae?this.ye.getQueryObjectEXT(this.fj,this.ye.QUERY_RESULT_AVAILABLE_EXT):this.ka.getQueryParameter(this.fj,this.ka.QUERY_RESULT_AVAILABLE);var f=this.ka.getParameter(this.ye.GPU_DISJOINT_EXT);c&&!f&&(this.uG=1===this.Ae?this.ye.getQueryObjectEXT(this.fj,this.ye.QUERY_RESULT_EXT):
this.ka.getQueryParameter(this.fj,this.ka.QUERY_RESULT),this.uG/=1E9,this.nz=!0);(c||f)&&this.fV()}}fJ(){return this.nz}UI(){if(!this.nz)throw Error("no result available");return this.uG}}d.Da.Qba=class{constructor(c){this.Ja=c;this.wk=c.wk;this.Nb=!1;this.Vp=null;this.gs=!1;this.Rv=null;this.Fs=[]}j(){for(const c of this.Fs)c instanceof b&&c.j();d.H(this.Fs);this.Ja=this.Rv=this.Vp=null}UH(){if(this.Nb)throw Error("query already active");const c=this.Ja.q_;0<c.length?(this.gs=!0,this.Vp=c[c.length-
1],this.Vp.mV(),this.Vp.Fs.push(this)):(this.gs=!1,this.Vp=null);this.Nb=!0;c.push(this);this.nX()}kI(){if(!this.Nb)throw Error("query not active");if(this.Ja.q_.pop()!==this)throw Error("can only end most nested query");this.Nb=!1;this.mV();this.Vp&&(this.Vp.nX(),this.Vp=null)}nX(){this.Rv=d.D(b,this.Ja);this.Fs.push(this.Rv);this.Rv.UH()}mV(){this.Rv.kI();this.Rv=null}$H(){for(const c of this.Fs)c.$H()}fJ(){return this.Fs.every(c=>c.fJ())}UI(){return this.Fs.reduce((c,f)=>c+f.UI(),0)}}}"use strict";
{const d=self.B;d.Da.GU=class{constructor(b,c=1E3){this.Ja=b;this.nka=c;this.Cl=[];this.Ja.fca(this)}j(){this.Bd();this.Ja.gha(this);this.Ja=null}Bd(){for(const b of this.Cl)b.j();d.H(this.Cl)}zQ(){const b=new d.Da.Qba(this.Ja);this.Cl.push(b);this.Cl.length>this.nka&&this.Cl.shift().j();return b}t1(b){for(const c of this.Cl){if(c.wk>=b)break;if(c.gs)break;c.$H()}}AR(b,c){if(c<=b)return NaN;let f=0;for(const a of this.Cl){if(a.wk>=c)break;if(!(a.wk<b))if(a.fJ())f+=a.UI();else return NaN}return f}XQ(b){for(let c=
0,f=this.Cl.length;c<f;++c){const a=this.Cl[c];if(a.wk<b)a.j();else{0<c&&this.Cl.splice(0,c);break}}}}}"use strict";
{const d=self.B,b=self.pw,c=b.MH,f=b.z0,a=b.uH,e={powerPreference:"default",P_:!0,alpha:!1,LP:!1,depth:!1,MP:2},h=new Set(["default","low-power","high-performance"]),g=new d.Td(0,0,1,0,1,1,0,1),m=c.Se(0,0,0),q=c.Se(0,0,0),l=a.create(),r=new d.Td,p=new d.Rect;let t=null;d.uw&&(self.yAa=function(){t?t.loseContext():console.warn("WEBGL_lose_context not supported")},self.zAa=function(){t?t.restoreContext():console.warn("WEBGL_lose_context not supported")});const v=new Set;let y=-1;function z(){y=-1;for(const w of v)w.dla()&&
(w.resolve(),v.delete(w));0<v.size&&(y=self.requestAnimationFrame(z))}function C(w,E,H){if(2<=H&&(H=w.getContext("webgl2",E)))return{sH:H,version:2};H=w.getContext("webgl",E);if(!H)try{H=w.getContext("experimental-webgl",E)}catch(M){console.warn("Error requesting 'experimental-webgl' context: ",M)}return{sH:H,version:1}}d.Da.Pba=class extends d.Da.P9{constructor(w,E){super();E=Object.assign({},e,E);if(!h.has(E.powerPreference))throw Error("invalid power preference");let H=!1;const M={alpha:!!E.alpha,
depth:!1,antialias:!1,powerPreference:E.powerPreference,failIfMajorPerformanceCaveat:!0};E.LP&&(M.desynchronized=!0,M.preserveDrawingBuffer=!0);let N=C(w,M,E.MP);N.sH||(H=!0,M.failIfMajorPerformanceCaveat=!1,N=C(w,M,E.MP));if(!N.sH)throw Error("failed to initialise WebGL context");this.ka=w=N.sH;this.JX=w.getContextAttributes();E.LP&&!this.JX.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");w.getParameter(w.VERSION);this.Ae=N.version;this.ZY=this.$Y=
0;this.jN=this.tq=!!E.depth;this.Pr=null;this.hN=!0;this.RX=this.SX=0;this.nG=this.HY=this.PG=this.aH=null;this.RA=new Float32Array(24E3);this.IY=new Uint16Array(12E3);this.Ns=new Float32Array(16E3);this.mO=new Float32Array(32E3);this.fZ=this.Cs=this.Hf=this.pj=0;this.bq=this.Np=null;this.Hu=[];this.Yc=this.cn=0;this.He=null;this.AN=0;this.dd=d.D(d.Da.d1,this);this.xv=d.D(d.sb,1,1,1,1);this.Op=this.Fn=null;this.wN=this.CN=0;this.hka=this.ika=1;this.KN=.5;this.sv=!1;this.SA=this.TA=-1;this.zN=new d.Rect;
this.cG=-1;this.bG=this.sZ=0;this.NA="(unavailable)";this.yY=H;this.mN=!1;this.Ny=this.hO=null;this.TN=0;this.cka=!!E.P_;this.ye=null;this.mE=new Set;this.q_=[];this.z3(this.IY)}async zC(){super.zC();var w=this.ka;this.xv.kt(1,1,1,1);this.Op=this.Fn=null;this.Cs=this.pj=0;this.fZ=23988;d.H(this.Hu);this.Yc=this.cn=0;this.He=this.Np=null;this.zN.set(0,0,1,1);this.AN=0;var E=this.dd;E.tj=null;E.zq=null;f.set(E.kH,1,1,1,1);E.clearColor.kt(0,0,0,0);E.YP.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);
w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.CN=w.ONE;this.wN=w.ONE_MINUS_SRC_ALPHA;this.Nea(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.tq?(w.enable(w.DEPTH_TEST),w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.jN=this.tq;this.nG=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.nG);w.bufferData(w.ARRAY_BUFFER,this.mO.byteLength,w.DYNAMIC_DRAW);this.aH=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.aH);w.bufferData(w.ARRAY_BUFFER,
this.RA.byteLength,w.DYNAMIC_DRAW);this.PG=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.PG);w.bufferData(w.ARRAY_BUFFER,this.Ns.byteLength,w.DYNAMIC_DRAW);this.HY=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,this.HY);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.IY,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.cG=w.getParameter(w.MAX_TEXTURE_SIZE);E=w.getParameter(w.ALIASED_POINT_SIZE_RANGE);this.sZ=E[0];this.bG=E[1];2048<this.bG&&(this.bG=2048);if(E=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(E.UNMASKED_VENDOR_WEBGL),
this.NA=w.getParameter(E.UNMASKED_RENDERER_WEBGL);this.hO=w.getExtension("KHR_parallel_shader_compile");d.uw&&(t=w.getExtension("WEBGL_lose_context"));if(this.cka)if(1===this.Ae){if("Chromium"!==d.lb.xB||81<=d.lb.WH||"undefined"!==typeof document)this.ye=w.getExtension("EXT_disjoint_timer_query")}else this.ye=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.TN=(this.Ny=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.Ny.MAX_TEXTURE_MAX_ANISOTROPY_EXT):
0;w=d.Da.gy;E=w.wI(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",E,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",E,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",E,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
E,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",E,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
E,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
E,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
E,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",E,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.wI(!0),"<tilemap>"]].map(H=>this.UQ({src:H[0]},H[1],H[2])));this.CG=w[0];this.bq=w[1];this.KO=w[2];this.JO=w[3];this.DG=w[10];this.Ki()}async UQ(w,E,H){w=await d.Da.gy.fb(this,w,E,H);this.gca(w);return w}W9(){this.Np=null}vc(w,E,H){if(this.$!==w||this.Z!==E||H){this.wi();H=this.ka;var M=this.dd;this.$=w;this.Z=E;w=this.WI();E=this.VI();this.EX(w,E,this.$,this.Z);this.DX(w,E,this.Xz);this.bq&&(H.useProgram(this.bq.Ab),this.bq.xX(this.Xz),this.Np=this.bq,this.dd.tj=this.bq);H.bindTexture(H.TEXTURE_2D,
null);H.activeTexture(H.TEXTURE1);H.bindTexture(H.TEXTURE_2D,null);H.activeTexture(H.TEXTURE0);this.Op=this.Fn=null;this.tq&&this.hN&&this.BL(this.$,this.Z);this.He&&this.He.EW(this.$,this.Z);H.bindFramebuffer(H.FRAMEBUFFER,null);this.He=null;M.zq=null}}BL(w,E){const H=this.ka;if(this.Pr){if(this.SX===w&&this.RX===E)return;H.deleteRenderbuffer(this.Pr)}this.Pr=H.createRenderbuffer();H.bindRenderbuffer(H.RENDERBUFFER,this.Pr);H.renderbufferStorage(H.RENDERBUFFER,2<=this.Ae?H.DEPTH_COMPONENT24:H.DEPTH_COMPONENT16,
w,E);H.bindRenderbuffer(H.RENDERBUFFER,null);this.SX=w;this.RX=E}O$(w,E){this.tq&&(this.hN=!1,this.BL(w,E))}s$(){this.tq&&(this.hN=!0,this.BL(this.$,this.Z))}EX(w,E,H,M){this.fk[2]=100;a.KP(this.Hk,this.fk,this.Sl,this.gP);a.perspective(this.Xz,45,w/E,1,1E4);const N=[0,0],Q=[0,0],T=self.devicePixelRatio;this.iT(0,0,w,E,N);this.iT(1,1,w,E,Q);this.vq[0]=T/(Q[0]-N[0]);this.vq[1]=-T/(Q[1]-N[1]);this.$Y=H;this.ZY=M}DX(w,E,H){const M=this.dd;this.ka.viewport(0,0,w,E);w=this.Fr;E=M.tj;for(let N=0,Q=w.length;N<
Q;++N){const T=w[N];T===E?T.yD(H,!0):T.faa()}a.Ga(M.YA,H)}WI(){return this.sv?this.TA:this.M()}VI(){return this.sv?this.SA:this.N()}fy(){Rb(this.xN,this.Hk)||(this.Sd().w6(this.Hk),a.Ga(this.xN,this.Hk),this.Yc=0)}Sd(){const w=this.Hu;this.cn===w.length&&w.push(new d.Da.Oba(this.dd));return w[this.cn++]}wi(){0===this.cn||this.Wq()||(this.sja(),this.Pda(),this.Yc=this.Cs=this.Hf=this.pj=this.cn=0)}sja(){const w=this.ka;0<this.Cs&&(w.bindBuffer(w.ARRAY_BUFFER,this.nG),w.bufferSubData(w.ARRAY_BUFFER,
0,this.mO.subarray(0,this.Cs)));0<this.pj&&(w.bindBuffer(w.ARRAY_BUFFER,this.aH),w.bufferSubData(w.ARRAY_BUFFER,0,this.RA.subarray(0,this.pj)),w.bindBuffer(w.ARRAY_BUFFER,this.PG),w.bufferSubData(w.ARRAY_BUFFER,0,this.Ns.subarray(0,this.Hf)))}Pda(){const w=this.Hu;for(let E=0,H=this.cn;E<H;++E)w[E].Ea()}ld(){return this.xv.Ya}Fg(w,E,H,M){const N=this.xv;N.aB(w,E,H,M)||(N.kt(w,E,H,M),this.Sd().jJ(N),this.Yc=0,this.mk=null)}qe(w){const E=this.xv;E.Ya!==w&&(E.vj(w),this.Sd().jJ(E),this.Yc=0,this.mk=
null)}Ii(w){const E=this.xv;E.jd(w)||(E.set(w),this.Sd().jJ(E),this.Yc=0,this.mk=null)}$t(){this.Fg(1,1,1,1)}cx(){return this.xv}Yf(w){w!==this.Fn&&(this.Sd().r6(w),this.Fn=w,this.Yc=0)}tL(){this.Fn=null}Wf(w){w=this.hea(w);this.AL(w[0],w[1])}AL(w,E){if(w!==this.CN||E!==this.wN)this.Sd().l6(w,E),this.CN=w,this.wN=E,this.Yc=0,this.mk=null}VJ(){this.AL(this.ka.ONE,this.ka.ONE_MINUS_SRC_ALPHA)}NT(){this.AL(this.ka.ONE,this.ka.ZERO)}Rect(w){this.oT(w.P,w.O,w.V,w.U)}oT(w,E,H,M){this.y9(w,E,H,E,H,M,w,M)}my(){let w=
this.pj;w>=this.fZ&&(this.wi(),w=0);1===this.Yc?this.Hu[this.cn-1].vn+=6:(this.Sd().k6(w),this.Yc=1)}PL(w){w.Uma(this.RA,this.pj,this.Gu+this.Su);this.pj+=12}Td(w){this.my();this.PL(w);g.Ug(this.Ns,this.Hf);this.Hf+=8}y9(w,E,H,M,N,Q,T,Z){this.my();const V=this.RA;let aa=this.pj;const ha=this.Gu+this.Su;V[aa++]=w;V[aa++]=E;V[aa++]=ha;V[aa++]=H;V[aa++]=M;V[aa++]=ha;V[aa++]=N;V[aa++]=Q;V[aa++]=ha;V[aa++]=T;V[aa++]=Z;V[aa++]=ha;this.pj=aa;g.Ug(this.Ns,this.Hf);this.Hf+=8}Pm(w,E){this.my();this.PL(w);
E.Tma(this.Ns,this.Hf);this.Hf+=8}mT(w,E){this.my();this.PL(w);E.Ug(this.Ns,this.Hf);this.Hf+=8}VC(w,E,H,M,N,Q,T,Z,V,aa,ha,oa,Y){this.my();const ma=this.RA;let da=this.pj;const xa=this.Gu+this.Su;ma[da++]=w;ma[da++]=E;ma[da++]=xa+H;ma[da++]=M;ma[da++]=N;ma[da++]=xa+Q;ma[da++]=T;ma[da++]=Z;ma[da++]=xa+V;ma[da++]=aa;ma[da++]=ha;ma[da++]=xa+oa;this.pj=da;Y.Ug(this.Ns,this.Hf);this.Hf+=8}F3(w,E){a.Ga(l,this.xN);c.Ga(m,this.fk);c.Ga(q,this.Sl);this.fk[0]=0;this.fk[1]=0;this.fk[2]=100*self.devicePixelRatio;
this.Sl[0]=0;this.Sl[1]=0;this.Sl[2]=0;this.YC();this.fy();if(this.sv){w=this.TA/2;var H=this.SA/2;p.set(-w,H,-w+this.TA,H-this.SA);r.wj(p);p.set(0,0,this.TA/this.$,this.SA/this.Z);this.Pm(r,p)}else if("crop"===w&&this.He&&E){w=this.$/2;H=this.Z/2;const Q=E.M();E=E.N();var M=this.He.M(),N=this.He.N();M=Math.min(M,Q);const T=Math.min(N,E),Z=Math.max(E-N,0);N=Math.max(N-E,0);p.set(-w,H-N,-w+M,H-T-N);r.wj(p);p.set(0,Z,M,T+Z);p.Sk(Q,E);this.Pm(r,p)}else{let [Q,T]=this.Q4(this.He);w=Q/2;H=T/2;this.oT(-w,
H,w,-H)}a.Ga(this.Hk,l);c.Ga(this.fk,m);c.Ga(this.Sl,q);this.fy()}PC(w,E,H,M,N,Q){var T=this.KN;w=w+T-Q;E=E+T-N;H=H+T+Q;M=M+T+N;T=2*Q;const Z=2*N;this.VC(w+N,E-Q,0,H+N,M-Q,0,H-N-T,M+Q-Z,0,w-N+T,E+Q+Z,0,g)}OC(w,E,H,M,N,Q){const T=this.KN;w=w+T-Q;E=E+T-N;H=H+T+Q;M=M+T+N;this.VC(w+N,E-Q,0,H+N,M-Q,0,H-N,M+Q,0,w-N,E+Q,0,g)}NC(w,E,H,M,N,Q){const T=this.KN;w+=T;E+=T;H+=T;M+=T;this.VC(w+N,E-Q,0,H+N,M-Q,0,H-N,M+Q,0,w-N,E+Q,0,g)}n7(w,E,H,M){const N=.5*this.ika,Q=this.hka;2===Q?this.ifa(w,E,H,M,N):1===Q?this.hfa(w,
E,H,M,N):this.gfa(w,E,H,M,N)}ifa(w,E,H,M,N){this.PC(w,E,H,E,0,N);this.PC(H,E,H,M,N,0);this.PC(H,M,w,M,0,-N);this.PC(w,M,w,E,-N,0)}hfa(w,E,H,M,N){this.OC(w,E,H,E,0,N);this.OC(H,E,H,M,N,0);this.OC(H,M,w,M,0,-N);this.OC(w,M,w,E,-N,0)}gfa(w,E,H,M,N){this.NC(w,E,H,E,0,N);this.NC(H,E,H,M,N,0);this.NC(H,M,w,M,0,-N);this.NC(w,M,w,E,-N,0)}zS(w){this.n7(w.P,w.O,w.V,w.U)}hba(w){this.zN.jd(w)||(this.zN.Ga(w),this.Sd().n6(w),this.Yc=0)}o9(w,E,H,M){7996<=this.Cs&&this.wi();let N=this.Cs;var Q=this.Gu+this.Su;2===
this.Yc&&this.AN===Q?this.Hu[this.cn-1].vn++:(this.Sd().i6(N,Q),this.Yc=2,this.AN=Q);Q=this.mO;Q[N++]=w;Q[N++]=E;Q[N++]=H;Q[N++]=M;this.Cs=N}Tm(w){this.Np!==w&&(this.Sd().o6(w),this.Np=w,this.Yc=0,this.mk=null)}E$(){this.Tm(this.bq)}Aaa(w,E,H,M,N,Q,T){if(this.Np!==this.DG)throw Error("must set tilemap fill mode first");this.Sd().s6(w,E,H,M,N,Q,T);this.Yc=0}hu(w,E,H,M,N,Q,T,Z,V,aa,ha){const oa=this.Np;var Y=oa.vY;const ma=!!ha.length;if(Y&&!oa.Z0(E,H,M,N,Q,T,Z,V,aa)||ma&&!oa.Y0(ha)){var da=this.Sd();
da.p6();Y&&(oa.haa(E,H,M,N,Q,T,Z,V,aa),Y=da.ue,Y[0]=Q,Y[1]=T,E.Ug(Y,2),Y[6]=Z,Y[7]=V,H.Ug(Y,12),E=da.$y,N.Ug(E,0),N=E[1],E[1]=E[3],E[3]=N,M.Ug(da.k_,0),da.mg=aa,da.ng=oa.jw.na?w?w.Rd():null:null);ma&&(oa.z$(ha),d.$d(da.wG,ha));this.Yc=0}}Mw(){this.Sd().d6();this.Yc=0}Bd(w){this.Sd().c6(w);this.Yc=0}z1(w,E,H,M){0>H||0>M||(this.Sd().b6(w,E,H,M),this.Yc=0)}fp(){}Vw(){super.Vw();this.ka.flush()}v1(){this.tq&&this.He&&this.He.KE&&(this.Sd().a6(),this.Yc=0)}eD(w){w=!!w;this.jN!==w&&this.tq&&(this.jN=w,
this.Sd().m6(w),this.Yc=0)}s1(){for(const w of this.mE)w.t1(this.wk)}Wq(){return!this.ka||this.ka.isContextLost()||this.mN}Nm(){super.j8();d.Da.CD.Nm();d.Da.FK.Nm();d.Da.rT.Nm();for(const w of this.mE)w.Bd();this.Ny=this.hO=this.ye=null;this.TN=0;this.NA="(unavailable)";this.Pr=this.bq=this.Np=null;for(const w of this.CA.values())w.Nm()}async EJ(){this.mN=!0;await this.zC();this.mN=!1;for(const w of this.CA.values())w.EJ(this);this.vc(this.$,this.Z,!0)}IB(w,E){if(this.Wq())throw Error("context lost");
this.wi();const H=d.D(d.Da.CD,this);H.Rca(w,E);return H}JB(w,E){if(this.Wq())return Promise.reject("context lost");E=Object.assign({},E);const H=E.Iw&&"clamp-to-edge"!==E.Iw||E.Jw&&"clamp-to-edge"!==E.Jw;if(!d.Hc.ImageBitmapOptions||!this.kr()&&H)return d.Hc.ImageBitmap?createImageBitmap(w).then(M=>d.rm(()=>this.IB(M,E))):w instanceof Blob?d.j1(w).then(M=>this.JB(M,E)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>d.rm(()=>this.IB(w,
E))):d.rm(()=>this.IB(w,E));E.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(M=>d.rm(()=>this.IB(M,E)))}SQ(w,E,H){this.wi();const M=d.D(d.Da.CD,this);M.Eca(w,E,H);return M}Gba(w,E){this.wi();E.tX(w,void 0)}Vk(w){w&&(w.mba(),0<w.xd||(this.wi(),w===this.Fn&&(this.ka.bindTexture(this.ka.TEXTURE_2D,null),this.Fn=null),w===this.Op&&(this.ka.activeTexture(this.ka.TEXTURE1),this.ka.bindTexture(this.ka.TEXTURE_2D,null),this.ka.activeTexture(this.ka.TEXTURE0),this.Op=
null),w.VK()))}Y1(w){let E=this.$,H=this.Z,M=!0;w&&("number"===typeof w.width&&(E=w.width,M=!1),"number"===typeof w.height&&(H=w.height,M=!1));if(0>=E||0>=H)throw Error("invalid size");this.wi();const N=d.D(d.Da.FK,this);N.Dca(E,H,Object.assign({W_:M},w));this.He=null;this.dd.zq=null;return N}Xf(w){if(w!==this.He){if(w){w.yF&&w.EW(this.$,this.Z);var E=w.M();var H=w.N();var M=E;var N=H}else E=this.$,H=this.Z,M=this.WI(),N=this.VI();var Q=this.$Y!==E||this.ZY!==H;Q&&this.EX(M,N,E,H);this.Sd().q6(w,
Q,this.Xz);this.He=w;this.Yc=0}}nC(){return this.He}Q4(w){return w?[w.M(),w.N()]:[this.$,this.Z]}dI(w){2>this.Ae||this.He&&0<this.He.Jn?(this.NT(),this.$t(),this.Qw(w,"stretch")):(this.Sd().Y5(w,this.He),this.Yc=0)}Qw(w,E="stretch"){w=w.Rd();if(!w)throw Error("not a texture-backed render target");this.Yf(w);this.F3(E,w)}Uq(w){2>this.Ae||(this.Sd().f6(w.vk),this.Yc=0)}o2(w){this.Xf(null);this.wi();const E=w.Rd();E===this.Fn&&(this.ka.bindTexture(this.ka.TEXTURE_2D,null),this.Fn=null);E===this.Op&&
(this.ka.activeTexture(this.ka.TEXTURE1),this.ka.bindTexture(this.ka.TEXTURE_2D,null),this.ka.activeTexture(this.ka.TEXTURE0),this.Op=null);w.VK()}async D9(w){this.wi();const E=this.He;if(w){var H=w.M();var M=w.N();w=w.vk}else H=this.M(),M=this.N(),w=null;const N=this.ka;N.bindFramebuffer(N.FRAMEBUFFER,w);w=new ImageData(H,M);N.readPixels(0,0,H,M,N.RGBA,N.UNSIGNED_BYTE,new Uint8Array(w.data.buffer));(()=>{N.bindFramebuffer(N.FRAMEBUFFER,null);this.He=null;this.dd.zq=null;this.Xf(E)})();return w}rU(w){this.sl()&&
(this.Sd().u6(w),this.Yc=0)}cR(w){this.sl()&&(this.Sd().e6(w),this.Yc=0)}oja(w){const E=new Promise(H=>v.add({resolve:H,dla:w}));-1===y&&(y=self.requestAnimationFrame(z));return E}K6(){return!!this.JX.desynchronized}a4(){let w=0;for(const E of d.Da.CD.Tka())w+=E.zI();return w}kr(){return 2<=this.Ae}sl(){return!!this.ye}fca(w){this.mE.add(w)}gha(w){this.mE.delete(w)}Nea(w){this.Mea([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],
["destination-over",w.ONE_MINUS_DST_ALPHA,w.ONE],["source-in",w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}"use strict";
{let d=null;const b=new Set;let c=!1;self.H5=class{constructor(f){d=f;Object.defineProperties(this,{Fla:{value:{},writable:!1},storage:{value:new self.L5(d),writable:!1},ABa:{value:d.gg,writable:!1}});d.qf.addEventListener("keydown",a=>{b.has(a.key)?a.stopPropagation():b.add(a.key)});d.qf.addEventListener("keyup",a=>b.delete(a.key));d.Eb().addEventListener("window-blur",()=>b.clear());d.gg&&(self.alert=a=>{c||(c=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(a)})}Pea(f){Object.defineProperties(this.Fla,f)}addEventListener(f,a){d.qf.addEventListener(f,a)}removeEventListener(f,a){d.qf.removeEventListener(f,a)}get yP(){return d.Wg()}get cBa(){return d.Xe()}random(){return d.Nj()}get xh(){return d.Sc().qz}get keyboard(){const f=d.az.keyboard;if(!f)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return f}get $_(){const f=d.az.$_;if(!f)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return f}get pQ(){const f=d.az.pQ;if(!f)throw Error("runtime.touch used but Touch object missing - add it to your project first");return f}alert(f){return d.Vo("runtime","alert",{message:f+(d.gg?" [via Web Worker]":"")})}}}"use strict";self.y5=class{constructor(){}};"use strict";{const d=self.yh;self.L5=class{constructor(b){this.rh=b.EV()}getItem(b){d.Vf(b);return this.rh.getItem(b)}setItem(b,c){d.Vf(b);return this.rh.setItem(b,c)}removeItem(b){d.Vf(b);return this.rh.removeItem(b)}clear(){return this.rh.clear()}keys(){return this.rh.keys()}}}"use strict";
{const d=self.yh,b=new WeakMap;self.yC=class{constructor(c){b.set(this,c);Object.defineProperties(this,{name:{value:c.qa,writable:!1}});c.R().bW(this,c)}addEventListener(c,f){d.Vf(c);d.ol(f);b.get(this).qf.addEventListener(c,f)}removeEventListener(c,f){d.Vf(c);d.ol(f);b.get(this).qf.removeEventListener(c,f)}*T_(){for(const c of b.get(this).za())yield c.Ai()}uP(c){d.Yo(void 0);d.Yo(void 0);if("number"!==typeof c&&"string"!==typeof c)throw new TypeError("invalid layer parameter");var f=b.get(this),
a=f.R();c=a.Sc().wa(c);if(!c)throw Error("invalid layer");f=a.HB(f,c,void 0,void 0,void 0);a=a.ya();a.Kf(!0);f.dE();a.Kf(!1);return f.Ai()}}}"use strict";
{const d=self.yh,b=new WeakMap;self.E5=class{constructor(c){b.set(this,c);const f=[],a=c.$a,e=a.Ch().length;for(let h=0;h<e;++h)f.push(new self.iJ(a,h));Object.defineProperties(this,{name:{value:c.qa,writable:!1},index:{value:c.Ra(),writable:!1},O_:{value:f,writable:!1}})}addEventListener(c,f){d.Vf(c);d.ol(f);b.get(this).qf.addEventListener(c,f)}removeEventListener(c,f){d.Vf(c);d.ol(f);b.get(this).qf.removeEventListener(c,f)}get width(){return b.get(this).M()}set width(c){b.get(this).Ze(c)}get height(){return b.get(this).N()}set height(c){b.get(this).Ye(c)}scrollTo(c,
f){d.Yo(c);d.Yo(f);const a=b.get(this);a.ju(c);a.ku(f)}}}"use strict";
{const d=self.B,b=new WeakMap;self.D5=class{constructor(c){b.set(this,c);const f=[],a=c.$a,e=a.Ch().length;for(let h=0;h<e;++h)f.push(new self.iJ(a,h));Object.defineProperties(this,{name:{value:c.qa,writable:!1},index:{value:c.Ra(),writable:!1},xh:{value:c.Qf().qz,writable:!1},O_:{value:f,writable:!1}})}get isVisible(){return b.get(this).pe()}set isVisible(c){b.get(this).re(c)}get opacity(){return b.get(this).ld()}set opacity(c){c=d.ba(+c,0,1);isNaN(c)||b.get(this).qe(c)}}}"use strict";
{const d=self.B,b=self.yh,c=new WeakMap,f=new WeakMap;function a(h){let g=f.get(h);if(g)return g;g=d.D(d.Event.Eb);f.set(h,g);return g}let e=null;self.Tq=class{constructor(){c.set(this,e);const h={kd:{value:e.R().Ak,writable:!1},TP:{value:e.S().rz,writable:!1},uid:{value:e.lc,writable:!1}};e.mea(h);e.gea(h);Object.defineProperties(this,h);e.R().bW(this,e)}static Wj(h){e=h}static Tj(){return e}zy(){const h=f.get(this);h&&(h.j(),f.delete(this));c.delete(this)}addEventListener(h,g,m){b.Vf(h);b.ol(g);
a(this).addEventListener(h,g,m)}removeEventListener(h,g,m){b.Vf(h);b.ol(g);a(this).removeEventListener(h,g,m)}dispatchEvent(h){a(this).dispatchEvent(h)}ct(){const h=c.get(this);h.R().Ah(h)}}}"use strict";
{const d=self.B,b=self.yh,c=self.Tq,f=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(a=>[a[1],a[0]]);d.D(d.sb);self.Lt=class a extends c{constructor(){super();var e=c.Tj();f.set(this,e);const h=[];var g=e.C();if(e=g.zf){g=g.S().$a.Ch().length;for(let m=0;m<g;++m)h.push(new self.iJ(e,m))}Object.defineProperties(this,{O_:{value:h,
writable:!1}})}get xh(){return f.get(this).C().Qf().qz}get Ue(){return f.get(this).C().wa().Tja}get x(){return f.get(this).C().I()}set x(e){e=+e;const h=f.get(this).C();isNaN(e)||h.I()===e||(h.sf(e),h.T())}get y(){return f.get(this).C().J()}set y(e){e=+e;const h=f.get(this).C();isNaN(e)||h.J()===e||(h.Zf(e),h.T())}get tQ(){return f.get(this).C().kb()}set tQ(e){e=+e;const h=f.get(this),g=h.C();isNaN(e)||g.kb()===e||(g.$f(e),h.R().aa())}get width(){return f.get(this).C().M()}set width(e){e=+e;const h=
f.get(this).C();isNaN(e)||h.M()===e||(h.Ze(e),h.T())}get height(){return f.get(this).C().N()}set height(e){e=+e;const h=f.get(this).C();isNaN(e)||h.N()===e||(h.Ye(e),h.T())}get angle(){return f.get(this).C().ca()}set angle(e){e=d.Cc(+e);const h=f.get(this).C();isNaN(e)||h.ca()===e||(h.Gc(e),h.T())}GP(){f.get(this).C().ub().Kma()}get isVisible(){return f.get(this).C().pe()}set isVisible(e){e=!!e;const h=f.get(this),g=h.C();g.pe()!==e&&(g.re(e),h.R().aa())}get opacity(){return f.get(this).C().ld()}set opacity(e){e=
d.ba(+e,0,1);const h=f.get(this),g=h.C();isNaN(e)||g.ld()===e||(g.qe(e),h.R().aa())}tg(e,h){b.Yo(e);b.Yo(h);return f.get(this).C().Nw(+e,+h)}getParent(){const e=f.get(this).Ka();return e?e.Ai():null}*parents(){for(const e of f.get(this).parents())yield e.Ai()}*children(){for(const e of f.get(this).children())yield e.Ai()}*xq(){for(const e of f.get(this).xq())yield e.Ai()}removeChild(e){b.QJ(e,a);const h=f.get(this);e=f.get(e);h.nl(e)}}}"use strict";
{const d=new WeakMap;self.Hqa=class extends self.Lt{constructor(){super();d.set(this,self.Tq.Tj())}focus(){d.get(this).ia.jR()}blur(){d.get(this).ia.DQ()}}}"use strict";
{const d=self.B,b=self.yh,c=new WeakMap,f=new WeakMap;function a(h){let g=f.get(h);if(g)return g;g=d.D(d.Event.Eb);f.set(h,g);return g}let e=null;self.vx=class{constructor(){c.set(this,e);const h={kd:{value:e.R().Ak,writable:!1},behavior:{value:e.Dh().r4(),writable:!1}};Object.defineProperties(this,h)}static Wj(h){e=h}static Tj(){return e}get instance(){return c.get(this).G.Ai()}zy(){const h=f.get(this);h&&(h.j(),f.delete(this));c.delete(this)}addEventListener(h,g,m){b.Vf(h);b.ol(g);a(this).addEventListener(h,
g,m)}removeEventListener(h,g,m){b.Vf(h);b.ol(g);a(this).removeEventListener(h,g,m)}dispatchEvent(h){a(this).dispatchEvent(h)}}}"use strict";{const d=new WeakMap;self.A5=class{constructor(b){d.set(this,b);Object.defineProperties(this,{kd:{value:b.R().Ak,writable:!1}})}}}"use strict";
{const d=self.B,b=self.yh,c=new WeakMap;self.iJ=class{constructor(f,a){c.set(this,f);Object.defineProperties(this,{index:{value:a,writable:!1}})}get name(){return c.get(this).Ch()[this.index].qa}getParameter(f){b.Qm(f);f=Math.floor(+f);const a=c.get(this).Eh(this.index);if(0>f||f>=a.length)throw new RangeError("invalid effect parameter index");f=a[f];return f instanceof d.sb?[f.nb,f.Ca,f.ob]:f}}}"use strict";
{const d=self.B,b=new Set(["local","remote"]),c=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.c1=class extends d.ua{constructor(f,a){super();var e=a.exportType;this.b=f;this.ZF=new Map;this.Fv=new Map;this.kka=new Map;this.xF="cordova"===e;this.uN=!!a.isiOSCordova;this.CF="file:"===location.protocol;this.Ika=a.supportedAudioFormats||{};this.iM=
new Map;this.JZ=!1;this.CY=this.hY=this.rZ="";this.JE="html5"===e||"scirra-arcade"===e||"instant-games"===e?"remote":"local";this.YL=[];this.hM=new Map;this.lP=[];this.XF=[];this.wY=!1;this.SF=this.gM=this.KA=0;this.UM=!1;this.jka=d.D(d.B9,()=>this.rV(),50);this.tO=new d.IJ(Math.max(d.hardwareConcurrency,8));if(f=a.previewImageBlobs){(e=a.previewProjectFileBlobs)&&Object.assign(f,e);(e=a.projectData)&&(f["data.json"]=e);for(const [h,g]of Object.entries(f))this.ZF.set(h.toLowerCase(),g)}if(a=a.previewProjectFileSWUrls)for(const [h,
g]of Object.entries(a))this.kka.set(h,g);new self.y5(this)}j(){this.ZF.clear();for(const f of this.Fv.values())f.startsWith("blob:")&&URL.revokeObjectURL(f);this.Fv.clear();for(const f of this.YL)f.j();d.H(this.YL);this.hM.clear();d.H(this.XF);this.b=null}R(){return this.b}xia(f){this.rZ=f}iia(f){this.hY=f}oia(f){this.CY=f}OD(f){return this.ZF.has(f.toLowerCase())}ND(f){return this.ZF.get(f.toLowerCase())||null}JI(f){if(!this.OD(f))return f;f=f.toLowerCase();var a=this.Fv.get(f);a||(a=this.ND(f),
a=URL.createObjectURL(a),this.Fv.set(f,a));return a}wm(f,a){a=a||this.JE;const e=this.ND(f);if(e)return Promise.resolve(e);if(d.tJ(f)){const h=f.toLowerCase();return this.xF&&this.CF?this.RQ(h):"local"===a?this.tO.Qc(()=>d.wm(h)):d.wm(h)}return d.wm(f)}Tw(f){const a=this.ND(f);if(a)return d.i1(a);if(d.tJ(f)){const e=f.toLowerCase();return this.xF&&this.CF?this.QQ(e):"local"===this.JE?this.tO.Qc(()=>d.Tw(e)):d.Tw(e)}return d.Tw(f)}Uw(f){const a=this.ND(f);if(a)return d.CQ(a);if(d.tJ(f)){const e=f.toLowerCase();
return this.xF&&this.CF?this.Q1(e):"local"===this.JE?this.tO.Qc(()=>d.Uw(e)):d.Uw(e)}return d.Uw(f)}async hR(f){f=await this.Uw(f);return JSON.parse(f)}MK(f,a){return this.b.Vo("runtime","cordova-fetch-local-file",{filename:f,as:a})}Q1(f){return this.MK(f,"text")}async RQ(f){const a=await this.MK(f,"buffer");f?(f=f.split("."),f=2>f.length?"":c.get(f[f.length-1].toLowerCase())||""):f="";return new Blob([a],{type:f})}async P1(f){f=f.toLowerCase();var a=this.Fv.get(f);if(a)return a;a=await this.RQ(f);
a=URL.createObjectURL(a);this.Fv.set(f,a);return a}QQ(f){return this.MK(f,"buffer")}GR(f){return this.OD(f)?this.JI(f):this.rZ+f.toLowerCase()}OI(f,a=""){if(d.lJ(f)){if(a)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(f)}return this.OD(f)?Promise.resolve(this.JI(f)):this.xF&&this.CF?this.P1(a+f):Promise.resolve(a+f.toLowerCase())}QC(f){if(f.iB&&!b.has(f.iB))throw Error("invalid load policy");let a=this.hM.get(f.url);if(a)return a;a=d.D(d.dS,this,{url:f.url,size:f.size||
0,iB:f.iB||this.JE});this.YL.push(a);this.hM.set(a.pi,a);this.wY||(this.KA+=a.Jj(),this.XF.push(a.BS().then(()=>this.QU(a.Jj()))));return a}async EU(){try{await Promise.all(this.XF),this.SF=1}catch(f){console.error("Error loading: ",f),this.UM=!0,this.rV()}}X$(){this.wY=!0}QU(f){this.gM+=f;this.jka.n1()}rV(){const f=d.D(d.Event,"loadingprogress");this.SF=d.ba(this.gM/this.KA,0,1);f.progress=this.SF;this.b.Eb().dispatchEvent(f)}Nia(f){d.$d(this.lP,f);this.lP.length&&this.XF.push(this.Efa())}Efa(){if("undefined"===
typeof FontFace)return Promise.resolve();const f=[];for(const [a,e,h]of this.lP)this.KA+=h,f.push(this.Dfa(a,e).then(()=>this.QU(h)));return Promise.all(f)}async Dfa(f,a){try{const e=await this.OI(a,this.hY),h=new FontFace(f,`url('${e}')`);this.b.gg?self.fonts.add(h):document.fonts.add(h);await h.load()}catch(e){console.warn(`[C3 runtime] Failed to load web font '${f}': `,e)}}gS(f){return!!this.Ika[f]}Wha(f,a){this.JZ=!!a;for(const [e,h,g]of f)this.iM.set(e,{fileName:e,xla:h.map(m=>({type:m[0],KAa:m[1],
Q_:e+m[1],fileSize:m[2]})),Qla:g})}LR(f){f=this.iM.get(f.toLowerCase());if(!f)return null;let a=null;for(const e of f.xla)if(a||"audio/webm; codecs=opus"!==e.type||(a=e),this.gS(e.type))return e;return a}Fh(f){return(f=this.LR(f))?{url:this.GR(f.Q_),type:f.type}:null}L3(){if(this.JZ){const f=[];for(const a of this.iM.values()){if(a.Qla)continue;const e=this.LR(a.fileName);e&&f.push({pma:a.fileName,url:this.GR(e.Q_),type:e.type,fileSize:e.fileSize})}return f}return[]}async DS(f){f=await this.OI(f);
return await this.b.Vo("runtime","add-stylesheet",{url:f})}}}"use strict";
{const d=self.B;d.b1=class extends d.ua{constructor(b,c){super();this.Mb=b;this.b=b.R();this.pi=c.url;this.Oe=c.size;this.NN=c.iB;this.Ty=null;this.pN=!1;this.Rp=null}j(){this.Ty=this.b=this.Mb=this.Rp=null}Jj(){return this.Oe}BS(){return"local"===this.NN||this.Ty?(this.pN=!0,Promise.resolve()):this.Rp?this.Rp:this.Rp=this.Mb.wm(this.pi,this.NN).then(b=>{this.pN=!0;this.Rp=null;return this.Ty=b}).catch(b=>console.error("Error loading resource: ",b))}yx(){return this.pN}P3(){return this.Ty?Promise.resolve(this.Ty):
this.Rp?this.Rp:this.Mb.wm(this.pi,this.NN)}}}"use strict";
{const d=self.B,b=new d.IJ,c=new Set;d.dS=class extends d.b1{constructor(f,a){super(f,a);this.im=this.Ps=null;this.xd=0;this.EY=this.GY=-1;c.add(this)}j(){this.Eg();if(0!==this.xd)throw Error("released image asset which still has texture references");this.Ps=null;c.delete(this);super.j()}static Xt(){for(const f of c)f.Ps=null,f.im=null,f.xd=0}Kj(f,a){a=a||{};this.xd++;if(this.im)return Promise.resolve(this.im);if(this.Ps)return this.Ps;a.B_=this.b.ra.p_;return this.Ps=this.P3().then(e=>b.Qc(()=>f.JB(e,
a).then(h=>{this.Ps=null;if(0===this.xd)return f.Vk(h),null;this.im=h;this.GY=h.M();this.EY=h.N();return this.im}))).catch(e=>{console.error("Failed to load texture: ",e);throw e;})}Eg(){if(0>=this.xd)throw Error("texture released too many times");this.xd--;0===this.xd&&this.im&&(this.im.oC().Vk(this.im),this.im=null)}Rd(){return this.im}M(){return this.GY}N(){return this.EY}}}"use strict";
{const d=self.B;function b(c,f){return c.C().lm-f.C().lm}d.N9=class extends d.ua{constructor(c,f,a){super();this.Y=f;this.X=a;this.L=[];this.Gz=!0;this.Jk=new Set;this.Az=!1}j(){d.H(this.L);this.Jk.clear()}nd(){d.H(this.L);this.Gz=!0;this.Jk.clear();this.Az=!1}w$(){this.Gz=!1}Yq(){if(!this.L.length)return!0;if(this.L.length>this.Jk.size)return!1;this.bL();return!0}kJ(c){this.Jk.has(c)?(this.Jk.delete(c),0===this.Jk.size&&(this.Az=!1)):(this.L.push(c),this.Gz=1===this.L.length)}Ei(c){this.Jk.add(c);
this.Az=!0;50<=this.Jk.size&&this.bL()}bL(){this.Az&&(this.L.length===this.Jk.size?this.nd():(d.si(this.L,this.Jk),this.Jk.clear(),this.Az=!1))}Oda(){this.Gz||(this.L.sort(b),this.Gz=!0)}iI(c){this.bL();this.Oda();this.L.length&&c.push(this.L)}}}"use strict";
{const d=self.B;d.O9=class extends d.ua{constructor(b,c){super();this.cf=b;this.wf=c;this.gk=d.D(d.Ex)}j(){this.gk.j();this.gk=null}Eo(b,c,f){let a=this.gk.ja(b,c);return a?a:f?(a=d.D(d.N9,this,b,c),this.gk.Set(b,c,a),a):null}Rj(b){return Math.floor(b/this.cf)}Sj(b){return Math.floor(b/this.wf)}tf(b,c,f){if(c)for(let a=c.P,e=c.V;a<=e;++a)for(let h=c.O,g=c.U;h<=g;++h){if(f&&f.tg(a,h))continue;const m=this.Eo(a,h,!1);m&&(m.Ei(b),m.Yq()&&this.gk.Jq(a,h))}if(f)for(let a=f.P,e=f.V;a<=e;++a)for(let h=f.O,
g=f.U;h<=g;++h)c&&c.tg(a,h)||this.Eo(a,h,!0).kJ(b)}WC(b,c){let f=this.Rj(b.P);const a=this.Sj(b.O),e=this.Rj(b.V);for(b=this.Sj(b.U);f<=e;++f)for(let h=a;h<=b;++h){const g=this.Eo(f,h,!1);g&&g.iI(c)}}A7(b){let c=b.P;const f=b.O,a=b.V;for(b=b.U;c<=a;++c)for(let e=f;e<=b;++e){const h=this.Eo(c,e,!1);h&&h.w$()}}}}"use strict";
{const d=self.B,b=new d.Rect,c=new d.Td,f=[],a=new d.Rect,e=new d.Rect,h=self.pw.MH,g=h.Se(0,1,0);function m(l,r){return l.C().lm-r.C().lm}function q(l,r){return l.C().kb()-r.C().kb()}d.vJ=class extends d.ua{constructor(l,r,p){super();this.$i=l;this.b=l.R();this.qa=p[0];this.bb=r;this.wb=p[2];this.PF=!!p[3];this.Sy=d.D(d.sb);this.Sy.qm(p[4].map(t=>t/255));this.Lp=!!p[5];this.jg=p[6];this.kg=p[7];this.pb=d.D(d.sb,1,1,1,p[8]);this.pG=d.D(d.sb);this.kN=p[9];this.Cka=p[17];this.Ws=p[10];this.Nk=p[11];
this.up=p[12];this.zp=null;this.zc=1;this.Md=p[16];this.Hd=0;this.gN=!0;this.Zd=d.D(d.Rect);this.kw=d.D(d.Rect);this.m_=[];this.Il=[];this.HE=[];this.KY=new Map;this.L=[];this.Jr=this.oP=!1;this.$a=d.D(d.um,this,p[15]);this.Sv=null;this.BN=[];this.JF=!1;this.gka=d.D(d.Rect,0,0,-1,-1);this.Jja=d.D(d.Rect,0,0,-1,-1);this.Tja=new self.D5(this);this.AX();this.Ws&&(this.Sv=d.D(d.O9,this.b.jf,this.b.hf));for(const t of p[14])l=this.b.Ag(t[1]),this.$i.OU(l),l.Vu||l.OT(t),this.Il.push(t),this.KY.set(t[2],
t);d.$d(this.m_,this.Il)}static fb(l,r,p){return d.D(d.vJ,l,r,p)}j(){this.b=this.$i=null}u4(l){return this.KY.get(l)}U1(l){const r=this.$i.es;let p=0;const t=this.Il;for(let y=0,z=t.length;y<z;++y){var v=t[y];const C=this.b.Ag(v[1]);let w=!0;if(!C.eJ()||r)v=this.b.Cj(v,this,!0),l.push(v),C.Nh()&&(w=!1,this.HE.push(v.lc));w&&(t[p]=t[y],++p)}d.zd(t,p);this.b.We();this.Uh()}Oi(l,r){const p=l.C();if(p.wa()!==this)throw Error("instance added to wrong layer");this.L.push(l);0!==p.kb()&&(this.Jr=!0);r&&
this.Ws&&l.C().T();this.Uh()}Ifa(l){this.L.includes(l)||(this.L.push(l),0!==l.C().kb()&&(this.Jr=!0),this.Uh())}Nga(l){const r=l.C();if(r.wa()!==this)throw Error("instance added to wrong layer");this.L.unshift(l);0!==r.kb()&&(this.Jr=!0);this.Uh()}tr(l,r){const p=this.L.indexOf(l);0>p||(r&&this.Ws&&l.C().AW(),this.L.splice(p,1),this.Uh(),this.iW())}QW(){this.Jr=!0}iW(){0===this.L.length&&(this.Jr=!1)}HL(l){if(l){l=new Set;for(var r of this.L){var p=r.C().lm;0<=p&&l.add(p)}r=-1;for(const t of this.L)if(p=
t.C(),!(0<=p.lm)){for(++r;l.has(r);)++r;p.aE(r)}}this.L.sort(m)}Nda(){for(const l of this.L)l.S().Nh()||this.b.Ah(l);this.b.We();d.H(this.L);this.Jr=!1;this.Uh()}Jx(l,r,p,t,v){const y=this.b.ya(),z=this.b.Gd,C=l.mb,w=[];for(const M of this.Il){var E=M[0];if(r.tg(E[0],E[1])){E=z[M[1]];if(E!==l)if(C){if(!l.gR(E))continue}else continue;E=this;var H=this.b.gb();this.Qf()!==H&&((E=H.ER(this.qa))||(E=H.iC(this.Ra())));H=this.b.Cj(M,E,!1,void 0,void 0,!1,v);E.rK(H);E=H.C();E.Dd(p,t);E.T();y.Kf(!0);H.dE();
y.Kf(!1);w.push(H)}}return w}Qf(){return this.$i}Ra(){return this.bb}R(){return this.b}xm(){return this.b.xm()}naa(){this.JF=!1}pe(){return this.PF}re(l){l=!!l;this.PF!==l&&(this.PF=l,this.b.aa())}uC(l,r){var p=this.kw;if(0===l)r.Ga(p);else{const t=this.UB(l);l=p.so();const v=p.uo(),y=.5*p.width()/t;p=.5*p.height()/t;r.set(l-y,v-p,l+y,v+p)}}ld(){return this.pb.Ya}qe(l){l=d.ba(l,0,1);this.pb.Ya!==l&&(this.pb.vj(l),this.AX(),this.b.aa())}AX(){this.pG.Ga(this.pb);this.pG.CH()}NI(){return this.pG}Mo(){return this.pb.aB(1,
1,1,1)}oaa(l){this.Nk!==l&&(this.Nk=l,this.b.aa())}kaa(l,r){if(this.jg!==l||this.kg!==r)if(this.jg=l,this.kg=r,this.b.aa(),1!==this.jg||1!==this.kg)for(const p of this.L)p.S().zL(!0)}$f(l){l=+l;this.Md!==l&&(this.Md=l,this.b.aa())}kb(){return this.Md}Gc(l){this.Hd=d.Cc(l)}ca(){return this.gN?d.Cc(this.$i.ca()+this.Hd):0}p5(){return 0<this.L.length}Jaa(l){this.Lp=!!l}R$(l){this.kN=!!l}Wf(l){this.up!==l&&(this.up=l,this.b.aa())}yi(){return this.up}f7(l){return this===l||this.jg===l.jg&&this.kg===l.kg&&
this.zc===l.zc&&this.Nk===l.Nk&&this.Hd===l.Hd}$ga(l){0!==l.size&&0<d.si(this.L,l)&&(this.iW(),this.Uh())}Uh(){this.JF=this.oP=!1}hE(){if(!this.oP){this.L.sort(q);if(this.Ws)for(let l=0,r=this.L.length;l<r;++l){const p=this.L[l].C();p.aE(l);this.Sv.A7(p.lA)}else for(let l=0,r=this.L.length;l<r;++l)this.L[l].C().aE(l);this.oP=!0}}H7(l,r,p){var t=l.C();r=r.C();if(t.wa()!==this||r.wa()!==this)throw Error("can't arrange Z order unless both objects on this layer");t=t.Gm();r=r.Gm();if(t===r+(p?1:-1))return!1;
d.$ka(this.L,t);t<r&&r--;p&&r++;r===this.L.length?this.L.push(l):this.L.splice(r,0,l);this.Uh();return!0}Sfa(l,r){const p=[];let t=0,v=0,y=l.length,z=r.length;for(;t<y&&v<z;){const C=l[t],w=r[v];C.C().lm<w.C().lm?(p.push(C),++t):(p.push(w),++v)}for(;t<y;++t)p.push(l[t]);for(;v<z;++v)p.push(r[v]);return p}Rfa(l){const r=[],p=l.length;for(let t=0;t<p-1;t+=2)r.push(this.Sfa(l[t],l[t+1]));1===p%2&&r.push(l[p-1]);return r}Qfa(l){for(;1<l.length;)l=this.Rfa(l);return l[0]}wea(){this.hE();d.H(f);this.Sv.WC(this.Zd,
f);return f.length?1===f.length?f[0]:this.Qfa(f):[]}efa(){return!this.AD()&&!this.Lp}nU(){return this.pe()&&0<this.ld()&&(this.p5()||!this.Lp)}AD(){return this.kN||!this.Mo()||0!==this.yi()||this.$a.tx()}nC(){return this.zp}tca(l){if(0===l.length)return!0;if(2<=l.length)return!1;l=l[0].Ab;return!l.To()&&!l.PA&&!l.uM&&this.Mo()}UB(l){const r=this.sI();return r/(r-l)}sI(){return 100/this.$k()}jX(l){const r=this.b.Em();var p=(this.Zd.so()+0)*r;const t=(this.Zd.uo()+0)*r,v=this.sI();l.bD(p,t,v);l.rD(p,
t,v-100);p=this.ca();0===p?h.set(g,0,1,0):h.set(g,Math.sin(p),Math.cos(p),0);l.YC(g);l.k$(r,r);l.fy()}Ec(l,r,p){const t=this.b.ra,v=this.AD();var y=null;let z=null;if(this.b.oS()&&l.sl()){const C=t.H4(this);C&&(z=C.zQ(),l.rU(z))}v?(y={Jf:this.b.Lc},"low"===t.yk&&(y.width=t.Zk(),y.height=t.Yk()),y=this.b.Yw(y),l.Xf(y),this.Lp&&l.Mw()):l.Xf(r);this.Lp||l.Bd(this.Sy);this.zp=y||r;this.jX(l);l.aD(this.kb());l.eD(this.R().sq&&this.Cka);this.$k()>Number.EPSILON&&(this.hE(),this.Ws&&0===this.kb()&&!this.Jr?
this.Dda(l):this.kV(l,this.L));l.aD(0);l.bp(0);l.bD(0,0,100);l.rD(0,0,0);v&&(l.eD(!1),this.Eda(l,y,r,p));z&&l.cR(z);this.zp=null}kV(l,r){const p=this.Zd,t=this.zp;let v=null;for(let y=0,z=r.length;y<z;++y){const C=r[y];if(C===v)continue;v=C;const w=C.C();w.pe()&&w.qS(p)&&(w.tx()?this.Bda(C,w,l,t):this.zda(C,w,l))}}Dda(l){var r=this.Sv;const p=this.Jja,t=this.gka,v=this.Zd;p.set(r.Rj(v.P),r.Sj(v.O),r.Rj(v.V),r.Sj(v.U));this.JF&&p.jd(t)?r=this.BN:(r=this.wea(),this.JF=!0,t.Ga(p));this.kV(l,r);r!==this.BN&&
d.$d(this.BN,r)}zda(l,r,p){r=r.Ls;p.mk!==r&&r.X0();l.Ec(p)}Bda(l,r,p,t){this.Ada(l,r,p,t)&&this.jX(p)}Ada(l,r,p,t){const v=r.zf.Yj;if(1===v.length){const y=v[0],z=y.Ab;if(!z.qka&&r.Mo()&&!l.To())return this.Cda(l,r,y,z,p),!1}l=d.OJ(p,this.b,l,t,v,null);p.aD(this.kb());return l}Cda(l,r,p,t,v){v.Tm(t);v.Wf(r.yi());t.nE&&this.b.aa();let y=0,z=0;if(t.Nka){const [C,w]=l.bC();y=1/C;z=1/w;(t=l.cC())?e.Ga(t):e.set(0,0,0,0)}p=r.zf.Eh(p.Ra());v.bp(r.kb());v.hu(null,a,e,e,r.ub(),y,z,this.zc,this.ca(),this.b.Xe(),
p);l.Ec(v)}Eda(l,r,p,t){const v=this.$a.Yj,y=this.b;if(this.tca(v)){l.Xf(p);if(1===v.length){var z=v[0];p=z.Ab;l.Tm(p);e.set(0,0,1,1);z=this.$a.Eh(z.Ra());l.hu(null,a,e,e,this.Zd,1/y.Zk(),1/y.Yk(),this.$k(),this.ca(),y.Xe(),z);p.nE&&y.aa()}else l.Ki();t&&0===this.up&&this.Mo()&&0===v.length?l.dI(r):(l.Wf(this.up),l.Ii(this.pG),l.Qw(r));l.Uq(r);y.Wo(r)}else d.OJ(l,y,this,p,v)}jaa(l){this.zc!==l&&(this.zc=l,this.$i.wB(),this.b.aa())}Em(){return this.$k()*this.b.Em()}ym(){return this.$k()*this.b.ym()}$k(){return(this.zc*
this.$i.zc-1)*this.Nk+1}CK(){this.gN=!1;let [l,r]=this.Bo(0,0);this.gN=!0;this.b.Ek&&(l=Math.round(l),r=Math.round(r));var p=1/this.$k();const t=this.kw;t.set(l,r,l+this.b.rj*p,r+this.b.qj*p);p=this.ca();0!==p&&(b.Ga(t),b.offset(-t.so(),-t.uo()),c.iQ(b,p),c.GP(b),b.offset(t.so(),t.uo()),t.Ga(b));this.uC(this.Md,this.Zd)}Bo(l,r,p=0){return this.wca(l,r,p,this.ym())}wca(l,r,p,t){var v=this.b.fO,y=this.b.gO;v=(this.$i.Yn-v)*this.jg+v;y=(this.$i.Zn-y)*this.kg+y;var z=this.$k();l=v-this.b.rj/z/2+l/t;r=
y-this.b.qj/z/2+r/t;z=this.ca();if(0!==z){l-=v;r-=y;t=Math.cos(z);z=Math.sin(z);const C=l*t-r*z;r=r*t+l*z;l=C;l+=v;r+=y}0!==p&&(v=this.kw.so(),y=this.kw.uo(),p=this.UB(p),l=(l-v)/p+v,r=(r-y)/p+y);return[l,r]}q1(l,r){const p=this.zc,t=this.Nk,v=this.jg,y=this.kg,z=this.Hd;this.kg=this.jg=this.Nk=this.zc=1;this.Hd=0;l=this.Bo(l,r);this.zc=p;this.Nk=t;this.jg=v;this.kg=y;this.Hd=z;return l}St(l,r){return this.YV(l,r,0,this.ym())}MC(l,r,p=0){return this.YV(l,r,p,this.Em()*this.xm())}YV(l,r,p,t){const v=
this.b;var y=this.$i;if(0!==p){var z=this.kw.so(),C=this.kw.uo();p=this.UB(p);l=(l-z)*p+z;r=(r-C)*p+C}z=v.fO;C=v.gO;z=(y.Yn-z)*this.jg+z;y=(y.Zn-C)*this.kg+C;p=this.ca();if(0!==p){l-=z;r-=y;C=Math.cos(-p);p=Math.sin(-p);const w=l*C-r*p;r=r*C+l*p;l=w;l+=z;r+=y}C=this.$k();return[(l-(z-v.rj/C/2))*t,(r-(y-v.qj/C/2))*t]}Aa(){return{s:this.zc,a:this.Hd,vl:this.Zd.P,vt:this.Zd.O,vr:this.Zd.V,vb:this.Zd.U,v:this.pe(),bc:this.Sy.toJSON(),t:this.Lp,px:this.jg,py:this.kg,c:this.pb.toJSON(),sr:this.Nk,fx:this.$a.Tb(),
cg:this.HE}}Ia(l){this.zc=l.s;this.Hd=l.a;this.Zd.set(l.vl,l.vt,l.vr,l.vb);this.PF=!!l.v;this.Sy.qm(l.bc);this.Lp=!!l.t;this.jg=l.px;this.kg=l.py;this.pb.qm(l.c);this.Nk=l.sr;d.$d(this.HE,l.cg);d.$d(this.Il,this.m_);const r=new Set(this.HE);let p=0;for(let t=0,v=this.Il.length;t<v;++t)r.has(this.Il[t][2])||(this.Il[p]=this.Il[t],++p);d.zd(this.Il,p);this.$a.Qb(l.fx);this.HL(!1);this.Uh()}rK(l){if(!this.L.includes(l))if(l.Bg()){const r=[...l.xq()];r.push(l);r.sort((p,t)=>{p=p.C().AO;t=t.C().AO;return p-
t});for(const p of r)this.Oi(p,!0)}else this.Oi(l,!0)}}}"use strict";
{const d=self.B,b=self.zj,c=d.D(d.Rect),f=d.D(d.Rect),a=d.D(d.Rect);d.yS=class extends d.ua{constructor(e,h,g){super();this.Hb=e;this.b=e.R();this.qa=g[0];this.yka=g[1];this.xka=g[2];this.$=g[1];this.Z=g[2];this.VY=!!g[3];this.cY=g[4];this.Kd=null;this.wb=g[5];this.bb=h;this.Zn=this.Yn=0;this.zc=1;this.Hd=0;this.qv=new Set;this.mi=new Set;this.FA=new Set;this.Ou=[];this.ZM=[];this.Vd=[];this.jZ=new Map;this.kZ=new Map;this.$a=d.D(d.um,this,g[8]);this.zp=null;this.As={};this.es=!0;this.qz=new self.E5(this);
this.qf=d.D(d.Event.Eb);for(const m of g[6])e=d.vJ.fb(this,this.Vd.length,m),this.Vd.push(e),this.jZ.set(e.qa.toLowerCase(),e),this.kZ.set(e.wb,e);for(const m of g[7]){g=this.b.Ag(m[1]);if(!g)throw Error("missing nonworld object class");g.Vu||g.OT(m);this.ZM.push(m);this.OU(g)}}j(){for(const e of this.Vd)e.j();d.H(this.Vd);this.FA.clear();this.b=this.Hb=this.Kd=null}R(){return this.b}Ra(){return this.bb}HR(){let e=this.Vd[0].$k();for(let h=1,g=this.Vd.length;h<g;++h){const m=this.Vd[h];if(0!==m.jg||
0!==m.kg)e=Math.min(e,m.$k())}return e}ju(e){if(!this.VY){const h=1/this.HR()*this.b.rj/2;e>this.$-h&&(e=this.$-h);e<h&&(e=h)}this.Yn!==e&&(this.Yn=e,this.b.aa())}ku(e){if(!this.VY){const h=1/this.HR()*this.b.qj/2;e>this.Z-h&&(e=this.Z-h);e<h&&(e=h)}this.Zn!==e&&(this.Zn=e,this.b.aa())}wB(){this.ju(this.Yn);this.ku(this.Zn)}iu(e){e=+e;this.zc!==e&&(this.zc=e,this.wB())}Gc(e){this.Hd=d.Cc(e)}ca(){return this.Hd}M(){return this.$}Ze(e){!isFinite(e)||1>e||(this.$=e)}N(){return this.Z}Ye(e){!isFinite(e)||
1>e||(this.Z=e)}wa(e){return"number"===typeof e?this.iC(e):this.ER(e.toString())}iC(e){e=d.ba(Math.floor(e),0,this.Vd.length-1);return this.Vd[e]}ER(e){return this.jZ.get(e.toLowerCase())||null}jC(e){return this.kZ.get(e)||null}r5(){for(const e of this.Vd)if(e.nU())return e.efa();return!1}CV(){return[...this.qv]}OU(e){if(e.md())for(const h of e.jk.Mn)this.qv.add(h);else this.qv.add(e)}zea(){return[...this.mi]}gL(e,h){if(e===this||!h)return Promise.resolve();e&&(d.O1(this.mi,e.mi),e.mi.clear());e=
[];for(const g of this.qv)this.mi.has(g)||(e.push(g.Mm(h)),this.mi.add(g));return Promise.all(e)}async GS(e){if(e.mb)throw Error("cannot load textures for family");var h=this.b.oe();!h||h.Wq()||this.mi.has(e)||(this.mi.add(e),h=e.Mm(h),this.eca(h),await h,e.Cx(),this.b.aa())}eca(e){this.FA.add(e);e.then(()=>this.FA.delete(e)).catch(()=>this.FA.delete(e))}Lba(){return Promise.all([...this.FA])}E7(e){if(e.mb||0<e.L.length)throw Error("cannot unload textures");this.b.oe()&&this.mi.has(e)&&(this.mi.delete(e),
e.ml())}hja(e,h){if(e!==this&&h)for(const g of this.mi)g.Nh()||e.qv.has(g)||(g.ml(),this.mi.delete(g))}yy(){this.mi.clear()}async pX(e){const h=this.b,g=this.Hb,m=h.ya();this.cY&&(this.Kd=m.vR(this.cY),this.Kd.OL());g.cX(this);this.$=this.yka;this.Z=this.xka;this.Yn=h.jf/2;this.Zn=h.hf/2;this.wB();this.Ufa(e);this.Lca();this.es||this.Nca();this.ZU(this.Ou);this.Mca();g.y1();h.We();const q=this.b.tja;await Promise.all(q);d.H(q);if(!h.Ml){for(const l of this.Ou)l.Saa();for(const l of this.Ou)l.KL()}d.H(this.Ou);
await Promise.all([...this.qv].map(l=>l.HJ(this.b.oe())));e&&(h.Eb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await h.Kq(new d.Event("beforeprojectstart")));await this.Kq(new d.Event("beforelayoutstart"));h.Ml||await h.rb(d.A.Pa.F.ZS,null,null);await this.Kq(new d.Event("afterlayoutstart"));e&&(h.Eb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await h.Kq(new d.Event("afterprojectstart")));m.xha(g);await this.Lba();this.es=!1}Ufa(e){for(const g of this.b.Gd)if(!g.mb&&g.mh)for(const m of g.za()){const q=
m.C();var h=q.wa();h=d.ba(h.Ra(),0,this.Vd.length-1);h=this.Vd[h];q.Dy(h);h.Ifa(m)}if(!e)for(const g of this.Vd)g.HL(!1)}Lca(){for(const e of this.Vd)e.U1(this.Ou),e.CK()}Nca(){let e=!1;for(const [g,m]of Object.entries(this.As)){const q=this.b.mx(parseInt(g,10));if(q&&!q.mb&&q.eJ()){for(const l of m){var h=null;if(q.mh&&(h=this.jC(l.w.l),!h))continue;h=this.b.Cj(q,h,!1,0,0,!0);h.Qb(l);e=!0;this.Ou.push(h)}d.H(m)}}for(const g of this.Vd)g.HL(!0),g.Uh();e&&(this.b.We(),this.b.vW())}ZU(e){for(const g of e){if(!g.md())continue;
const m=g.C(),q=g.Nq();for(const l of g.S().jk.Mn)if(l!==g.S()){var h=l.za();h.length>q?g.su(h[q]):(h=m?this.b.Cj(l,m.wa(),!0,m.I(),m.J(),!0):this.b.Cj(l,null,!0,0,0,!0),this.b.We(),l.fE(),g.su(h),e.push(h))}}}Mca(){for(const e of this.ZM)this.b.Ag(e[1]).md()||this.b.Cj(e,null,!0)}Jca(){const e=[],h=this.ZM;let g=0;for(let m=0,q=h.length;m<q;++m){const l=h[m],r=this.b.Ag(l[1]);r.Nh()?r.md()&&r.jk.l5()||e.push(this.b.Cj(l,null,!0)):(h[g]=l,++g)}d.zd(h,g);this.b.We();this.ZU(e)}Jx(e,h,g,m,q,l){if(g)return g.Jx(e,
h,m,q,l);g=[];for(const r of this.Vd)g.push(r.Jx(e,h,m,q,l));return g.flat()}async Xia(){const e=this.Hb;this.b.Ml||await this.b.rb(d.A.Pa.F.E8,null,null);e.WT(!0);this.b.ya().BB();this.es||this.Hha();for(const h of this.Vd)h.Nda();for(const h of this.b.Gd)if(!(h.Nh()||h.mh||h.hc().Jp||h.mb)){for(const g of h.za())this.b.Ah(g);this.b.We()}e.WT(!1);e.Sc()===this&&e.cX(null)}Fha(e){const h=e.S().wb.toString();this.As.hasOwnProperty(h)||(this.As[h]=[]);this.As[h].push(e.Tb())}Hha(){for(const e of this.Vd){e.hE();
for(const h of e.L){const g=h.S();!g.Nh()&&g.eJ()&&this.Fha(h)}}}X9(){this.As={};this.es=!0}nC(){return this.zp}AD(){return"low"===this.b.ra.yk||this.b.hP||"low-latency"===this.b.Nu||this.$a.tx()||this.b.sq}uca(e){return 0===e.length?!0:2<=e.length?!1:!e[0].Ab.To()}Ec(e){var h=this.b.ra;const g=this.AD();var m=null;g?("low-latency"!==this.b.Nu&&(e.Xf(null),e.Mw()),m={Jf:this.b.Lc,cQ:this.b.hP||this.$a.tx()},"low"===h.yk&&(m.width=h.Zk(),m.height=h.Yk()),m=this.b.Yw(m),e.Xf(m)):e.Xf(null);this.r5()||
e.Mw();this.b.sq&&e.v1();this.zp=m;h=!0;for(const q of this.Vd)q.CK(),q.nU()&&(q.Ec(e,m,h),h=!1);g&&(e.eD(!1),this.Fda(e,m));this.zp=null}Fda(e,h){const g=this.$a.Yj,m=this.b;if(this.uca(g)){e.Xf(null);if(1===g.length){var q=g[0];const l=q.Ab;e.Tm(l);f.set(0,0,1,1);a.set(0,0,m.rj,m.qj);q=this.$a.Eh(q.Ra());e.hu(null,c,f,f,a,1/m.Zk(),1/m.Yk(),this.zc,this.ca(),m.Xe(),q);l.nE&&m.aa()}else e.Ki();0===g.length?e.dI(h):(e.VJ(),e.$t(),e.Qw(h));e.Uq(h);m.Wo(h)}else d.OJ(e,m,this,null,g)}Aa(){const e={sx:this.Yn,
sy:this.Zn,s:this.zc,a:this.ca(),w:this.M(),h:this.N(),fv:this.es,persist:this.As,fx:this.$a.Tb(),layers:{}};for(const h of this.Vd)e.layers[h.wb.toString()]=h.Aa();return e}Ia(e){this.Yn=e.sx;this.Zn=e.sy;this.zc=e.s;this.Hd=e.a;this.$=e.w;this.Z=e.h;this.es=!!e.fv;this.As=e.persist;this.$a.Qb(e.fx);for(const [h,g]of Object.entries(e.layers))(e=this.jC(parseInt(h,10)))&&e.Ia(g)}vi(e){e.xh=this.qz;var h=this.b;(h=h.Sb&&!h.ya().FC())&&b.uK();this.qf.dispatchEvent(e);h&&b.SH()}Kq(e){e.xh=this.qz;return this.qf.xP(e)}}}"use strict";
{const d=self.B;d.m7=class extends d.ua{constructor(b){super();this.b=b;this.$j=[];this.IN=new Map;this.JN=new Map;this.Wz=null;this.xO=[];this.YE=null;this.BF=0;this.cA=null}j(){this.cA=this.YE=this.Wz=this.b=null;d.H(this.$j);this.IN.clear();this.JN.clear();d.H(this.xO)}fb(b){b=d.D(d.yS,this,this.$j.length,b);this.$j.push(b);this.IN.set(b.qa.toLowerCase(),b);this.JN.set(b.wb,b)}R(){return this.b}N$(b){this.YE=b}l4(){if(this.YE)return this.YE;if(this.$j.length)return this.$j[0];throw Error("no first layout");
}Dt(b){return this.IN.get(b.toLowerCase())||null}II(b){return this.JN.get(b)||null}I4(b){b=d.ba(Math.floor(b),0,this.$j.length-1);return this.$j[b]}Qf(b){return"number"===typeof b?this.I4(b):this.Dt(b.toString())}cX(b){this.Wz=b}Sc(){return this.Wz}*pB(){this.Wz&&(yield this.Wz);this.xO.length&&(yield*this.xO)}WT(b){if(b)this.BF++;else{if(0>=this.BF)throw Error("already unset");this.BF--}}mS(){return 0<this.BF}AB(b){this.cA=b}y1(){this.cA=null}Pt(){return!!this.cA}}}"use strict";
{const d=self.B;class b{constructor(){this.kd=this.ug=null;this.Cw=this.Dw=this.uj=this.ro=0;this.yw=new d.Rect;this.vo=new d.Rect;this.Eq=new d.Rect;this.nB=new d.Rect;this.zw=new d.Rect;this.clearRect=new d.Rect;this.KH=new d.Rect;this.R_=[null,null];this.Cq=0;this.et=1;this.ww=this.xw=this.ow=this.mw=0;this.wo=this.Tg=this.Te=this.Ue=this.xh=null;this.mH=this.ZP=this.BH=!1;this.yH=null}Bd(){this.yH=this.wo=this.Tg=this.Te=this.Ue=this.xh=this.kd=this.ug=null}Uaa(g){g=g.Ab;if(g.To())return!0;if(this.Te)return g.PA&&
(0!==this.Tg.ca()||0>this.Tg.M()||0>this.Tg.N())||0!==this.mw||0!==this.ow||!this.Tg.Mo()||this.Te.To();if(this.Ue)return!this.Ue.Mo()}Taa(g){g=g.Ab;return g.PA||g.uM||this.xh&&"low"===this.kd.ra.yk}Ct(g){if(0!==g&&1!==g)throw Error("invalid effect target");const m=this.R_;if(!m[g]){var q=this.kd;const l=q.ra;q={Jf:q.Lc};"low"===l.yk&&(q.width=l.Zk(),q.height=l.Yk());m[g]=l.Yw(q)}return m[g]}F9(){const g=this.R_,m=this.kd.ra;g[0]&&(m.Wo(g[0]),g[0]=null);g[1]&&(m.Wo(g[1]),g[1]=null)}}const c=[];let f=
0;const a=new d.Td;let e=!1;async function h(g,m,q){m=await d.Da.FK.c2(m,q);m=URL.createObjectURL(m);console.log("[FX] "+g+" "+(q?"":" [to display]")+": ",m)}d.OJ=function(g,m,q,l,r,p){f===c.length&&c.push(new b);var t=c[f++];t.ug=g;t.kd=m;if(q instanceof d.Instance)t.Te=q,t.Tg=t.Te.C();else if(q instanceof d.vJ)t.Ue=q;else if(q instanceof d.yS)t.xh=q;else throw Error("invalid effects object");q=m.ra;t.wo=l;t.ro=q.Zk();t.uj=q.Yk();t.Dw=t.ro;t.Cw=t.uj;t.Cq=0;t.et=1;t.mw=0;t.ow=0;t.zw.set(0,0,t.ro,
t.uj);t.clearRect.set(0,0,t.ro,t.uj);t.mH=!1;t.yH=p;t.Te?(l=t.Tg,t.xw=l.wa().Em(),t.ww=l.wa().ca(),t.yw.Ga(l.ub())):t.Ue?(l=t.Ue,t.xw=l.Em(),t.ww=l.ca(),t.yw.Ga(l.Zd)):(l=t.xh,t.xw=l.zc,t.ww=l.ca(),t.yw.set(0,0,t.ro,t.uj));if(t.Te){{for(let N=0,Q=r.length;N<Q;++N)l=r[N].Ab,t.mw+=l.dY,t.ow+=l.eY;var v=t.Tg;l=v.wa();p=l.ca();q=v.ub();v=v.Ci();let [w,E]=l.MC(q.P,q.O,v),[H,M]=l.MC(q.V,q.U,v);if(0!==p){const [N,Q]=l.MC(q.V,q.O,v),[T,Z]=l.MC(q.P,q.U,v);l=Math.min(w,H,N,T);H=Math.max(w,H,N,T);w=l;l=Math.min(E,
M,Q,Z);M=Math.max(E,M,Q,Z);E=l}l=t.zw;p=t.nB;q=t.Eq;v=t.clearRect;var y=t.vo;l.set(w,E,H,M);l.kQ(t.uj);p.Ga(l);p.Sk(t.Dw,t.Cw);p.lt();l.tH(t.mw,t.ow);q.Ga(l);q.Sk(t.Dw,t.Cw);q.lt();v.Ga(l);v.Ama();v.tH(t.mw+1,t.ow+1);l.ba(0,0,t.ro,t.uj);v.ba(0,0,t.ro,t.uj);y.Ga(l);y.Sk(t.Dw,t.Cw);y.lt()}}else t.vo.set(0,0,t.ro/t.Dw,t.uj/t.Cw),t.Eq.Ga(t.vo),t.nB.Ga(t.vo),t.vo.lt(),t.Eq.lt(),t.nB.lt();g.VJ();g.$t();g.aD(0);g.bp(0);t.BH=t.Uaa(r[0]);t.BH&&(l=t.ug,l.Ki(),p=t.Ct(t.Cq),l.Xf(p),(q=t.yH)&&q.$P&&q.$P(),l.aI(t.clearRect),
t.Te?(l.Ii(t.Tg.NI()),l.bp(t.Tg.Ci()),t.Te.Ec(l),l.bp(0)):(q=(t.Ue||t.xh).nC(),t.Ue?l.Ii(t.Ue.NI()):l.$t(),l.Qw(q),l.Uq(q),t.kd.ra.Wo(q)),t.Eq.I_(),t.Cq=1,t.et=0,e&&h("Pre-draw",l,p));g.$t();l=r.length-1;t.ZP=t.Taa(r[l]);for(let w=0,E=r.length;w<E;++w){q=r[w];p=q.Ab;g.Tm(p);p.nE&&m.aa();if(0!==w||t.BH){g.NT();var z=void 0,C=void 0;p=t;z=q;C=w===l&&!t.ZP;q=w;v=p.ug;y=p.kd;0===q&&p.BH&&p.Te&&p.zw.kQ(p.uj);C?(p.Te?v.Wf(p.Tg.yi()):p.Ue&&v.Wf(p.Ue.yi()),C=p.wo,v.Xf(C)):(C=p.Ct(p.Cq),v.Xf(C),v.aI(p.clearRect));
z=p.Te?p.Tg.zf.Eh(z.Ra()):(p.Ue||p.xh).$a.Eh(z.Ra());v.hu(p.wo,p.Eq,p.vo,p.nB,p.yw,1/p.Dw,1/p.Cw,p.xw,p.ww,y.Xe(),z);z=p.Ct(p.et);v.Yf(z.Rd());y.ra.PT(v);p.mH=!0;a.wj(p.zw);v.Pm(a,p.vo);p.Te||v.Uq(z);e&&h("Bounce "+q,v,C)}else{p=t;C=q;q=p.ug;v=p.kd;y=p.Ct(p.Cq);q.Xf(y);(z=p.yH)&&z.$P&&z.$P();q.aI(p.clearRect);if(p.Te){const [H,M]=p.Te.bC();(z=p.Te.cC())?p.KH.Ga(z):p.KH.set(0,0,0,0);C=p.Tg.zf.Eh(C.Ra());q.hu(p.wo,p.Eq,p.KH,p.KH,p.yw,1/H,1/M,p.xw,p.ww,v.Xe(),C);q.bp(p.Tg.Ci());p.Te.Ec(q);q.bp(0);p.Eq.I_();
p.zw.kQ(p.uj)}else C=(p.Ue||p.xh).$a.Eh(C.Ra()),q.hu(p.wo,p.Eq,p.vo,p.nB,p.yw,1/p.ro,1/p.uj,p.xw,p.ww,v.Xe(),C),p=(p.Ue||p.xh).nC(),e&&h("Layer target",q,p),q.Qw(p),q.Uq(p),v.ra.Wo(p);e&&h("First bounce",q,y)}0===t.Cq?(t.Cq=1,t.et=0):(t.Cq=0,t.et=1)}t.ZP&&(g=t.ug,t.xh?(g.Ki(),g.Xf(t.wo),m=t.Ct(t.et),g.dI(m),g.Uq(m)):(m=t.kd.ra,"low"===m.yk?(g.Ki(),m.PT(g,m.Zk(),m.Yk()),t.mH=!0):g.E$(),t.Te?g.Wf(t.Tg.yi()):t.Ue&&g.Wf(t.Ue.yi()),g.Xf(t.wo),m=t.Ct(t.et),g.Yf(m.Rd()),a.wj(t.zw),g.Pm(a,t.vo),t.Te||g.Uq(m),
e&&h("Post-draw",g,t.wo)));g=t.mH;t.F9();t.Bd();f--;e=!1;return g}}"use strict";
{const d=self.B;d.sba=class extends d.ua{constructor(b){super();this.b=b;this.IA=d.D(d.Vh);this.zka=null;this.lq=[];this.JA=new Map;this.Ln=new Map;this.mq=new Map;this.ji=[];this.oh=[];this.Hz=this.Lu=this.Xr=!1;this.bo=()=>this.Aga();this.ao=()=>this.xy();this.jM=()=>this.SD();this.HN=()=>this.Wfa();this.cN=c=>this.pW(c.instance);this.XL=()=>this.Ym();this.fz=[]}j(){this.K9();this.XL=this.cN=this.HN=this.jM=this.ao=this.bo=null;for(const b of this.lq)b.ah(),b.j();d.H(this.lq);this.lq=null;this.IA.j();
this.IA=null;d.H(this.ji);this.ji=null;d.H(this.oh);this.oh=null;this.JA.clear();this.JA=null;this.Ln.clear();this.Ln=null;this.mq.clear();this.mq=null;d.H(this.fz);this.b=this.fz=null}R0(){const b=this.b.Eb();b.addEventListener("pretick",this.bo);b.addEventListener("tick2",this.ao);b.addEventListener("beforelayoutchange",this.jM);b.addEventListener("layoutchange",this.HN);b.addEventListener("instancedestroy",this.cN);b.addEventListener("afterload",this.XL)}K9(){const b=this.b.Eb();b.removeEventListener("pretick",
this.bo);b.removeEventListener("tick2",this.ao);b.removeEventListener("beforelayoutchange",this.jM);b.removeEventListener("layoutchange",this.HN);b.removeEventListener("instancedestroy",this.cN);b.removeEventListener("afterload",this.XL)}fb(b){this.IA.Qc(b);b=d.$e.T1(b,this);this.Qc(b);this.Baa(b);this.mq.set(b.qa,0)}eI(b){b=b.If.qa;var c=this.IA.ja(b);c=d.$e.eI(`${b}:${this.mq.get(b)}`,c,this);this.PV(b);this.Qc(c);return c}PV(b){this.mq.set(b,this.mq.get(b)+1)}cia(){for(const b of this.lq)b.tv||
this.PV(b.If.qa)}Bca(){for(const b of this.mq.keys())this.mq.set(b,0)}Qc(b){this.lq.push(b);this.JA.set(b.qa.toLowerCase(),b)}Ei(b){b.tv||(d.$s(this.lq,b),d.$s(this.ji,b),d.$s(this.oh,b),this.JA.delete(b.qa.toLowerCase()),this.L9(b),b.hj||b.j())}fa(b){this.b.fa(b,this.zka,null)}R(){return this.b}kU(b,c){this.Ln.has(b)||this.Ln.set(b,new Set);this.Ln.get(b).add(c)}Baa(b){for(const c of b.kC())this.kU(c,b)}L9(b){for(const [c,f]of this.Ln.entries())f.has(b)&&(f.delete(b),0===f.size&&this.Ln.delete(c))}W4(b){if(this.Ln.has(b))return this.Ln.get(b)}rx(b){return this.JA.get(b.toLowerCase())||
null}J9(b){d.$s(this.oh,b);this.ty()}HT(b){this.oh.includes(b)?(b.Ux(!0),b.Xx(!1),b.cK(!1)):(b.Ux(!1),b.Xx(!0),b.cK(!1),this.ji.includes(b)||this.ji.push(b));this.gW()}LB(b){b.Ux(!1);b.Xx(!1);b.RJ();d.$s(this.ji,b);this.ty()}GB(b){b.Ux(!1);b.Xx(!1);b.cK(!0)}L1(b){this.GB(b);b.RJ()}Aga(){if(!this.R().Ml&&this.Xr&&!this.Lu){var b=!1;for(this.Hz=!0;this.ji.length;){var c=this.ji.pop();c.fe();this.oh.push(c)}c=this.b.Wg();var f=this.b.Pe;for(const a of this.oh){if(a.Hv)continue;const e=a.oc(c,f);!b&&
e&&(b=!0)}this.Hz=!1;b&&this.R().aa()}}xy(){if(!this.R().Ml&&this.Xr&&!this.Lu){var b;for(const c of this.oh)c.Hv&&(b||(b=new Set),this.hW(c),b.add(c));b&&d.si(this.oh,b);this.ty()}}hW(b){b.hj||b.cS()&&b.gh&&b.Ip&&b.iR()}gW(){this.Xr||(this.Xr=!0)}ty(){this.oh.length||this.ji.length||this.Hz||(this.Xr=!1)}SD(){for(this.Lu=!0;this.ji.length;)this.LB(this.ji.pop());const b=new Set;for(const c of this.oh)c.SD()&&b.add(c);d.si(this.oh,b);this.ty();for(const c of this.lq)c.Tk()}Wfa(){this.Lu=!1}pW(b){var c=
b.S();if(c=this.W4(c))if(this.b.Ml)this.fz.push(b);else for(const f of c)f.tv||(f.hj?this.Ei(f):f.cS()||(this.hW(f),this.Ei(f)))}Ym(){for(const b of this.fz)this.pW(b);d.H(this.fz)}Aa(){return{timelinesJson:this.Mha(),scheduledTimelinesJson:this.Kha(),playingTimelinesJson:this.Iha(),hasRuntimeListeners:this.Xr,changingLayout:this.Lu,isTickingTimelines:this.Hz}}Ia(b){b&&(this.Bca(),this.Afa(b.timelinesJson),this.xfa(b.scheduledTimelinesJson),this.vfa(b.playingTimelinesJson),this.Xr=!b.hasRuntimeListeners,
this.Lu=!!b.changingLayout,this.Hz=!!b.isTickingTimelines,this.cia(),this.gW(),this.ty())}Mha(){return this.lq.map(b=>b.Aa())}Afa(b){for(const c of b){b=this.rx(c.name);if(!b){b=this.yea(c);if(!b)continue;b=this.rx(b);b=this.eI(b)}b.Ia(c);b.w5()||this.Ei(b)}}yea(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}Kha(){return this.OW(this.ji)}xfa(b){this.aW(b,this.ji)}Iha(){return this.OW(this.oh)}vfa(b){this.aW(b,this.oh)}ffa(b,c){for(const f of c)if(f===b.qa)return!0;return!1}OW(b){return b.map(c=>
c.qa)}aW(b,c){var f=new Set;for(const a of c)this.ffa(a,b)||f.add(a);d.si(c,f);f=a=>e=>e.qa===a;for(const a of b)(b=this.rx(a))&&(c.find(f(a))||c.push(b))}}}"use strict";
{const d=self.B;d.$e=class extends d.ua{constructor(b,c,f){super();this.b=f.R();this.Xb=f;this.If=c;this.qa=b;this.ac=[];for(const a of this.If.qC().Lma())this.ac.push(d.xU.fb(this,a));this.mG=this.eA=null;this.Wp=d.D(d.zx);this.Wp.Set(0);this.On=1;this.Lk=0;this.lk=1;this.Ip=this.zn=this.GF=!1;this.gh=!0;this.Hv=this.hj=!1;this.Mu=-1;this.Gp=this.Vr=this.tv=this.oF=!1;this.cZ=NaN;this.li=[""];this.n_="";this.SO=!1}static T1(b,c){const f=c.IA.ja(b[0]);b=d.D(d.$e,b[0],f,c);b.baa();return b}static eI(b,
c,f){return d.D(d.$e,b,c,f)}static get Jba(){return 1}static get Lm(){return d.SP(1)}j(){if(!this.hj){this.Xb.LB(this);this.Xb.L1(this);for(const b of this.ac)b.j();d.H(this.ac);this.ac=null;this.Wp.j();this.If=this.Xb=this.b=this.Wp=null;this.hj=!0;this.mG=this.eA=null}}R(){return this.b}XI(b,c,f){const a=[];for(const e of this.ac){if(b!==e.Na())continue;const h=e.Ij(f);h&&c.constructor===h.ee().constructor&&a.push(h)}return a}w5(){return!!this.ac.length}Y4(b){for(const c of this.ac)if(d.vh(c.Dj(),
b))return c;return null}tD(b){this.qa=b}De(){return this.If.De()}nx(){return this.If.nx()}Ej(){return this.If.Ej()}Hh(){return this.If.Hh()}ql(b){for(const c of this.ac)c.ql(b)}Et(){return this.If.Et()}Gt(){return this.If.Gt()}Ho(){return this.If.Ho()}Tx(b){return this.On=b}Di(){return this.IsPlaying()?0<this.On:!0}KR(){this.eA||(this.eA=new Promise(b=>{this.mG=b}))}RJ(){this.eA&&(this.mG(),this.mG=this.eA=null)}lu(b){this.li=d.$e.xea(b);this.SO=!0}bT(){d.A.qd.F.ir(this);this.Xb.fa(d.A.qd.F.vta);
this.Xb.fa(d.A.qd.F.wta);this.Xb.fa(d.A.qd.F.xta);this.Xb.fa(d.A.qd.F.jta);d.A.qd.F.ir(null)}QS(){this.Mu=this.b.Zl}iR(){this.Vr||(this.Vr=!0,d.A.qd.F.ir(this),this.Xb.fa(d.A.qd.F.sta),this.Xb.fa(d.A.qd.F.tta),this.Xb.fa(d.A.qd.F.uta),this.Xb.fa(d.A.qd.F.ita),d.A.qd.F.ir(null))}Ux(b){this.GF=b}jS(){return this.Mu===this.b.Zl}IsPlaying(b=!1){return this.jS()||this.zn&&!b?!0:this.GF}wu(){return this.IsPlaying(!0)}Xx(b){this.zn=b}MT(b){this.gh=b;b=this.Oa();if(0>=b||b>=this.De())this.gh=!0}cK(b){this.Hv=
b}bK(b){this.oF=b}baa(){this.tv=!0}Oa(){return this.Wp.ja()}nu(b){const c=this.Oa();this.vf(b);this.MT(!1);this.gh||this.bK(!0);if(this.wu()||this.zn||!this.Ip)this.wu()||this.zn||this.Ip?this.wu()?this.ah():this.zn&&(this.Xb.LB(this),this.VT()):this.VT();this.PD(b,!1,!0,!0,c)&&this.R().aa();this.tW()}vf(b){0>b?this.Wp.Set(0):b>=this.De()?this.Wp.Set(this.De()):this.Wp.Set(b)}tW(){d.A.qd&&this.constructor===d.$e&&(d.A.qd.F.ir(this),this.Xb.fa(d.A.qd.F.pta),this.Xb.fa(d.A.qd.F.qta),this.Xb.fa(d.A.qd.F.rta),
d.A.qd.F.ir(null))}Play(b=!1){return this.hj||this.zn?!1:this.wu()&&this.jS()?this.Qha():this.wu()||!this.gh&&!b&&!this.oF?!1:this.Rha()}Qha(){this.bK(!1);this.Xb.J9(this);this.Xb.HT(this);this.KR();return!0}Rha(){this.bK(!1);this.Xb.HT(this);this.KR();return!0}ah(b=!1){this.hj||(this.MT(b),this.Xb.GB(this),this.gh&&this.RJ())}nd(b=!0,c=!1){if(!this.hj)if(!this.wu()&&this.zn)this.Xb.LB(this);else if(!this.gh){this.ah(!0);this.Di()?this.vf(0):this.vf(this.De());var f=this.Oa();c=c?this.Uea(f):this.PD(f,
!1,!1,!0);b&&this.tW();c&&b&&this.R().aa()}}BT(){this.nd(!1,!0)}Uea(b){this.PD(b,!1,!1,!0,NaN,!1,!0)}SD(){if(this.hj)return!0;if(this.x5())return!1;this.Xb.GB(this);this.BT();return!0}VT(){this.fe(!0)}fe(b){if(!this.Hv)if(b){this.Gp=this.Ip=!0;for(const c of this.ac)c.fe()}else if(this.Ux(!0),this.Xx(!1),this.bT(),this.gh){this.Mu=-1;this.Lk=0;this.lk=1;this.Vr=this.gh=!1;this.Gp=this.Ip=!0;this.Di()?this.vf(0):this.vf(this.De());for(const c of this.ac)c.fe()}else{this.Gp=!0;for(const c of this.ac)c.$g()}}oc(b,
c){if(0!==b||0!==this.cZ){this.cZ=b;var f=this.Oa();this.vf(f+b*c*this.On);var a;this.Et()||this.Gt()?this.Et()&&!this.Gt()?a=this.Ffa():!this.Et()&&this.Gt()?a=this.Lga():this.Et()&&this.Gt()&&(a=this.Gfa()):a=this.Ria();if(a){for(const e of this.ac)e.I$();this.ah(!0);this.QS();return!0}return this.PD(this.Oa(),!0,!1,!1,f,!0)}}PD(b,c=!1,f=!1,a=!1,e=NaN,h=!1,g=!1){let m=!1;for(var q of this.ac)q.Lw();for(const l of this.ac){q=b;if("number"===typeof e){const r=this.Oa()-l.Xg(),p=e-l.Xg();0>r&&0<p&&
(q=l.Xg(),this.vf(q))}q=l.Fb(q,c,f,a,this.Gp,g);!m&&q&&(m=!0)}for(const l of this.ac)l.Kw();this.Gp&&h&&(this.Gp=!1);return m}Ria(){if(this.Di()){if(this.Oa()>=this.De())if(this.lk<this.Ho())this.lk++,this.vf(0);else return this.vf(this.De()),!0}else if(0>=this.Oa())if(this.lk<this.Ho())this.lk++,this.vf(this.De());else return this.vf(0),!0;return!1}Ffa(){this.Di()?this.Oa()>=this.De()&&this.vf(0):0>=this.Oa()&&this.vf(this.De());return!1}Lga(){if(this.Di()){if(this.Oa()>=this.De())if(this.vf(this.De()),
this.Tx(-1*this.On),1===this.Lk)if(this.lk<this.Ho())this.lk++,this.Lk=0;else return!0;else 0===this.Lk&&(this.Lk=1)}else if(0>=this.Oa())if(this.vf(0),this.Tx(-1*this.On),1===this.Lk)if(this.lk<this.Ho())this.lk++,this.Lk=0;else return!0;else 0===this.Lk&&(this.Lk=1);return!1}Gfa(){this.Di()?this.Oa()>=this.De()&&(this.vf(this.De()),this.Tx(-1*this.On)):0>=this.Oa()&&(this.vf(0),this.Tx(-1*this.On));return!1}Tk(){for(const b of this.ac)b.Tk()}A1(){for(const b of this.ac)b.x1()}Caa(b,c){if(c)for(const f of this.ac){if(b){if(f.Dj()!==
b)continue}else if(f.o5())continue;f.Y$(c);this.Xb.kU(c.S(),this);break}}XR(b){for(const c of this.ac)if(b===c.Na())return c;return null}cS(){return this.ac.some(b=>b.XH())}x5(){return this.ac.some(b=>b.XH()?(b=b.S())?b.Nh():!1:!1)}Ij(b){for(const c of this.ac)for(const f of c.hd)if(f.Sa.we===b)return f}kC(){const b=[];for(const c of this.ac)b.push(c.S());return b.filter(c=>c)}Aa(){return{tracksJson:this.Oha(),name:this.qa,playheadTime:this.Oa(),playbackRate:this.On,pingPongState:this.Lk,currentRepeatCount:this.lk,
isPlaying:this.GF,isScheduled:this.zn,initialStateSet:this.Ip,finishedTriggers:this.Vr,complete:this.gh,released:this.hj,markedForRemoval:this.Hv,completedTick:this.Mu,implicitPause:this.oF,isTemplate:this.tv,tags:this.li.join(" "),stringTags:this.n_,tagsChanged:this.SO,firstTick:this.Gp}}Ia(b){b&&(this.Bfa(b.tracksJson),this.qa=b.name,this.Wp.Set(b.playheadTime),this.On=b.playbackRate,this.Lk=b.pingPongState,this.lk=b.currentRepeatCount,this.GF=!!b.isPlaying,this.zn=!!b.isScheduled,this.Ip=!!b.initialStateSet,
this.Vr=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.gh=!!b.complete,this.hj=!!b.released,this.Hv=!!b.markedForRemoval,this.Mu=b.completedTick,this.oF=!!b.implicitPause,this.tv=!!b.isTemplate,this.li=b.tags.split(" "),this.n_=b.stringTags,this.SO=!!b.tagsChanged,this.Gp=!!b.firstTick)}Oha(){return this.ac.map(b=>b.Aa())}Bfa(b){b.forEach((c,f)=>{this.ac[f].Ia(c)});this.ac.filter(c=>c.XH())}static xea(b){if(d.Vq(b))return b.slice(0);if(d.Km(b))return b.split(" ")}}}"use strict";
{const d=self.B;d.xU=class extends d.ua{constructor(b,c){super();this.kq=b;this.Nc=c;this.og=c.qC();this.Kn=this.wn=NaN;this.Cb=this.di=null;this.gs=0<c.Xg();this.Rr=this.rv=!1;this.qs=null;this.vd=this.Nc.Gj().vd;this.hd=[];for(const f of this.Nc.Rf().uma())this.hd.push(d.qb.fb(this,f))}static fb(b,c){return d.D(d.xU,b,c)}j(){this.vd=null;for(const b of this.hd)b.j();d.H(this.hd);this.qs=this.Nc=this.Cb=this.di=this.kq=this.hd=null}Tk(){for(const b of this.hd)b.Tk();this.Cb=this.di=null}Tc(){return this.kq}R(){return this.kq.R()}G4(){return this.vd?
this.vd:this.vd=this.Nc.Gj().vd}Ij(b){for(const c of this.hd)if(c.Sa.we===b)return c}Ut(){this.di||this.Na()}Im(){return this.di?!this.di.wx():!1}XH(){const b=this.R().zg(this.jx());return b?!b.wx():!1}S(){const b=this.MI();if(-1!==b)return this.R().Ag(b)}x1(){this.di=null;this.wn=-1;this.Cb=null;this.Kn=-1}o5(){return!!this.di}Na(){return this.di&&this.Im()?this.di:this.di=this.R().zg(this.jx())}Y$(b){if(this.di!==b){this.Tk();this.di=b;this.Kn=b.S().Ra();this.wn=b.lc;this.Cb=b.C();for(const h of this.vma()){const g=
h.Fma;switch(h.tma.Ce()){case "instance-variable":var c=b.S(),f=c.x4(h.name),a=c.CR(f);c=c.kx(f);a===h.name&&c===h.type&&g.Eba(f);break;case "behavior":var e=h.qP;f=this.S();a=b.S();c=g.xi(a);e&&c&&(e=e.qa,f.$w(e),a.$w(e),g.Cba(c.wb))}}}}*vma(){for(const f of this.hd){var b=f.ee(),c=this.S();const a={tma:f,Fma:b};switch(f.Ce()){case "world-instance":a.uCa=f.Sa.we;break;case "instance-variable":b=b.Bt();a.name=c.CR(b);a.type=c.kx(b);break;case "effect":c=b.yI(c.$a);a.FAa=c;break;case "behavior":c=
b.xi(c);a.qP=c;break;case "plugin":a.oCa=c.hc()}yield a}}C(){if(this.Cb&&this.Im())return this.Cb;const b=this.Na();b&&(this.Cb=b.C());return this.Cb}jx(){return this.wn?this.wn:this.Nc.jx()}Ej(){return this.Nc.Ej()}Hh(){return this.Nc.Hh()}Dj(){return this.Nc.Dj()}Xg(){return this.Nc.Xg()}Dm(){return this.Nc.Dm()}ql(b){for(const c of this.G4())c.ql(b);for(const c of this.hd)c.ql(b)}Am(){return this.Nc.Am()}Sm(b){this.Nc.Sm(b)}MI(){return isNaN(this.Kn)?this.Nc.MI():this.Kn}el(){const b=this.Na();
return b&&b.ia.Ro()?b.ia.el():this.Nc.el()}dl(){const b=this.Na();return b&&b.ia.Ro()?b.ia.dl():this.Nc.dl()}fe(){this.Ut();if(this.Im()){for(var b of this.hd)b.fe();b=this.Tc().Di()?0:this.Dm();this.qs=this.HI(b);this.Rr=this.rv=!1;this.Fb(b)}}$g(){this.Ut();if(this.Im()){this.kq.Di();var b=this.kq.Oa()-this.Xg();this.qs=this.HI(b);for(const c of this.hd)c.$g()}}I$(){if(!this.Tc().gh&&(this.Ut(),this.Im()&&!this.gs)){const b=this.kq.Oa();b>=this.Xg()+this.Dm()?this.Fb(this.Dm(),!0,!1,!0):0>=b&&this.Fb(0,
!0,!1,!0)}}Lw(){for(const b of this.hd)b.Lw()}Fb(b,c=!1,f=!1,a=!1,e=!1,h=!1){this.Ut();if(!this.Im()||h&&this.S().Nh())return!1;b-=this.Xg();if(0>b)return!1;this.D7(b,c);this.HS(b,c,e);e=h=!1;for(const g of this.hd){const m=g.Fb(b,f,!1,a);h||0===(m&d.$e.Jba)||(h=!0);e||0===(m&d.$e.Lm)||(e=!0)}this.C7(b,c);h&&(b=this.C())&&b.T();return e}Kw(){for(const b of this.hd)b.Kw()}D7(b,c){if(c&&this.gs&&!this.rv){if(this.Tc().Di()){if(0>b)return;for(const f of this.hd)f.Fb(0,!1,!1,!0)}else{if(b>this.Dm())return;
for(const f of this.hd)f.Fb(this.Dm(),!1,!1,!0)}for(const f of this.hd)f.fe();this.rv=!0}}C7(b,c){if(c&&this.gs&&!this.Rr)if(this.Tc().Di()){if(b>=this.Dm()){for(const f of this.hd)f.Fb(this.Dm(),!1,!1,!0);this.Rr=!0}}else if(0>=b){for(const f of this.hd)f.Fb(0,!1,!1,!0);this.Rr=!0}}HS(b,c,f){!f&&c&&(b=this.HI(b),b!==this.qs&&this.YS(b),this.qs=b)}HI(b){const c=this.Tc();let f=this.og.D4(b,this.Nc);return f?f:c.Di()?this.og.k4(b,this.Nc):this.og.j4(b,this.Nc)}YS(b){if(d.A.qd&&this.Tc().constructor===
d.$e){var c=this.Tc();d.A.qd.F.ir(c);d.A.qd.F.Kaa(b);b=c.Xb;b.fa(d.A.qd.F.hta);b.fa(d.A.qd.F.YS);d.A.qd.F.ir(null);d.A.qd.F.Kaa(null)}}M0(){return this.Nc.Gj().G0()}m2(b){this.Nc.Gj().l2(b)}gI(b){for(const c of this.hd)c.gI(b)}er(){for(const b of this.hd)b.er()}Aj(){this.Ut();if(this.Im())for(const b of this.hd)b.Aj()}Bj(){this.Ut();if(this.Im()){var b=!1;for(const c of this.hd){const f=c.Bj();!b&&f&&(b=!0)}b&&(b=this.M0(),b.nu(this.Tc().Oa()),b.ql("noease"),b.Sm(!0),b.lu(""))}}Aa(){var b=this.Na();
b=b?b.lc:this.jx();return{propertyTracksJson:this.Jha(),lastKeyframeDataItemJson:this.Gha(),initialStateOfNestedSet:this.rv,endStateOfNestedSet:this.Rr,instanceUid:b}}Ia(b){b&&(this.wfa(b.propertyTracksJson),this.ufa(b.lastKeyframeDataItemJson),this.rfa(b.instanceUid),this.rv=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.rv=b.initialStateOfNestedSet),this.Rr=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.Rr=b.endStateOfNestedSet))}Gha(){return this.Nc.Gj().F4(this.qs)}Jha(){return this.hd.map(b=>
b.Aa())}wfa(b){b.forEach((c,f)=>{this.hd[f].Ia(c)})}rfa(b){if(d.No(b)&&(b=this.R().zg(b))){var c=this.Tc();c.A1();c.Caa(this.Nc.Dj(),b)}}ufa(b){this.qs=this.Nc.Gj().E4(b)}}}"use strict";
{const d=self.B;d.qb=class extends d.ua{constructor(b,c){super();this.Yd=b;this.Sa=c;this.ie=c.Rf();this.Ok=this.ee();this.wd=this.Sa.Hj().wd}static fb(b,c){return d.D(d.qb,b,c)}j(){this.Yd=null;this.Ok&&(this.Ok.j(),this.Ok=null);this.ie=this.Sa=this.wd=null}Rf(){return this.ie}Tc(){return this.Yd.Tc()}R(){return this.Yd.R()}Na(){return this.Yd.Na()}ee(){if(this.Ok)return this.Ok;let b;switch(this.Sa.Ce()){case "behavior":b=new d.qb.f1(this);break;case "effect":b=new d.qb.p3(this);break;case "instance-variable":b=
new d.qb.z6(this);break;case "plugin":b=new d.qb.n9(this);break;case "world-instance":b=new d.qb.Sba(this);break;case "value":b=new d.qb.Hba(this)}return this.Ok=b}Ce(){return this.Sa.Ce()}SI(){return this.Rf().eC(this.Sa).La}Am(){return this.Sa.Am()}Sm(b){this.Sa.Sm(b)}Ej(){return this.Sa.Ej()}Hh(){return this.Sa.Hh()}ql(b){for(const c of this.RI())c.ql(b)}RI(){return this.wd?this.wd:this.wd=this.Sa.Hj().wd}*MR(){for(const b of this.RI())yield b.Fc()}Tk(){this.ee().Tk()}Nf(){return this.ee().Nf()}fe(){this.ee().fe()}$g(){this.ee().$g()}Lw(){this.ee().Lw()}Fb(b,
c=!1,f=!1,a=!1){var e=this.Sa;let h=this.ie.QI(b,e);h?e=this.ie.zR(b,e):(h=this.ie.CI(b,e),e=this.ie.BI(b,e));return this.ee().Fb(b,h,e,c,f,a)}Kw(){this.ee().Kw()}static SR(b,c){const f=c.Sa;c=c.ie;let a=c.QI(b,f);a||(a=c.CI(b,f));return a}static Z3(b,c){const f=c.Sa;c=c.ie;return c.QI(b,f)?c.zR(b,f):c.BI(b,f)}O0(){return this.Sa.Hj().H0()}gI(b){this.Sa.Hj().n2(b)}er(){this.ee().er()}Aj(){if(this.ee().Aj()){const b=this.ie.eC(this.Sa),c=this.ee().Nf();b.IT(c)}}Bj(){const b=this.ee().Bj();b&&this.P0();
this.ee().EB();return b}P0(){const b=this.Tc().Oa(),c=this.ee(),f=d.qb.SR(b,this),a=this.O0();a.lU(f.La);a.nu(b);a.ql(f.Fo());a.Sm(!0);a.Th(c.tC());a.IT(c.Nf())}Aa(){return{sourceAdapterJson:this.ee().Aa()}}Ia(b){b&&this.ee().Ia(b.sourceAdapterJson)}}}"use strict";
{const d=self.B.qb;d.Mj=class{constructor(b){this.Ba=b;this.Qn=null}j(){this.Qn&&(this.Qn.j(),this.Qn=null);this.Ba=null}Ij(){return this.Ba}Tk(){this.Qn&&this.Qn.Tk()}Gh(){return this.Qn?this.Qn:this.Qn=this.Oca()}Bt(){}Ra(){return this.Bt()}qx(){}fe(){this.Gh().fe()}$g(){this.Gh().$g()}Lw(){this.Gh().qt()}Fb(b,c,f,a,e,h){const g=d.Mj.DR(this.Ba)(b,c,f,this.Ba);return e?g:this.Gh().Hq(b,g,c,f,a,h)}Kw(){this.Gh().pt()}er(){var b=this.Gh();b.ij=b.Nf()}EB(){this.Gh().EB()}Nf(){return this.Gh().Nf()}Aj(){return this.Gh().Aj()}Bj(){return this.Gh().Bj()}tC(){return d.Mj.tC(this.Ba)}Oca(){const b=
this.Ba.Sa.La;switch(this.Ba.SI()){case "combo":case "boolean":case "text":case "string":return new d.Zg.JS(this);case "numeric":case "number":case "angle":return"combo"===b?new d.Zg.JS(this):new d.Zg.P7(this);case "color":case "offsetColor":return new d.Zg.D1(this)}}Aa(){return{propertyAdapterJson:this.Gh().Aa()}}Ia(b){b&&this.Gh().Ia(b.propertyAdapterJson)}static tC(b){const c=b.Yd.Tc().Oa(),f=d.SR(c,b),a=d.Z3(c,b);return d.Mj.DR(b)(c,f,a,b)}static Ee(){let b=(void 0).Hh();"combo"===(void 0).Sa.La&&
(b="absolute");switch(b){case "relative":return NaN}}static DR(b){switch(b.SI()){case "numeric":return d.zJ.Fb;case "angle":return d.AQ.Fb;case "boolean":return d.EQ.Fb;case "color":return d.NQ.Fb;case "text":return d.vU.Fb}}static b5(b){switch(b.SI()){case "numeric":return d.zJ.Vm;case "angle":return d.AQ.Vm;case "boolean":return d.EQ.Vm;case "color":return d.NQ.Vm;case "text":return d.vU.Vm}}}}"use strict";{const d=self.B;class b extends d.qb.Mj{constructor(c){super(c)}}d.qb.Sba=b}"use strict";
{const d=self.B;class b extends d.qb.Mj{constructor(c){super(c);this.OA=NaN}Bt(){return this.Ba.Sa.ki[0]}Ra(){return this.OA?this.OA:super.Ra()}qx(){return this.Ba.Yd.Na()}Eba(c){this.Ba.Sa.ki[0]!==c&&(this.OA=c)}Fb(c,f,a,e,h,g){if(this.Gh().JQ(f.Ee()))return super.Fb(c,f,a,e,h,g)}Aa(){return Object.assign(super.Aa(),{index:this.OA})}Ia(c){c&&(super.Ia(c),this.OA=c.index)}}d.qb.z6=b}"use strict";
{const d=self.B;class b extends d.qb.Mj{constructor(c){super(c);this.wb=NaN}Bt(){return this.Ba.Sa.ki[1]}qx(){var c=this.Ba.Sa,f=this.wb?this.wb:c.ki[0];c=this.Ba.Yd.Na();f=c.nR(f);return c.Id[f].ia}xi(c){return c.XB(this.Ba.Sa.ki[2])}Cba(c){this.Ba.Sa.ki[0]!==c&&(this.wb=c)}Fb(c,f,a,e,h,g){const m=this.Ba.Yd.Na();if(this.xi(m.S()))return super.Fb(c,f,a,e,h,g)}Aa(){return Object.assign(super.Aa(),{sid:this.wb})}Ia(c){c&&(super.Ia(c),this.wb=c.sid)}}d.qb.f1=b}"use strict";
{const d=self.B;class b extends d.qb.Mj{constructor(c){super(c)}Bt(){return this.Ba.Sa.ki[1]}qx(){const c=this.Ba.Yd.C().zf,f=this.yI(c.$a).Ra();return c.xx(f)?c.Eh(f):null}yI(c){return c.zm(this.Ba.Sa.ki[0])}Fb(c,f,a,e,h,g){if(this.Zea())return super.Fb(c,f,a,e,h,g)}Zea(){const c=this.Ba.Yd.C().zf,f=this.yI(c.$a);if(f)return c.xx(f.Ra())}}d.qb.p3=b}"use strict";
{const d=self.B;class b extends d.qb.Mj{constructor(c){super(c)}Bt(){return this.Ba.Sa.ki[0]}qx(){return this.Ba.Yd.Na().ia}Fb(c,f,a,e,h,g){var m=this.Ba.Yd;const q=m.S().hc();m=m.Na().S().hc();if(q===m)return super.Fb(c,f,a,e,h,g)}}d.qb.n9=b}"use strict";
{const d=self.B;class b extends d.qb.Mj{constructor(c){super(c);this.ke=0;this.pF=!1}fe(){const c=this.Ba.Rf();let f=this.Ba.Sa;f=c.eC(f);this.ke=f.Fc()}$g(){}Ee(){this.pF||this.Ba.Fb(0);return this.ke}Fb(c,f,a){const e=d.qb.zJ.Fb;this.ke=e(c,f,a,this.Ba);this.pF=!0}er(){}EB(){}Nf(){return this.ke}Aj(){return!1}Bj(){return!1}Aa(){return{value:this.ke,init:this.pF}}Ia(c){c&&(this.ke=c.value,this.pF=c.hasOwnProperty("init")?c.init:!0)}}d.qb.Hba=b}"use strict";
function Sb(d,b,c){return d.Ba.Tc().Di()?b():c()}function Tb(d,b,c){return"relative"===d.Ba.Hh()?b():c()}function Ub(d,b,c){d.cv?(d.cv=!1,b()):c()}function Vb(d){if(d.$v)return d.$v;d.$v=d.Ok.qx();return d.$v}function Wb(d,b,c,f,a,e){switch(d.Ba.Ce()){case "behavior":return b();case "effect":return c();case "instance-variable":return f();case "plugin":return a();case "world-instance":return e()}}
function Xb(d,b=!1){const c=[];for(const f of d){d=f.Yd.Xg();for(const a of f.RI())b&&0===a.Oa()?c.push({time:d+a.Oa(),value:a.Ri}):b||c.push({time:d+a.Oa(),value:a.Ri})}return c.sort((f,a)=>f.time-a.time)}function Yb(d,b){for(let c=b.length-1;0<=c;c--)if(b[c].time<=d)return b[c];return null}
self.B.qb.Zg=class{constructor(d){this.Ok=d;this.Ba=d.Ij();this.Cb=this.Ba.Yd.C();this.we=this.Ba.Sa.we;this.cv=!1;this.$v=this.ij=null}j(){this.$v=this.ij=this.Cb=this.Ba=this.Ok=null}Tk(){this.$v=this.ij=this.Cb=null}Ij(){return this.Ba}C(){return this.Cb?this.Cb:this.Cb=this.Ba.Yd.C()}fe(){}$g(){}EB(){this.ij=null}Nf(){}Aj(){}Bj(){}JQ(d){return typeof this.Xm()===typeof d}qt(){}Hq(){}pt(){}mr(){return Sb(this,()=>{const d=this.Ba.Sa;return this.Ba.Rf().eC(d)},()=>{const d=this.Ba.Sa;return this.Ba.Rf().Oq(d)}).Ri}GD(){const d=
this.Ba.Tc().Oa()-this.Ba.Yd.Xg();return Sb(this,()=>{const b=this.Ba.Sa;return this.Ba.Rf().CI(d,b)},()=>{const b=this.Ba.Sa,c=this.Ba.Rf(),f=c.BI(d,b);return f?f:c.Oq(b)}).Ri}JD(){}Pi(){return this.Ok.Ra()}Aa(){return{firstAbsoluteUpdate:this.cv,saveState:this.ij}}Ia(d){d&&(this.cv=d.firstAbsoluteUpdate,this.ij=d.saveState)}};"use strict";
{const d=self.B,b=new Map,c=[0,0,0];class f extends d.qb.Zg{constructor(a){super(a)}fe(){}$g(){}Nf(){const a=this.Ba.Ce(),e=Vb(this),h=this.Pi();switch(a){case "behavior":return this.cE(e.Lb(h));case "effect":return this.cE(e[h]);case "plugin":return this.cE(e.Lb(h));case "world-instance":return this.cE(this.Xm())}}Aj(){const a=this.mr();return!this.YU(a,this.Xm())}Bj(){return d.rf(this.ij)?!1:!this.YU(this.ij,this.Xm())}YU(a,e){return a.dt(e)}mr(){const a=super.mr();return this.KD(a)}GD(){const a=
super.GD();return this.KD(a)}JD(){}cE(a){return d.Oo(a,d.sb)?a.toArray().slice(0,3):a.slice(0,3)}KD(a){return d.Oo(a,d.sb)?a:new d.sb(a[0],a[1],a[2],1)}JQ(){return!0}qt(){var a=this.Ba.Na();b.has(a)||b.set(a,new Map);a=b.get(a);const e=this.Ba.Ce();a.has(e)||a.set(e,new Map);a=a.get(e);a.has(this.we)||a.set(this.we,{sB:!1,color:new d.sb(0,0,0,1)})}LV(a,e,h){a=b.get(a).get(e).get(h);a.sB=!0;return a.color}Hq(a,e){var h=this.Ba.Tc(),g=this.Ba.Yd;a=this.Ba.Na();var m=this.Ba.ee();const q=this.Ba.Ce();
m=h.XI(a,m,this.we);if(1<m.length){if(m=Xb(m,!0),h=h.Oa(),h=Yb(h,m))if(m=h.time-g.Xg(),0===m)this.LV(a,q,this.we).y_(e[0],e[1],e[2]);else{if(0>m)return;h=e[0];g=e[1];e=e[2];m=this.Ba.Fb(m,!1,!0);h=d.sb.hI(h,m[0]);g=d.sb.hI(g,m[1]);e=d.sb.hI(e,m[2]);this.LV(a,q,this.we).y_(h,g,e)}}else this.Al(e[0],e[1],e[2]);return d.$e.Lm}pt(){const a=this.Ba.Na();if(b.has(a)){var e=b.get(a),h=this.Ba.Ce();if(e.has(h)){var g=e.get(h);if(g.has(this.we)){var m=g.get(this.we),q=m.color;m.sB&&this.Al(q.nb,q.Ca,q.ob);
0===g.size&&e.delete(h);0===e.size&&b.delete(a)}}}}Xm(){const a=this.Ba.Ce(),e=Vb(this),h=this.Pi();switch(a){case "behavior":return this.KD(e.Lb(h));case "effect":return e[h].clone();case "plugin":return this.KD(e.Lb(h));case "world-instance":return this.C().pb.clone()}}Al(a,e,h){const g=this.Ba.Ce(),m=Vb(this),q=this.Pi();switch(g){case "behavior":c[0]=a;c[1]=e;c[2]=h;m.Ed(q,c);break;case "effect":m[q].jQ(a,e,h);break;case "plugin":c[0]=a;c[1]=e;c[2]=h;m.Ed(q,c);break;case "world-instance":this.C().Laa(a,
e,h)}}Aa(){}Ia(){}}d.qb.Zg.D1=f}"use strict";
{const d=self.B;class b extends d.qb.Zg{constructor(c){super(c)}fe(){}$g(){}Nf(){return this.Xm()}Aj(){return this.mr()!==this.Nf()}Bj(){return d.rf(this.ij)?!1:this.ij!==this.Nf()}Hq(c,f){const a=d.qb.Mj.b5(this.Ba);var e=this.Ba;const h=e.Yd,g=e.Ce();var m=e.Tc();const q=h.Na();e=e.ee();m=m.XI(q,e,this.we);1<m.length&&(m=Xb(m),c=Yb(c+h.Xg(),m))&&(f=c.value);if(a(this.Pi(),Vb(this),f,g))switch(this.Al(f),g){case "plugin":return d.$e.Lm}}Xm(){const c=this.Ba.Ce(),f=Vb(this),a=this.Pi();switch(c){case "behavior":return f.Lb(a);
case "effect":return f[a];case "instance-variable":return f.Pf(a);case "plugin":return f.Lb(a)}}Al(c){const f=this.Ba.Ce(),a=Vb(this),e=this.Pi();switch(f){case "behavior":a.Ed(e,c);break;case "effect":a[e]=c;break;case "instance-variable":a.cp(e,c);break;case "plugin":a.Ed(e,c)}}}d.qb.Zg.JS=b}"use strict";
{const d=self.B,b=new Map,c=(a,e,h,g,m)=>b.set(a,{Ema:e,Qka:h,Ela:g,round:m});c("offsetX",(a,e)=>a.RC(e),(a,e)=>a.sf(e),a=>a.I(),!0);c("offsetY",(a,e)=>a.SC(e),(a,e)=>a.Zf(e),a=>a.J(),!0);c("offsetWidth",(a,e)=>a.DJ(e),(a,e)=>a.Ze(e),a=>a.M(),!0);c("offsetHeight",(a,e)=>a.BJ(e),(a,e)=>a.Ye(e),a=>a.N(),!0);c("offsetAngle",(a,e)=>a.S7(e),(a,e)=>a.Gc(e),a=>a.ca(),!1);c("offsetOpacity",(a,e,h,g)=>{h=a.ld()+e;0===g.ud?(1<h?g.ud+=h-1:0>h&&(g.ud+=h),a.T7(e)):(a=a.ld()+e,0<e&&0<g.ud?1<a&&(g.ud+=a-1):0<e&&
0>g.ud?(g.ud+=e,0<g.ud&&(g.ud=0)):0>e&&0<g.ud?(g.ud+=e,0>g.ud&&(g.ud=0)):0>e&&0>g.ud&&0>a&&(g.ud+=a))},(a,e)=>{a.qe(e)},a=>a.ld(),!1);c("offsetOriginX",(a,e)=>a.U7(e),(a,e)=>a.fu(e),a=>a.bl(),!1);c("offsetOriginY",(a,e)=>a.V7(e),(a,e)=>a.gu(e),a=>a.cl(),!1);c("offsetZElevation",(a,e)=>a.W7(e),(a,e)=>a.$f(e),a=>a.kb(),!0);c("offsetScaleX",(a,e,h)=>{const g=0>a.M()?-1:1;if(a.Ko()){h=a.Ka();const m=a.Wb;a.DJ(h.M()*m.IG*g*e)}else a.DJ(h.el()*g*e)},(a,e,h)=>{a.Ze(h.el()*e)},(a,e)=>{const h=0>a.M()?-1:
1;if(a.Ko()){var g=a.Ka(),m=e.Tc().XR(g.Na());m?g=g.M()/m.el():(m=g.Na().ia,g=m.Ro()?g.M()/m.el():1);return a.M()*h/(e.el()*g)}return a.M()*h/e.el()},!1);c("offsetScaleY",(a,e,h)=>{const g=0>a.N()?-1:1;if(a.Jo()){h=a.Ka();const m=a.Wb;a.BJ(h.N()*m.JG*g*e)}else a.BJ(h.dl()*g*e)},(a,e,h)=>{a.Ye(h.dl()*e)},(a,e)=>{const h=0>a.N()?-1:1;if(a.Jo()){var g=a.Ka(),m=e.Tc().XR(g.Na());m?g=g.N()/m.dl():(m=g.Na().ia,g=m.Ro()?g.N()/m.dl():1);return a.N()*h/(e.dl()*g)}return a.N()*h/e.dl()},!1);class f extends d.qb.Zg{constructor(a){super(a);
this.ud=this.tb=0;this.dN=this.fN=this.eN=null;this.WZ=!1;this.Ts=d.Oo(this.Ba.Tc(),d.Tween)?new d.qb.Zg.R7(this):new d.qb.Zg.Q7(this);a=this.Ba.Sa.we;"world-instance"===this.Ba.Ce()&&(a=b.get(a),this.eN=a.Ela,this.fN=a.Ema,this.dN=a.Qka,this.WZ=a.round)}j(){this.dN=this.fN=this.eN=this.Ts=null;super.j()}XT(a){this.tb=a}fe(){const a=this.Ts.fe();"number"===typeof a&&(this.tb=a);this.ud=0}$g(){const a=this.Ts.$g();"number"===typeof a&&(this.tb=a)}Nf(){return this.Xm()}Aj(){return this.mr()!==this.Nf()}Bj(){return d.rf(this.ij)?
!1:this.ij!==this.Nf()}qt(){this.Ts.qt()}Hq(a,e,h,g,m,q){return this.Ts.Hq(a,e,h,g,m,q)}pt(){this.Ts.pt()}Xm(){const a=Vb(this),e=this.Pi(),h=this.Ba.Yd,g=this.C();return Wb(this,()=>a.Lb(e),()=>a[e],()=>a.Pf(e),()=>a.Lb(e),()=>this.eN(g,h))}Al(a){const e=Vb(this),h=this.Pi(),g=this.Ba.Yd,m=this.C();Wb(this,()=>e.CJ(h,a),()=>e[h]+=a,()=>e.$$(h,a),()=>e.CJ(h,a),()=>this.fN(m,a,g,this))}lX(a){const e=Vb(this),h=this.Pi(),g=this.Ba.Yd,m=this.C();Wb(this,()=>e.Ed(h,a),()=>e[h]=a,()=>e.cp(h,a),()=>e.Ed(h,
a),()=>this.dN(m,a,g))}xu(a,e,h,g,m,q){this.Ts.xu(a,e,h,g,m,q)}Wm(a,e,h){a=(a.toString().split(".")[1]||"").length;const g=this.Xm();this.Al((0===a?this.WZ?Math.round(g):g:d.toFixed(g,a))-g,e,h)}Aa(){return Object.assign(super.Aa(),{v:this.tb,a:this.ud})}Ia(a){a&&(super.Ia(a),this.tb=a.v,this.ud=a.a)}}d.qb.Zg.P7=f}"use strict";
{const d=self.B,b=new Map;class c{constructor(f){this.Df=f}j(){this.Df=null}fe(){const f=this.Df,a=this.Df.Ij();return Tb(f,()=>Sb(f,()=>0,()=>d.qb.Mj.tC(a)),()=>{})}$g(){}qt(){const f=this.Df,a=this.Df.Ij(),e=a.Sa.we;Tb(f,()=>{},()=>{var h=a.Na();b.has(h)||b.set(h,new Map);h=b.get(h);const g=a.Ce();h.has(g)||h.set(g,new Map);h=h.get(g);h.has(e)||h.set(e,{sB:!1,value:0})})}KV(f,a,e){f=b.get(f).get(a).get(e);f.sB=!0;return f}Hq(f,a,e,h,g,m){const q=this.Df,l=this.Df.Ij(),r=l.Sa.we;Tb(q,()=>{const p=
q.tb;q.Al(a-p,e,h);m&&this.xu(f,e,h,g,p,a);q.XT(a)},()=>{var p=l.Tc(),t=l.Yd;const v=l.Na();var y=l.ee();const z=l.Ce();y=p.XI(v,y,r);if(1<y.length){if(y=Xb(y,!0),p=p.Oa(),p=Yb(p,y))t=p.time-t.Xg(),0===t?this.KV(v,z,r).value+=a:0>t||(t=l.Fb(t,!1,!0),this.KV(v,z,r).value+=a-t)}else q.lX(a)});return Wb(q,()=>{},()=>d.$e.Lm,()=>{},()=>d.$e.Lm,()=>d.$e.Lm)}pt(){const f=this.Df,a=this.Df.Ij(),e=a.Sa.we;Tb(f,()=>{},()=>{const h=a.Na();if(b.has(h)){var g=b.get(h),m=a.Ce();if(g.has(m)){var q=g.get(m);if(q.has(e)){var l=
q.get(e),r=l.value;l.sB&&f.lX(r);q.delete(e);0===q.size&&g.delete(m);0===g.size&&b.delete(h)}}}})}xu(f,a,e,h,g,m){const q=this.Df;h||(a&&f===a.Oa()?q.Wm(a.Fc(),a,e):e&&f===e.Oa()?q.Wm(e.Fc(),a,e):0===m-g&&q.Wm(a.Fc(),a,e))}}d.qb.Zg.Q7=c}"use strict";
{const d=self.B;class b{constructor(c){this.Df=c}j(){this.Df=null}fe(){const c=this.Df;c.cv=!0;return this.JD(c.mr())}$g(){const c=this.Df;if(c.mr()!==c.GD())return c.cv=!0,this.JD(c.GD())}qt(){}Hq(c,f,a,e,h,g){const m=this.Df,q=m.tb;Tb(m,()=>{m.Al(f-q,a,e);g&&this.xu(c,a,e,h,q,f)},()=>{Ub(m,()=>{m.Al(q,a,e)},()=>{m.Al(f-q,a,e);g&&this.xu(c,a,e,h,q,f)})});m.XT(f);return Wb(m,()=>{},()=>d.$e.Lm,()=>{},()=>d.$e.Lm,()=>d.$e.Lm)}pt(){}JD(c){return c-this.Df.Nf()}xu(c,f,a,e,h,g){const m=this.Df;e?f&&c===
f.Oa()?m.Wm(f.Fc(),f,a):a&&c===a.Oa()?m.Wm(a.Fc(),f,a):a||m.Wm(f.Fc(),f,a):f&&c===f.Oa()?m.Wm(f.Fc(),f,a):a&&c===a.Oa()?m.Wm(a.Fc(),f,a):0===g-h&&m.Wm(f.Fc(),f,a)}}d.qb.Zg.R7=b}"use strict";
{const d=self.B,b=self.Rw;d.qb.zJ=class{constructor(){}static Vm(c,f,a,e){let h;switch(e){case "behavior":h=f.Lb(c);break;case "effect":h=f[c];break;case "instance-variable":h=f.Pf(c);break;case "plugin":h=f.Lb(c)}return h===a?!1:!0}static Fb(c,f,a,e){if(!a)return a=e.Sa,a=e.Rf().Oq(a),a.Fc();var h=e.Ej();"default"===h&&(h="continuous");"combo"===e.Sa.La&&(h="discrete");if("discrete"===h)return f.Fc();if("continuous"===h||"step"===h){"step"===h&&(h=e.Tc().nx(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));
var g=f.Oa();const m=a.Oa();h=f.Fc();const q=a.Fc();if(h===q)return h;c=d.normalize(c,g,m);const l=f.Fo();f=f.oI("cubic-bezier");a=a.oI("cubic-bezier");f&&f.BA&&a&&a.RE?(g=m-g,g=b.Pq(l)(g*c,0,1,g),g=b.Pq("cubicbezier")(g,h,h+f.OO,q+a.EM,q)):g=b.Pq(l)((m-g)*c,h,q-h,m-g);return"integer"===e.Sa.La?Math.floor(g):g}}}}"use strict";
{const d=self.B;d.qb.AQ=class{constructor(){}static Vm(b,c,f,a){let e;switch(a){case "behavior":e=c.Lb(b);break;case "effect":e=c[b];break;case "instance-variable":e=c.Pf(b);break;case "plugin":e=c.Lb(b)}return e===f?!1:!0}static Fb(b,c,f,a){if(!f)return c=a.Sa,c=a.Rf().Oq(c),c.Fc();var e=a.Ej();"default"===e&&(e="continuous");"combo"===a.Sa.La&&(e="discrete");if("discrete"===e)return c.Fc();if("continuous"===e||"step"===e){"step"===e&&(a=a.Tc().nx(),0!==a&&(a=1/a,b=Math.floor(b*a)/a));const h=c.Oa(),
g=f.Oa();a=c.Fc();f=f.Fc();if(e=c.oI("angle")){const m=e.wO;if(a===f&&0===m)return a;b=d.normalize(b,h,g);c=self.Rw.Pq(c.Fo())(b,0,1,1);switch(e.xM){case "closest":return d.pP(a,f,c,m);case "clockwise":return d.Xka(a,f,c,m);case "anti-clockwise":return d.Wka(a,f,c,m)}}else{if(a===f)return a;b=d.normalize(b,h,g);c=self.Rw.Pq(c.Fo());return d.pP(a,f,c(b,0,1,1))}}}}}"use strict";
self.B.qb.EQ=class{constructor(){}static Vm(d,b,c,f){let a;switch(f){case "behavior":a=b.Lb(d);break;case "effect":a=b[d];break;case "instance-variable":a=b.Pf(d);break;case "plugin":a=b.Lb(d)}return!!a===!!c?!1:!0}static Fb(d,b,c,f){return c?b.Fc()?1:0:(d=f.Sa,d=f.Rf().Oq(d),d.Fc()?1:0)}};"use strict";
{const d=self.B,b=[0,0,0],c=[0,0,0],f=[0,0,0];d.qb.NQ=class{constructor(){}static Vm(a,e,h,g){let m;switch(g){case "behavior":m=e.Lb(a);break;case "effect":m=e[a];break;case "instance-variable":m=e.Pf(a);break;case "plugin":m=e.Lb(a)}Array.isArray(h)?(b[0]=h[0],b[1]=h[1],b[2]=h[2]):(f.zH(h),b[0]=Math.floor(255*f.nb),b[1]=Math.floor(255*f.Ca),b[2]=Math.floor(255*f.ob));Array.isArray(m)?(c[0]=m[0],c[1]=m[1],c[2]=m[2]):(f.zH(m),c[0]=Math.floor(255*f.nb),c[1]=Math.floor(255*f.Ca),c[2]=Math.floor(255*
f.ob));return b[0]!==c[0]||b[1]!==c[1]||b[2]!==c[2]?!0:!1}static Fb(a,e,h,g){if(!h)return e=g.Sa,e=g.Rf().Oq(e),e=e.Fc(),b[0]=e[0],b[1]=e[1],b[2]=e[2],b;var m=g.Ej();"default"===m&&(m="continuous");if("discrete"===m)return e=e.Fc(),b[0]=e[0],b[1]=e[1],b[2]=e[2],b;if("continuous"===m||"step"===m){"step"===m&&(g=g.Tc().nx(),0!==g&&(g=1/g,a=Math.floor(a*g)/g));g=e.Oa();m=h.Oa();var q=e.Fc(),l=h.Fc();const r=d.normalize(a,g,m);a=q[0];h=q[1];q=q[2];const p=l[0],t=l[1];l=l[2];e=self.Rw.Pq(e.Fo());g=m-g;
m=g*r;b[0]=a===p?a:e(m,a,p-a,g);b[1]=h===t?h:e(m,h,t-h,g);b[2]=q===l?q:e(m,q,l-q,g);return b}}}}"use strict";self.B.qb.vU=class{constructor(){}static Vm(d,b,c,f){let a;switch(f){case "behavior":a=b.Lb(d);break;case "effect":a=b[d];break;case "instance-variable":a=b.Pf(d);break;case "plugin":a=b.Lb(d)}return a===c?!1:!0}static Fb(d,b,c,f){return c?b.Fc():(d=f.Sa,d=f.Rf().Oq(d),d.Fc())}};"use strict";
{const d=self.B;d.Vh=class{constructor(){this.HA=new Map}j(){for(const b of this.HA.values())b.j();this.HA.clear();this.HA=null}Qc(b){b=new d.rba(b);this.HA.set(b.qa,b)}ja(b){return this.HA.get(b)}static iy(b,c,f,a){if(c)for(const e of c)d.Vh.aV("create",e,b,f,a)}static ry(b,c,f,a){b.length?c.forEach((e,h)=>{b[h].Ia(e)}):c.forEach(e=>{d.Vh.aV("load",e,b,f,a)})}static aV(b,c,f,a,e){let h;if("function"===typeof a)switch(b){case "load":h=new a(null,e);break;case "create":h=new a(c,e)}else if("object"===
typeof a)switch(a=a.map.get(c[a.prop]),b){case "load":h=new a(null,e);break;case "create":h=new a(c,e)}switch(b){case "load":h.Ia(c);f.push(h);break;case "create":"function"!==typeof h.Am||h.Am()?f.push(h):h.j()}}}}"use strict";
{const d=self.B;d.rba=class{constructor(b){this.qa="";this.SG=NaN;this.NG=0;this.ph=this.jh="default";this.lG=this.$F=!1;this.Tv=1;this.og=null;b&&(this.qa=b[0],this.SG=b[1],this.NG=b[2],this.jh=b[3],this.ph=b[4],this.$F=!!b[6],this.lG=!!b[7],this.Tv=b[8],this.og=new d.wU(b[5],this))}j(){this.og.j();this.og=null}qC(){this.og||(this.og=new d.wU(null,this));return this.og}tD(b){this.qa=b}De(){return this.SG}nx(){return this.NG}Ej(){return this.jh}Hh(){return this.ph}Et(){return this.$F}Gt(){return this.lG}Ho(){return this.Tv}Aa(){return{trackDataJson:this.og.Aa(),
name:this.qa,totalTime:this.SG,step:this.NG,interpolationMode:this.jh,resultMode:this.ph,loop:this.$F,pingPong:this.lG,repeatCount:this.Tv}}Ia(b){b&&(this.qC().Ia(b.trackDataJson),this.qa=b.name,this.SG=b.totalTime,this.NG=b.step,this.jh=b.interpolationMode,this.ph=b.resultMode,this.$F=b.loop,this.lG=b.pingPong,this.Tv=b.repeatCount)}}}"use strict";
{const d=self.B;class b{constructor(c,f){this.og=f;this.Dr=this.tF=null;this.Kn=this.wn=NaN;this.ph=this.jh="default";this.bi=!1;this.ie=this.Fk=null;this.Ld="";this.Jv=null;this.PO=0;this.YF=this.og.If.De();c&&(this.tF=c[0],this.wn=c[0][2],this.Kn=c[0][1],this.jh=c[1],this.ph=c[2],this.bi=!!c[3],c[6]&&(this.Ld=c[6]),c[7]&&(this.Jv=c[7],this.PO=c[7][0],this.YF=c[7][1]),c[8]&&(this.Dr=c[8]),this.Fk=new d.xS(c[4],this),this.ie=new d.kT(c[5],this))}j(){this.og=this.tF=null;this.Fk&&(this.Fk.j(),this.Fk=
null);this.ie&&(this.ie.j(),this.ie=null);this.Jv=null}qC(){return this.og}Gj(){this.Fk||(this.Fk=new d.xS(null,this));return this.Fk}Rf(){this.ie||(this.ie=new d.kT(null,this));return this.ie}MI(){return this.Kn}jx(){return this.wn}Ej(){return this.jh}Hh(){return this.ph}Am(){return this.bi}Sm(c){this.bi=!!c}Dj(){return this.Ld}Xg(){return this.PO}Dm(){return this.YF}el(){return this.Dr[0]}dl(){this.Dr||(this.Dr=[]);return this.Dr[1]}Aa(){return{keyframeDataJson:this.Fk.Aa(),propertyTrackDataJson:this.ie.Aa(),
instanceData:this.tF,additionalInstanceData:this.Dr,instanceUid:this.wn,objectClassIndex:this.Kn,interpolationMode:this.jh,resultMode:this.ph,enabled:this.bi,id:this.Ld,nestedData:this.Jv}}Ia(c){c&&(this.tF=c.instanceData,this.wn=c.instanceUid,this.Kn=c.objectClassIndex,this.jh=c.interpolationMode,this.ph=c.resultMode,this.bi=c.enabled,this.Ld=c.id,this.YF=this.og.If.De(),c.nestedData&&(this.Jv=c.nestedData,this.PO=this.Jv[0],this.YF=this.Jv[1]),c.additionalInstanceData&&(this.Dr=c.additionalInstanceData),
this.Gj().Ia(c.keyframeDataJson),this.Rf().Ia(c.propertyTrackDataJson))}}d.wU=class{constructor(c,f){this.If=f;this.Qs=[];this.Mz=new Map;d.Vh.iy(this.Qs,c,b,this)}j(){this.If=null;for(const c of this.Qs)c.j();d.H(this.Qs);this.Qs=null;this.Mz.clear();this.Mz=null}D4(c,f){const a=this.Mz.get(f);if(a&&a.has(c))return a.get(c);for(const e of f.Gj().Z_())if(e.Oa()===c)return a||this.Mz.set(f,new Map),this.Mz.get(f).set(c,e),e}j4(c,f){for(const a of f.Gj().Z_())if(a.Oa()>=c)return a}k4(c,f){for(const a of f.Gj().Wla())if(a.Oa()<=
c)return a}*Lma(){for(const c of this.Qs)yield c}Aa(){return{trackDataItemsJson:this.Qs.map(c=>c.Aa())}}Ia(c){c&&d.Vh.ry(this.Qs,c.trackDataItemsJson,b,this)}}}"use strict";
{const d=self.B;class b{constructor(c,f){this.ie=f;this.AG="";this.La=this.we=this.ki=null;this.SN=this.VN=NaN;this.ph=this.jh="default";this.bi=!1;this.Ul=null;c&&(this.AG=c[0][0],this.ki=c[0].slice(1),this.we=c[1],this.La=c[2],this.VN=c[3],this.SN=c[4],this.jh=c[5],this.ph=c[6],this.bi=!!c[7],this.Ul=new d.jT(c[8],this))}j(){this.Ul.j();this.ki=this.ie=this.Ul=null}Rf(){return this.ie}Hj(){this.Ul||(this.Ul=new d.jT(null,this));return this.Ul}Ce(){return this.AG}lU(c){this.La=c}Ej(){return this.jh}Hh(){return this.ph}Am(){return this.bi}Sm(c){this.bi=
!!c}Aa(){return{propertyKeyframeDataJson:this.Ul.Aa(),sourceAdapterId:this.AG,sourceAdapterArguments:this.ki,property:this.we,type:this.La,min:this.VN,max:this.SN,interpolationMode:this.jh,resultMode:this.ph,enabled:this.bi}}Ia(c){c&&(this.AG=c.sourceAdapterId,this.ki=c.sourceAdapterArguments,this.we=c.property,this.La=c.type,this.VN=c.min,this.SN=c.max,this.jh=c.interpolationMode,this.ph=c.resultMode,this.bi=c.enabled,this.Hj().Ia(c.propertyKeyframeDataJson))}}d.kT=class{constructor(c,f){this.Nc=
f;this.Es=[];this.gA=new Map;d.Vh.iy(this.Es,c,b,this)}j(){this.Nc=null;for(const c of this.Es)c.j();d.H(this.Es);this.Es=null;this.gA.clear();this.gA=null}eC(c){return c.Hj().wd[0]}Oq(c){c=c.Hj().wd;return c[c.length-1]}QI(c,f){const a=this.gA.get(f);if(a&&a.has(c))return a.get(c);const e=f.Hj();for(const h of e.bQ())if(h.Oa()===c)return a||this.gA.set(f,new Map),this.gA.get(f).set(c,h),h}zR(c,f){f=f.Hj();for(const a of f.bQ())if(a.Oa()>c)return a}BI(c,f){f=f.Hj();for(const a of f.bQ())if(a.Oa()>=
c)return a}CI(c,f){f=f.Hj();for(const a of f.sma())if(a.Oa()<=c)return a}*uma(){for(const c of this.Es)yield c}Aa(){return{propertyTrackDataItemsJson:this.Es.map(c=>c.Aa())}}Ia(c){c&&d.Vh.ry(this.Es,c.propertyTrackDataItemsJson,b,this)}}}"use strict";
{const d=self.B;class b{constructor(c,f){this.Fk=f;this.yd=-1;this.pk="noease";this.qk=!1;this.Vz=this.li=null;c&&(this.yd=c[0],this.pk=c[1],this.qk=!!c[2],this.li=(c=c[3])?c.split(" "):[],this.Vz=new Set(this.li.map(a=>a.toLowerCase())))}j(){this.Fk=null;d.H(this.li);this.li=null;this.Vz.clear();this.Vz=null}Gj(){return this.Fk}Oa(){return this.yd}nu(c){this.yd=c}Fo(){return this.pk}ql(c){this.pk=c}Am(){return this.qk}Sm(c){this.qk=!!c}lu(c){this.li=c?c.split(" "):[];this.Vz=new Set(this.li.map(f=>
f.toLowerCase()))}Aa(){return{time:this.yd,ease:this.pk,enable:this.qk,tags:this.li}}Ia(c){c&&(this.yd=c.time,this.pk=c.ease,this.qk=c.enable,this.li=c.tags,this.Vz=new Set(this.li.map(f=>f.toLowerCase())))}}d.xS=class{constructor(c,f){this.Nc=f;this.vd=[];d.Vh.iy(this.vd,c,b,this)}j(){this.Nc=null;for(const c of this.vd)c.j();d.H(this.vd);this.vd=null}G0(){const c=new b(null,this);this.vd.push(c);return c}l2(c){for(const f of this.vd){if(!c(f))continue;const a=this.vd.indexOf(f);-1!==a&&(f.j(),this.vd.splice(a,
1))}this.Zaa()}Zaa(){this.vd.sort((c,f)=>c.Oa()-f.Oa())}F4(c){return this.vd.indexOf(c)}E4(c){return this.vd[c]}*Z_(){for(const c of this.vd)yield c}*Wla(){for(let c=this.vd.length-1;0<=c;c--)yield this.vd[c]}Aa(){return{keyframeDataItemsJson:this.vd.map(c=>c.Aa())}}Ia(c){c&&d.Vh.ry(this.vd,c.keyframeDataItemsJson,b,this)}}}"use strict";
{const d=self.B;class b{constructor(c,f){this.Ul=f;this.Ri=this.ke=null;this.La="";this.yd=NaN;this.pk="noease";this.qk=!1;this.Zj=null;c&&(this.ke=c[0][0],this.Ri=c[0][1],this.La=c[0][2],this.yd=c[1],this.pk=c[2],this.qk=!!c[3],this.Zj=null,c[4]&&(this.Zj=new d.T0(c[4],this)))}j(){this.Ul=null;this.Zj&&(this.Zj.j(),this.Zj=null)}Ee(){return this.ke}Th(c){"color"===this.La&&d.No(c)?(this.ke[0]=d.TI(c),this.ke[1]=d.EI(c),this.ke[2]=d.qI(c)):this.ke=c}IT(c){"color"===this.La&&d.No(c)?(this.Ri[0]=d.TI(c),
this.Ri[1]=d.EI(c),this.Ri[2]=d.qI(c)):this.Ri=c}Fc(){const c=this.Ul.Sa.Hh();if("relative"===c)return this.Ee();if("absolute"===c)return this.Ri}lU(c){this.La=c}Oa(){return this.yd}nu(c){this.yd=c}Fo(){return this.pk}ql(c){this.pk=c}Am(){return this.qk}Sm(c){this.qk=!!c}oI(c){if(this.Zj)for(const f of this.Zj.Rka())if(f.Dj()===c)return f}Aa(){const c=this.Zj;return{addonDataJson:c?c.Aa():c,value:this.ke,aValue:this.Ri,type:this.La,time:this.yd,ease:this.pk,enable:this.qk}}Ia(c){c&&(c.addonDataJson&&
this.Zj.cAa(c.addonDataJson),this.ke=c.value,this.Ri=c.aValue,this.La=c.type,this.yd=c.time,this.pk=c.ease,this.qk=c.enable)}}d.jT=class{constructor(c,f){this.Sa=f;this.wd=[];d.Vh.iy(this.wd,c,b,this)}j(){this.Sa=null;for(const c of this.wd)c.j();d.H(this.wd);this.wd=null}H0(){const c=new b(null,this);this.wd.push(c);return c}n2(c){for(const f of this.wd){if(!c(f))continue;const a=this.wd.indexOf(f);-1!==a&&(f.j(),this.wd.splice(a,1))}this.$aa()}$aa(){this.wd.sort((c,f)=>c.Oa()-f.Oa())}*bQ(){for(const c of this.wd)yield c}*sma(){for(let c=
this.wd.length-1;0<=c;c--)yield this.wd[c]}Aa(){return{propertyKeyframeDataItemsJson:this.wd.map(c=>c.Aa())}}Ia(c){c&&d.Vh.ry(this.wd,c.propertyKeyframeDataItemsJson,b,this)}}}"use strict";
{const d=self.B;class b{constructor(a,e){this.Zj=e;this.Ld=a[0];this._data=a[1]}j(){this._data=this.Zj=null}Dj(){return this.Ld}Aa(){return{id:this.Ld,data:this._data}}Ia(a){a&&(this.Ld=a.id,this._data=a.data)}}class c extends b{constructor(a,e){super(a,e);this.OO=this._data[0];this.BA=!!this._data[1];this.EM=this._data[2];this.RE=!!this._data[3]}j(){super.j()}Aa(){return Object.assign(super.Aa(),{startAnchor:this.OO,startEnable:!!this.BA,endAnchor:this.EM,endEnable:!!this.RE})}Ia(a){a&&(super.Ia(a),
this.OO=a.startAnchor,this.BA=!!a.startEnable,this.EM=a.endAnchor,this.RE=!!a.endEnable)}}class f extends b{constructor(a,e){super(a,e);this.xM=this._data[0];this.wO=this._data[1]}j(){super.j()}Aa(){return Object.assign(super.Aa(),{direction:this.xM,revolutions:this.wO})}Ia(a){a&&(super.Ia(a),this.xM=a.direction,this.wO=a.revolutions)}}d.T0=class{constructor(a){this.Er=[];d.Vh.iy(this.Er,a,{prop:0,map:new Map([["cubic-bezier",c],["angle",f]])},this)}j(){for(const a of this.Er)a.j();d.H(this.Er);this.Er=
null}*Rka(){for(const a of this.Er)yield a}Aa(){return{addonDataItemsJson:this.Er.map(a=>a.Aa())}}Ia(a){a&&d.Vh.ry(this.Er,a.addonDataItemsJson,{prop:"id",map:new Map([["cubic-bezier",c],["angle",f]])},this)}}}"use strict";
{const d=self.B;let b=0;d.Tween=class extends d.$e{constructor(c,f){super(`tween-${b++}`,c,f);this.Ld="";this.TX=!1;this.$M="start-value";this.zZ=this.yZ=null}Na(){var c=this.ac;if(c&&c.length&&(c=c[0])){var f=c.Na();return c.Im()?f:null}}Dj(){return this.Ld}bT(){if(this.zZ)for(const c of this.zZ)c(this);if(!this.gh)for(const c of this.ac)c.Bj()}QS(){this.Mu=this.b.Zl}iR(){if(!this.Vr&&(this.Vr=!0,this.yZ))for(const c of this.yZ)c(this)}nu(c){this.eV();super.nu(c)}fe(c){if(!this.Ip&&"current-state"===
this.$M)for(const f of this.ac)f.Aj();super.fe(c)}ah(c=!1){super.ah(c);if(!this.gh)for(const f of this.ac)f.er()}nd(c=!0,f=!1){this.eV();super.nd(c,f)}eV(){for(const c of this.ac){const f=a=>{a=a.Oa();const e=this.De();return 0!==a&&a!==e};c.m2(f);c.gI(f)}}SD(){if(this.hj)return!0;const c=this.Na();if(c&&c.S().Nh())return!1;this.Xb.GB(this);this.BT();return!0}HS(){}oc(){const c=this.Na();super.oc(this.R().Wg(c),1)}Aa(){const c=super.Aa();return Object.assign(c,{tweenDataItemJson:this.If.Aa(),id:this.Ld,
destroyInstanceOnComplete:this.TX,initialValueMode:this.$M})}Ia(c){c&&(this.If.Ia(c.tweenDataItemJson),super.Ia(c),this.Ld=c.id,this.TX=c.destroyInstanceOnComplete,this.$M=c.initialValueMode)}static IsPlaying(c){return c.IsPlaying()}}}"use strict";
{const d=self.B,b=self.Rw;d.BK=class extends d.ua{constructor(c){super();this.qa=c[0];this.nj=[];for(const f of c[1])c=d.zU.fb(this,f),this.nj.push(c);this.fA=new Map;this.TG=new Map;this.Mga();b.F0(this.qa,(f,a,e,h)=>this.Fb(f,a,e,h))}static fb(c){return d.D(d.BK,c)}j(){for(const c of this.nj)c.j();d.H(this.nj);this.nj=null;this.fA.clear();this.fA=null;this.TG.clear();this.TG=null}Z4(c){const f=this.TG.get(c);if(f)return f;for(const a of this.nj)if(a.pg===c)return this.TG.set(c,a),a}n4(c){for(const f of this.nj)if(f.pg>
c)return f}m4(c){for(const f of this.nj)if(f.pg>=c)return f}o4(c){for(let f=this.nj.length-1;0<=f;f--){const a=this.nj[f];if(a.pg<=c)return a}}Fb(c,f,a,e){var h=c/e;(c=this.Z4(h))?e=this.n4(h):(c=this.o4(h),e=this.m4(h));h=d.gma(h,c.pg,e.pg,e.pg-c.pg);const g=c.pg,m=c.QA,q=c.pg+c.l_,l=c.QA+c.Hka,r=e.pg+e.aY,p=e.QA+e.Pja,t=e.pg;e=e.QA;e=b.Pq("spline")(h,g,m,q,l,r,p,t,e,this.fA.get(c));e+=c.QA;return(1-e)*f+e*(f+a)}Mga(){this.fA.clear();for(let f=0;f<this.nj.length-1;f++){var c=this.nj[f];if(!c.BA)continue;
const a=this.nj[f+1];this.fA.set(c,b.O3(c.pg,c.pg+c.l_,a.pg+a.aY,a.pg))}}}}"use strict";{const d=self.B;d.zU=class extends d.ua{constructor(b,c){super();this.pg=c[0];this.QA=c[1];this.l_=c[2];this.Hka=c[3];this.aY=c[4];this.Pja=c[5];this.BA=c[6];this.RE=c[7]}j(){}static fb(b,c){return d.D(d.zU,b,c)}}}"use strict";{const d=self.B;d.xba=class extends d.ua{constructor(b){super();this.b=b;this.UG=[]}j(){for(const b of this.UG)b.j();d.H(this.UG);this.UG=null}fb(b){this.UG.push(d.BK.fb(b))}}}"use strict";
{const d=self.B;d.Yaa=class extends d.ua{constructor(b){super();this.W=b;this.Bb=[];this.Bb.push(d.D(d.qK,this));this.bb=0;this.kk=this.Bb[0]}j(){for(const b of this.Bb)b.j();d.H(this.Bb);this.W=this.kk=null}S(){return this.W}ea(){return this.kk}Bd(){this.ea().Bd()}u9(){var b=this.Bb,c=++this.bb;c===b.length?(c=d.D(d.qK,this),b.push(c),this.kk=c):(b=b[c],b.nd(),this.kk=b)}v9(){const b=this.Bb,c=++this.bb;c===b.length&&b.push(d.D(d.qK,this));const f=b[c];f.N1(b[c-1]);this.kk=f}Wa(){this.kk=this.Bb[--this.bb]}dr(b){const c=
this.Bb;for(let f=0,a=c.length;f<a;++f)c[f].dr(b)}}}"use strict";
{const d=self.B;d.qK=class extends d.ua{constructor(b){super();this.Bb=b;this.W=this.Bb.S();this.Ke=this.W.R().Qd();this.Mc=!0;this.L=[];this.Kc=[]}j(){this.CB();this.Ke=this.W=this.Bb=null}CB(){d.H(this.L);d.H(this.Kc)}S(){return this.W}bJ(){return this.Mc?!!this.W.L.length:!!this.L.length}za(){return this.Mc?this.W.za():this.L}j5(){return!!this.Kc.length}wR(){const b=this.za();return b.length?b:this.Kc}nd(){this.Mc=!0;d.H(this.Kc)}Bd(){this.Mc=!0}N1(b){b.Mc?this.nd():(this.Mc=!1,d.$d(this.L,b.L),
d.H(this.Kc))}rr(b){this.L.push(b)}np(b){this.Kc.push(b)}uf(b){this.Mc=!!b}rl(b){this.Mc=!1;d.H(this.L);this.L.push(b)}Lx(b){this.Mc=!1;d.$d(this.L,b)}Yx(b){this.Mc=!1;d.H(this.L);for(const c of b)this.L.push(c)}xQ(b,c){for(const f of c)b.has(f)||this.Kc.push(f)}vba(b){for(const c of b)this.L.push(c);d.si(this.Kc,b)}Uo(b){b&&(this.Ke.yg().ec().Me?(this.Mc&&(d.H(this.L),d.$d(this.Kc,b.S().za()),this.Mc=!1),b=this.Kc.indexOf(b),-1!==b&&(this.L.push(this.Kc[b]),this.Kc.splice(b,1))):this.rl(b))}dr(b){d.si(this.L,
b);d.si(this.Kc,b)}}}"use strict";
{const d=self.B;d.v3=class extends d.ua{constructor(b){super();this.Ha=b;this.b=this.Ha.R();this.Bb=[];this.Bb.push(d.D(d.eR,this,null));this.bb=0;this.UE=[]}j(){for(const b of this.Bb)b.j();d.H(this.Bb);d.H(this.UE);this.b=this.Ha=null}ya(){return this.Ha}R(){return this.b}yg(){return this.Bb[this.bb]}Xa(b){var c=this.Bb;const f=++this.bb;if(f===c.length)return b=d.D(d.eR,this,b),c.push(b),b;c=c[f];c.nd(b);return c}Wa(){--this.bb}w9(b){this.UE.push(b)}p9(){this.UE.pop()}W3(){const b=this.UE;return 0===
b.length?null:b[b.length-1]}}}"use strict";
{const d=self.B;d.eR=class extends d.ua{constructor(b,c){super();this.Bb=b;this.b=this.Bb.R();this.cz=c;this.eh=this.jn=0;this.DM=this.os=!1;this.IM=null;this.PM=this.lY=0}j(){this.nd(null);this.b=this.Bb=null}nd(b){this.cz=b;this.eh=this.jn=0;this.DM=this.os=!1}uL(b,c){this.cz=b;this.jn=0;this.eh=c}CT(){this.eh=this.jn=0}ec(){return this.cz}Sh(b){this.cz=b}$o(b){this.jn=b}ZC(b){this.eh=b}ep(b){this.os=!!b}du(b){this.DM=!!b}K$(b){this.IM=b}Z5(b,c){this.lY=b;this.PM=c}hD(b){this.PM=b}kl(){const b=
this.cz;return b.MF?!0:this.jn<b.xc.length-1?!!b.me().length:!1}}}"use strict";{const d=self.B;d.x7=class extends d.ua{constructor(b){super();this.Ha=b;this.b=this.Ha.R();this.Bb=[];this.bb=-1;this.kk=null;this.rF=[]}j(){d.H(this.Bb);this.b=this.Ha=null}ria(b){this.rF=b;b=this.rF.slice(0);this.Bb.push(b);this.bb=0;this.kk=b}ya(){return this.Ha}R(){return this.b}At(){return this.kk}Xa(){const b=++this.bb,c=this.Bb;b===c.length?c.push(this.rF.slice(0)):d.$d(c[b],this.rF);this.kk=c[b]}Wa(){this.kk=this.Bb[--this.bb]}}}"use strict";
{const d=self.B;d.z7=class extends d.ua{constructor(b){super();this.Ha=b;this.b=this.Ha.R();this.Bb=[];this.bb=-1}j(){d.H(this.Bb);this.b=this.Ha=null}ya(){return this.Ha}R(){return this.b}pS(){return 0<=this.bb}At(){return this.Bb[this.bb]}Xa(){++this.bb;if(this.bb===this.Bb.length){var b=d.D(d.y7,this);this.Bb.push(b);return b}b=this.Bb[this.bb];b.nd();return b}Wa(){--this.bb}C3(b){const c=this.Bb;for(let f=this.bb;0<=f;--f){const a=c[f];if(a.qa===b)return a}return null}}}"use strict";
{const d=self.B;d.y7=class extends d.ua{constructor(b){super();this.Lg=b;this.qa="";this.bb=0;this.Wc=!1}nd(){this.qa="";this.bb=0;this.Wc=!1}tD(b){this.qa=b}od(b){this.bb=b}Ra(){return this.bb}ah(){this.Wc=!0}}}"use strict";{const d=self.B;d.$0=class extends d.ua{constructor(){super();this.Bb=[];this.bb=-1}j(){d.H(this.Bb)}At(){return this.Bb[this.bb]}Xa(){++this.bb;if(this.bb===this.Bb.length){const b=[];this.Bb.push(b);return b}return this.Bb[this.bb]}Wa(){--this.bb}}}"use strict";
{const d=self.B;function b(c,f){return c.Ra()-f.Ra()}d.u3=class extends d.ua{constructor(c){super();this.b=c;this.My=[];this.EO=new Map;this.aM=[];this.sY=new Map;this.pM=new Map;this.rM=new Map;this.kE=new Map;this.GX=new Map;this.GM=new Map;this.vka=0;this.$L=[];this.wja=[];this.lZ=[];this.NM=new Map;this.Ke=d.D(d.v3,this);this.he=d.D(d.x7,this);this.Lg=d.D(d.z7,this);this.XO=[];this.sG=[];this.rG=[];this.oM=this.qn=this.Xn=0;this.qh=[];this.sE=[];self.c3_callFunction=(f,a)=>this.QD(f,a)}j(){this.BB();
this.Ke.j();this.Ke=null;this.he.j();this.he=null;d.H(this.sG);d.H(this.rG);this.b=null;d.H(this.My);this.EO.clear()}fb(c){c=d.D(d.t3,this,c);this.My.push(c);this.EO.set(c.qa.toLowerCase(),c)}jca(c){this.XO.push(c)}pc(){for(const c of this.NM.values())c.pc(!1);for(const c of this.My)c.pc();for(const c of this.My)c.OL();for(const c of this.XO)c.pc(!1);d.H(this.XO);this.he.ria(this.lZ)}R(){return this.b}vR(c){return this.EO.get(c.toLowerCase())||null}Yga(c){this.aM.push(c);this.sY.set(c.rY,c)}Vga(c){this.pM.set(c.wb,
c)}Uga(c){this.rM.set(c.wb,c)}Tga(c){this.kE.set(c.wb,c)}Xga(c){this.NM.set(c.cF.toLowerCase(),c)}Wga(c){this.GM.set(c.wb,c);c.Nh()?this.$L.push(c):this.wja.push(c)}HD(c){2<=c.length&&c.sort(b);let f=this.GX.get(c.length);f||(f=[],this.GX.set(c.length,f));for(let e=0,h=f.length;e<h;++e){const g=f[e];a:{for(let m=0,q=c.length;m<q;++m)if(c[m]!==g[m]){var a=!1;break a}a=!0}if(a)return g}f.push(c);return c}tea(c){this.lZ.push(c.zb);return this.vka++}Qd(){return this.Ke}xg(){return this.Qd().yg()}ec(){return this.xg().ec()}Vg(){const c=
this.xg();return c.ec().rR(c.jn)}gx(){const c=this.xg();return c.ec().kR(c.eh)}J3(c){const f=[];for(c=c.It();c;)d.mm(f,c.uV()),c=c.It();return f}DV(c){const f={};for(const a of this.J3(c))f[a.Fj()]=a.GV();return Object.create(Object.prototype,f)}AI(c){return this.GM.get(c)||null}b4(c){return this.pM.get(c)||null}H3(c){return this.kE.get(c)||null}gC(c){return this.NM.get(c.toLowerCase())||null}S9(){for(const c of this.$L)c.Y9()}uR(c){return this.sY.get(c.toLowerCase())||null}c4(c){return(c=this.pM.get(c))&&
c.Ck?c:null}T9(){for(const c of this.aM)c.V9()}DW(){for(const c of this.My)c.mha()}f$(c){this.DW();this.Xn++;for(const f of c.pB())if(c=f.Kd)this.b.Hx(f),c.Ea(),this.b.Gx();this.Xn--}async f2(c){this.DW();this.Xn++;for(const f of this.hda(c))await this.b.xt(f);this.Xn--}*hda(c){for(const f of c.pB())if(c=f.Kd)this.b.Hx(f),yield*c.Db(),this.b.Gx()}Ky(c,f,a,e){let h=!1;if(!c.Sc())return this.MJ(f,a,e);this.qn++;for(const g of c.pB())if(c=g.Kd){this.b.Hx(g);for(const m of c.IE){const q=m.Ky(f,a,e);h=
h||q}c=c.Ky(f,a,e);h=h||c;this.b.Gx()}this.qn--;return h}*tu(c,f,a,e){let h=!1;if(!c.Sc())return this.MJ(f,a,e);this.qn++;for(const g of c.pB())if(c=g.Kd){this.b.Hx(g);for(const m of c.IE){const q=yield*m.tu(f,a,e);h=h||q}c=yield*c.tu(f,a,e);h=h||c;this.b.Gx()}this.qn--;return h}MJ(c,f,a){this.sG.push([c,f,a]);return!1}z9(c,f,a){let e=null;const h=new Promise(g=>e=g);this.rG.push([c,f,a,e]);return h}*wha(){if(this.b.ux())throw Error("should not be in breakpoint");const c=this.b.Hb;for(;this.rG.length;){const [f,
a,e,h]=this.rG.shift(),g=yield*this.tu(c,f,a,e);h(g)}}async ET(){for(const c of this.wha())await this.b.xt(c)}GC(){return 0<this.qn}oy(){return++this.qn}ky(){--this.qn}Y6(){return 0<this.Xn}FC(){return this.Y6()||this.GC()}xha(c){for(const [f,a,e]of this.sG)this.Ky(c,f,a,e);d.H(this.sG)}Kf(c){c?this.oM++:this.oM--}nS(){return 0<this.oM}ut(c){for(let f=0,a=c.length;f<a;++f)c[f].aq.Bd()}Ph(c){for(let f=0,a=c.length;f<a;++f)c[f].aq.u9()}Uf(c){for(let f=0,a=c.length;f<a;++f)c[f].aq.v9()}nc(c){for(let f=
0,a=c.length;f<a;++f)c[f].aq.Wa()}RH(){const c=d.D(d.UJ,this);this.qh.push(c);return c}h$(){if(this.qh.length){var c=this.xg(),f=!1;this.Xn++;for(let a=0,e=this.qh.length;a<e;++a){const h=this.qh[a];h.mX()&&h.oha(c);h.sA&&(f=!0)}f&&this.pV();this.Xn--}}async h2(){if(this.qh.length){var c=this.xg(),f=!1;this.Xn++;for(let a=0,e=this.qh.length;a<e;++a){const h=this.qh[a];h.mX()&&await h.bda(c);h.sA&&(f=!0)}f&&this.pV();this.Xn--}}pV(){const c=d.Zka(this.qh,f=>f.sA);for(const f of c)f.j()}BB(){for(const c of this.qh)c.j();
d.H(this.qh)}I9(c){for(const f of this.qh)f.dr(c)}OH(c){this.sE.push(c)}DB(){d.H(this.sE)}P4(){const c=Promise.all(this.sE);this.sE=[];return c}Aa(){return{groups:this.Eha(),cnds:this.Dha(),acts:this.Cha(),vars:this.Pha(),waits:this.Lha()}}Ia(c){this.qfa(c.groups);this.kfa(c.cnds);this.jfa(c.acts);this.Cfa(c.vars);this.yfa(c.waits)}Eha(){const c={};for(const f of this.aM)c[f.wb.toString()]=f.Ot();return c}qfa(c){for(const [f,a]of Object.entries(c))(c=this.c4(parseInt(f,10)))&&c.eu(a)}Dha(){const c=
{};for(const [f,a]of this.rM){const e=a.Aa();e&&(c[f.toString()]=e)}return c}kfa(c){const f=new Map;for(const [a,e]of Object.entries(c))f.set(parseInt(a,10),e);for(const [a,e]of this.rM)e.Ia(f.get(a)||null)}Cha(){const c={};for(const [f,a]of this.kE){const e=a.Aa();e&&(c[f.toString()]=e)}return c}jfa(c){const f=new Map;for(const [a,e]of Object.entries(c))f.set(parseInt(a,10),e);for(const [a,e]of this.kE)e.Ia(f.get(a)||null)}Pha(){const c={};for(const [f,a]of this.GM)a.Rb||!a.Nh()&&!a.Zi||(c[f.toString()]=
a.Ee());return c}Cfa(c){for(const [f,a]of Object.entries(c))(c=this.AI(parseInt(f,10)))&&c.Th(a)}Lha(){return this.qh.filter(c=>!c.X6()).map(c=>c.Aa())}yfa(c){this.BB();for(const f of c)(c=d.UJ.Hca(this,f))&&this.qh.push(c)}mI(c){for(;c;)if(c=c.It(),c instanceof d.Xw)return c;return null}QD(c,f){Array.isArray(f)||(f=[]);c=this.gC(c.toLowerCase());if(!c)return null;if(!c.Cd())return c.ix();var a=c.ci;if(f.length<a.length){f=f.slice(0);do f.push(a[f.length].zb);while(f.length<a.length)}a=c.Of();return a.SJ(a.ne(),
c.Un,c.ix(),...f)}}}"use strict";
{const d=self.B;d.t3=class extends d.ua{constructor(b,c){super();this.Ha=b;this.b=b.R();this.qa=c[0];this.TE=[];this.XG=new Map;this.gY=new Map;this.Qja=new Map;this.oz=!1;this.d_=[];this.IE=[];this.HX=new Set;for(const f of c[1])this.bV(f,null,this.TE);this.Kk=this.b.Sb?{type:"sheet",name:this.qa,rB:0,children:[]}:null}j(){this.b=this.Ha=null}bV(b,c,f){switch(b[0]){case 0:case 3:this.Fca(b,c,f);break;case 1:this.Gca(b,c,f);break;case 2:this.Kca(b,c,f);break;case 4:this.Ica(b,c);break;case 5:this.Pca(b,
c,f);break;default:throw Error("invalid event type");}}Fca(b,c,f){b=d.vm.fb(this,c,b);if(b.Me){f.push(b);f=b.xc;for(let a=0,e=f.length;a<e;++a)f[a].Zq()&&this.RV(b,a)}else b.Zq()?this.RV(b,0):f.push(b)}Ica(b,c){b=d.Xw.fb(this,c,b);this.Ha.Xga(b)}Gca(b,c,f){b=d.RB.fb(this,c,b);f.push(b)}Kca(b,c,f){b=d.dR.fb(this,c,b);f.push(b)}Pca(b,c,f){b=d.QB.fb(this,c,b);f.push(b)}RV(b,c){b.Me||this.Ha.jca(b);var f=b.rR(c),a=f.Ta,e=f.S();if(f.PY){var h=this.gY.get(e);h||(h=new Map,this.gY.set(e,h));f=f.g4().toLowerCase();
e=h.get(a);e||(e=new Map,h.set(a,e));a=e.get(f);a||(a=[],e.set(f,a));a.push([b,c])}else h=this.XG.get(e),h||(h={OP:new Map,XA:new Map},this.XG.set(e,h)),(e=f.xi())?(f=h.XA.get(e),f||(f=new Map,h.XA.set(e,f))):f=h.OP,h=f.get(a),h||(h=[],f.set(a,h)),h.push([b,c])}pc(){const b=this.TE;for(let c=0,f=b.length;c<f;++c)b[c].pc(c<f-1&&b[c+1]instanceof d.vm&&b[c+1].DC())}hca(b){this.d_.push(b)}OL(){d.H(this.IE);this.NU(this);this.HX.clear()}NU(b){const c=b.IE,f=b.HX;for(const a of this.d_){const e=a.uz;a.Nb&&
b!==e&&!f.has(e)&&(f.add(e),e.NU(b),c.push(e))}}ya(){return this.Ha}R(){return this.b}wW(b,c){this.Qja.set(c,b)}mha(){this.oz=!1}Ea(){if(!this.oz){var b=this.b,c=b.mJ(),f=c?performance.now():0;this.oz=!0;var a=this.ya(),e=a.xg();for(const h of this.TE)h.Ea(e),a.ut(h.me()),a.DB(),b.We();e.nd(null);c&&(this.Kk.rB+=performance.now()-f)}}*Db(){if(!this.oz){this.oz=!0;var b=this.b,c=this.ya(),f=c.xg();for(const a of this.TE)yield*a.Db(f),c.ut(a.me()),c.DB(),b.We();f.nd(null)}}Ky(b,c,f){if(c){const a=c.S();
this.JL(b,c,a,f);for(const e of a.Yi)this.JL(b,c,e,f)}else return this.JL(b,c,null,null)}JL(b,c,f,a){f=this.XG.get(f);if(!f)return!1;a=a?f.XA.get(a):f.OP;if(!a)return!1;a=a.get(b);if(!a)return!1;b=!1;for(const [e,h]of a)a=this.oV(c,e,h),b=b||a;return b}*tu(b,c,f){if(c){const a=c.S();yield*this.UK(b,c,a,f);for(const e of a.Yi)yield*this.UK(b,c,e,f)}else return yield*this.UK(b,c,null,null)}*UK(b,c,f,a){f=this.XG.get(f);if(!f)return!1;a=a?f.XA.get(a):f.OP;if(!a)return!1;a=a.get(b);if(!a)return!1;b=!1;
for(const [e,h]of a)a=e.Lf()?this.oV(c,e,h):yield*this.Wca(c,e,h),b=b||a;return b}oV(b,c,f){const a=this.b,e=this.Ha,h=e.ec(),g=e.Qd(),m=e.qn;let q=!1;h&&e.Ph(h.ne());e.Ph(c.ne());const l=1<m;l&&e.he.Xa();const r=g.Xa(c);b&&(c.xc[f].S().ea().rl(b),b.md()&&b.Qj());b=!0;if(c.Ka()){const p=c.Ss;for(let t=0,v=p.length;t<v;++t)if(!p[t].DT(r)){b=!1;break}}b&&(a.Hm(),c.Me?c.g$(r,f):c.Ea(r),q=r.os);g.Wa();l&&e.he.Wa();e.nc(c.ne());h&&e.nc(h.ne());h||1!==m||(e.DB(),e.nS()||a.We());return q}*Wca(b,c,f){const a=
this.b,e=this.Ha,h=e.ec(),g=e.Qd(),m=e.qn;let q=!1;h&&e.Ph(h.ne());e.Ph(c.ne());const l=1<m;l&&e.he.Xa();const r=g.Xa(c);b&&(c.xc[f].S().ea().rl(b),b.md()&&b.Qj());b=!0;if(c.Ka()){const p=c.Ss;for(let t=0,v=p.length;t<v;++t)if(!(yield*p[t].WQ(r))){b=!1;break}}b&&(a.Hm(),c.Me?yield*c.g2(r,f):yield*c.Db(r),q=r.os);g.Wa();l&&e.he.Wa();e.nc(c.ne());h&&e.nc(h.ne());h||1!==m||(e.DB(),e.nS()||a.We());return q}}}"use strict";
{const d=self.B,b=[];function c(){return!0}function*f(){return!0}d.vm=class extends d.ua{constructor(a,e,h){super();this.Kd=a;this.b=a.R();this.gd=e;this.kf=null;this.Ke=this.b.ya().Qd();this.lg=[];this.Vv=[];this.mz=this.OF=this.MF=this.xY=!1;this.Me=!!h[2];this.AF=!1;this.Ss=null;this.xc=[];this.Yh=[];this.lj=[];this.Xj=c;this.lr=f;this.nN=this.Ck=!1;this.rY="";this.DF=!1;this.Kk=this.GE=null;this.wb=h[4];this.Xu=h[5];this.Kd.wW(this,this.Xu);this.Za=this.b.Sb?{Nd:h[3][0],IP:h[3][1],D_:!1,rP:!1,
sP:!1,E_:!1}:null;this.ya().Vga(this);3===h[0]&&this.Qea(h[1]);a=0;for(var g of h[6])e=d.PQ.fb(this,g,a++),this.xc.push(e),this.SU(e.S());a=0;for(const m of h[7])g=d.uB.fb(this,m,a++),this.Yh.push(g);if(9===h.length){h=h[8];for(const m of h)this.Kd.bV(m,this,this.lj)}this.xc.length&&(this.AF=null===this.xc[0].S()&&this.xc[0].Ta===d.A.Pa.F.bR);0===this.xc.length&&(this.xc=b);0===this.Yh.length&&(this.Yh=b);0===this.lj.length&&(this.lj=b)}static fb(a,e,h){return d.D(d.vm,a,e,h)}Qea(a){this.Ck=!0;this.DF=
this.nN=!!a[0];this.rY=a[1].toLowerCase();this.GE=[];this.ya().Yga(this);this.b.Sb&&(this.Kk={type:"group",name:a[1],rB:0,children:[]})}$ba(a){this.GE.push(a)}MU(a,e){for(const h of a.jk.Mn)e.includes(h)||e.push(h)}TU(a,e){if(a)if(e.includes(a)||e.push(a),a.mb)for(const h of a.Ur)h.md()&&this.MU(h,e);else a.md()&&this.MU(a,e)}SU(a){this.TU(a,this.lg)}dca(a){this.TU(a,this.Vv)}o$(){this.lg=this.b.Gd}pc(a){this.mz=!!a;this.Kea();this.Lea();for(const h of this.xc)h.pc();if(0<this.Yh.length){a=!1;for(var e of this.Yh)e.pc(),
e.s5()&&(a=!0);a?(this.Xj=this.qha,this.lr=this.dda):(this.Xj=this.pha,this.lr=this.cda)}e=this.lj;for(let h=0,g=e.length;h<g;++h)e[h].pc(h<g-1&&e[h+1]instanceof d.vm&&e[h+1].DC());this.Za&&this.jja();this.Kk&&this.uea().Kk.children.push(this.Kk)}uea(){let a=this.Ka();for(;a;){if(a.Ck)return a;a=a.Ka()}return this.Kd}jja(){const a=this.Za;a.D_=this.xc.every(e=>e.Lf());a.rP=this.Yh.every(e=>e.Lf());a.sP=this.lj.every(e=>e.Lf());a.E_=a.D_&&a.rP&&a.sP}Kea(){if(this.Ck){var a=this.Ka();for(this.OF=!0;a;){if(!a.Ck){this.OF=
!1;break}a=a.Ka()}}}Jea(){var a=this.b.Gd;if(this.lg===a)this.Vv=a;else{this.Vv=d.iH(this.lg);for(a=this.Ka();a;){for(var e of a.lg)this.dca(e);a=a.Ka()}e=this.ya();this.lg=e.HD(this.lg);this.Vv=e.HD(this.Vv)}}Lea(){if(this.k5()){this.Ss=[];for(var a=this.Ka();a;)this.Ss.push(a),a=a.Ka();this.Ss.reverse()}}Zx(){this.MF=!0;this.gd&&this.gd.Zx()}me(){return this.lg}ne(){this.xY||(this.xY=!0,this.Jea());return this.Vv}u5(a){return this.lg.includes(a)}ya(){return this.Kd.ya()}R(){return this.b}Ka(){return this.gd}Dia(a){this.kf=
a}It(){return this.kf||this.gd}nJ(){return this.Za&&this.Za.IP}Xq(){return this.nJ()&&this.Za.Nd}DC(){return this.AF}Ot(){return this.DF}V9(){this.eu(this.nN)}eu(a){a=!!a;if(!this.Ck)throw Error("not a group");if(this.DF!==a){this.DF=a;for(const e of this.GE)e.AU();this.GE.length&&(a=this.b.gb().Kd)&&a.OL()}}Zq(){return this.xc.length&&this.xc[0].Zq()}O6(){return this.kf&&this.kf instanceof d.Xw}k5(){return this.O6()||this.xc.some(a=>a.Zq())}rR(a){a=Math.floor(a);if(0>a||a>=this.xc.length)throw new RangeError("invalid condition index");
return this.xc[a]}M6(a){let e=a.Ra();if(0===e)return!0;for(--e;0<=e;--e)if(this.xc[e].S()===a.S())return!1;return!0}kR(a){a=Math.floor(a);if(0>a||a>=this.Yh.length)throw new RangeError("invalid action index");return this.Yh[a]}Iea(a){a=Math.floor(a);return 0<=a&&a<this.Yh.length}uV(){return this.lj.filter(a=>a instanceof d.RB)}DT(a){a.Sh(this);let e=!1;const h=this.xc;for(let g=0,m=h.length;g<m;++g){const q=h[g];a.$o(g);if(q.EF)throw Error("trigger cannot be used as sub-event to a loop");if(q.Ea())e=
!0;else if(!this.Me)return!1}return this.Me?e:!0}g$(a,e){a.Sh(this);this.xc[e].Ea()&&(this.Xj(a,0)&&this.$m(),a.ep(!0))}*WQ(a){a.Sh(this);let e=!1;const h=this.xc;for(let g=0,m=h.length;g<m;++g){const q=h[g];a.$o(g);if(q.EF)throw Error("trigger cannot be used as sub-event to a loop");if(q.Lf()?q.Ea():yield*q.Db())e=!0;else if(!this.Me)return!1}return this.Me?e:!0}*g2(a,e){a.Sh(this);e=this.xc[e];if(e.Lf()?e.Ea():yield*e.Db())(this.MB()?this.Xj(a,0):yield*this.lr(a,0))&&(this.NB()?this.$m():yield*this.jy()),
a.ep(!0)}Ea(a){a.Sh(this);this.AF||a.du(!1);this.Me?this.vha(a):this.XD(a)}*Db(a){if(this.Xq()||this.b.Rc())yield this;a.Sh(this);this.AF||a.du(!1);this.Me?yield*this.oda(a):yield*this.RK(a)}vha(a){const e=this.xc;let h=0===e.length;for(let m=0,q=e.length;m<q;++m){var g=e[m];g.Zq()||(a.$o(m),g=g.Ea(),h=h||g)}a.ep(h);h&&(this.Xj(a,0)&&this.$m(),this.mz&&a.du(!0))}*oda(a){const e=this.xc;let h=0===e.length;for(let m=0,q=e.length;m<q;++m){var g=e[m];g.Zq()||(a.$o(m),g=g.Lf()?g.Ea():yield*g.Db(),h=h||
g)}a.ep(h);h&&((this.MB()?this.Xj(a,0):yield*this.lr(a,0))&&(this.NB()?this.$m():yield*this.jy()),this.mz&&a.du(!0))}XD(a){const e=this.xc;for(let h=0,g=e.length;h<g;++h){const m=e[h];a.$o(h);if(!m.Ea()){a.ep(!1);return}}a.ep(!0);this.Xj(a,0)&&this.$m();a.os&&this.mz&&a.du(!0)}*RK(a){const e=this.xc;for(let h=0,g=e.length;h<g;++h){const m=e[h];a.$o(h);if(m.Lf()?!m.Ea():!(yield*m.Db())){a.ep(!1);return}}a.ep(!0);(this.MB()?this.Xj(a,0):yield*this.lr(a,0))&&(this.NB()?this.$m():yield*this.jy());a.os&&
this.mz&&a.du(!0)}pha(a,e){const h=this.Yh;for(let g=e,m=h.length;g<m;++g)e=h[g],a.ZC(g),e.Ea();return!0}*cda(a,e){const h=this.Yh;for(let g=e,m=h.length;g<m;++g)e=h[g],a.ZC(g),e.Lf()?e.Ea():yield*e.Db();return!0}qha(a,e){const h=this.ya(),g=this.Yh;for(let m=e,q=g.length;m<q;++m){e=g[m];a.ZC(m);const l=e.Ea();if(e.IQ()&&!0===l)return!1;e.Lh()&&l instanceof Promise&&h.OH(l)}return!0}*dda(a,e){const h=this.ya(),g=this.Yh;for(let m=e,q=g.length;m<q;++m){e=g[m];a.ZC(m);let l;l=e.Lf()?e.Ea():yield*e.Db();
if(e.IQ()&&!0===l)return!1;e.Lh()&&l instanceof Promise&&h.OH(l)}return!0}nha(a){this.Xj(a,a.eh)&&this.$m()}*ada(a){if(yield*this.lr(a,a.eh))yield*this.jy()}$m(){if(this.lj.length){var a=this.Ck&&this.b.mJ(),e=a?performance.now():0,h=this.Ke,g=h.Xa(this);this.MF?this.Aha(g):this.zha(g);h.Wa();a&&(this.Kk.rB+=performance.now()-e)}}Aha(a){const e=this.Ck,h=this.OF,g=this.ya(),m=this.lj;for(let q=0,l=m.length,r=l-1;q<l;++q){const p=m[q],t=p.me(),v=!h||!e&&q<r;v&&g.Uf(t);p.Ea(a);v?g.nc(t):g.ut(t)}}zha(a){const e=
this.lj;for(let h=0,g=e.length;h<g;++h)e[h].Ea(a)}*jy(){if(this.lj.length){var a=this.Ke,e=a.Xa(this);this.MF?yield*this.rda(e):yield*this.qda(e);a.Wa()}}*rda(a){const e=this.Ck,h=this.OF,g=this.ya(),m=this.lj;for(let q=0,l=m.length,r=l-1;q<l;++q){const p=m[q],t=p.me(),v=!h||!e&&q<r;v&&g.Uf(t);yield*p.Db(a);v?g.nc(t):g.ut(t)}}*qda(a){const e=this.lj;for(let h=0,g=e.length;h<g;++h)yield*e[h].Db(a)}Qh(a,e){this.b.Hm();e.CT();const h=this.xc;if(!this.Me)for(let g=a.jn+1,m=h.length;g<m;++g)if(a=h[g],
e.$o(g),!a.Ea())return!1;this.Xj(e,0)&&this.$m();return!0}*zh(a,e){this.b.Hm();e.CT();const h=this.xc;if(!this.Me)for(let g=a.jn+1,m=h.length;g<m;++g)if(a=h[g],e.$o(g),a.Lf()?!a.Ea():!(yield*a.Db()))return!1;(this.MB()?this.Xj(e,0):yield*this.lr(e,0))&&(this.NB()?this.$m():yield*this.jy());return!0}Lf(){return!this.Xq()&&!this.b.Rc()&&this.Za.E_}MB(){return!this.b.Rc()&&this.Za.rP}NB(){return!this.b.Rc()&&this.Za.sP}KK(a){if(this.Ka()){const e=this.Ss;for(let h=0,g=e.length;h<g;++h)if(!e[h].DT(a))return!1}return!0}*cV(a){if(this.Ka()){const e=
this.Ss;for(let h=0,g=e.length;h<g;++h)if(!(yield*e[h].WQ(a)))return!1}return!0}nV(a,e,h){0<e.length?h?(e=e.map(g=>g.ja(0)),a.he.Xa(),this.kf.Ox(e)):this.kf.s3(e):h&&a.he.Xa()}d$(a,e){let h,g;const m=0<a.length;var q=this.b;const l=this.Ke,r=q.ya(),p=1<r.oy();this.nV(r,e,p);m&&r.Ph(a);e=l.Xa(this);this.KK(e)&&(q.Hm(),e.Sh(this),(q=this.kf.Lh())&&([g,h]=this.kf.tK()),this.XD(e),q&&this.kf.Bx(g));l.Wa();p&&r.he.Wa();m&&r.nc(a);r.ky();return h}*d2(a,e){let h,g;if(this.Xq()||this.b.Rc())yield this;const m=
0<a.length;var q=this.b;const l=this.Ke,r=q.ya(),p=1<r.oy();this.nV(r,e,p);m&&r.Ph(a);e=l.Xa(this);if(yield*this.cV(e))q.Hm(),e.Sh(this),(q=this.kf.Lh())&&([g,h]=this.kf.tK()),yield*this.RK(e),q&&this.kf.Bx(g);l.Wa();p&&r.he.Wa();m&&r.nc(a);r.ky();return h}e$(a){const e=this.ne(),h=0<e.length,g=this.b,m=this.Ke,q=g.ya(),l=1<q.oy();l&&q.he.Xa();this.kf.Ox(a);h&&q.Ph(e);a=m.Xa(this);this.KK(a)&&(g.Hm(),a.Sh(this),this.XD(a));m.Wa();l&&q.he.Wa();h&&q.nc(e);q.ky()}*e2(a){if(this.Xq()||this.b.Rc())yield this;
const e=this.ne(),h=0<e.length,g=this.b,m=this.Ke,q=g.ya(),l=1<q.oy();l&&q.he.Xa();this.kf.Ox(a);h&&q.Ph(e);a=m.Xa(this);if(yield*this.cV(a))g.Hm(),a.Sh(this),yield*this.RK(a);m.Wa();l&&q.he.Wa();h&&q.nc(e);q.ky()}SJ(a,e,h,...g){let m,q;const l=0<a.length,r=this.b,p=this.Ke,t=r.ya(),v=1<t.oy();v&&t.he.Xa();0<g.length&&this.kf.Ox(g);l&&t.Ph(a);g=p.Xa(this);g.Z5(e,h);p.w9(g);r.dD(!1);this.KK(g)&&(r.Hm(),g.Sh(this),(e=this.kf.Lh())&&([q,m]=this.kf.tK()),this.XD(g),e&&this.kf.Bx(q));r.dD(!0);p.Wa();p.p9();
v&&t.he.Wa();l&&t.nc(a);t.ky();return m||g.PM}}}"use strict";
{const d=self.B,b=[];let c=!1;d.QB=class extends d.ua{constructor(f,a,e){super();const h=f.R(),g=f.ya();this.Kd=f;this.Ha=g;this.b=f.R();this.gd=a;this.Ta=h.Bi(e[1]);this.Xu=e[2];this.Kd.wW(this,this.Xu);this.Za=h.Sb?{Nd:e[3][0],IP:e[3][1]}:null}static fb(f,a,e){return d.D(d.QB,f,a,e)}pc(){const f=this.Ta,a=this.b.ya().DV(this);this.Ta=f.bind(null,this.b.Ak,a)}Ka(){return this.gd}It(){return this.gd}nJ(){return this.Za&&this.Za.IP}Xq(){return this.nJ()&&this.Za.Nd}DC(){return!1}me(){return b}ne(){return this.gd?
this.gd.ne():b}Ea(f){f.Sh(this);this.Ha.OH(this.Bha())}async Bha(){try{await this.Ta()}catch(f){console.error(`Unhandled exception running script %c${this.Kd.qa}, event ${this.Xu}:`,"font-size: 1.2em; font-weight: bold;",f),self.zj&&self.zj.sia(this),c||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),c=!0)}}*Db(f){f.Sh(this);if(this.Xq()||this.b.Rc())yield this;
this.Ea(f)}Lf(){return!this.Xq()&&!this.b.Rc()}static f5(){return c}static T$(){c=!0}}}"use strict";
{const d=self.B;d.Xw=class extends d.ua{constructor(b,c,f){super();this.Kd=b;this.b=b.R();this.gd=c;const a=f[1];this.cF=a[0];this.Un=a[1];this.ci=a[2].map(e=>d.RB.fb(b,this,e));this.la=a[3];this.aN=[];this.Bz=a[4];this.rka=0;this.bz=-1;this.Py=new Map;this.df=d.vm.fb(b,c,f);this.df.Dia(this)}static fb(b,c,f){return d.D(d.Xw,b,c,f)}pc(){for(const b of this.ci)b.pc();this.df.pc(!1)}uV(){return this.ci}Zga(b){this.aN.push(b)}s3(b){const c=this.ci;for(let f=0,a=c.length;f<a;++f)c[f].Th(b[f].ja(0))}Ox(b){const c=
this.ci;for(let f=0,a=c.length;f<a;++f)c[f].Th(b[f])}r1(){return this.ci.map(b=>b.Ee())}Ka(){return this.gd}It(){return this.gd}Cd(){return this.la}ix(){switch(this.Un){case 0:return null;case 2:return"";default:return 0}}Of(){return this.df}Lh(){return this.Bz}tK(){const b=this.rka++;this.bz=b;let c;const f=new Promise(a=>c=a);this.Py.set(b,{resolve:c,WP:0});return[b,f]}Bx(b){const c=this.Py.get(b);0===c.WP&&(c.resolve(),this.Py.delete(b));this.bz=-1}j9(){this.Py.get(this.bz).WP++;return this.bz}c$(b){this.bz=
b;this.Py.get(b).WP--}}}"use strict";
{const d=self.B,b=[];d.RB=class extends d.ua{constructor(c,f,a){super();const e=c.ya();this.Kd=c;this.Ha=e;this.b=c.R();this.gd=f;this.he=e.he;this.qa=a[1];this.La=a[2];this.zb=a[3];this.Zi=!!a[4];this.Rb=!!a[5];this.aka=f instanceof d.Xw;this.wb=a[6];this.Kz=this.b.Fj(a[8]);this.Gka=h=>this.Th(h);this.Eka=()=>this.Ee();this.AY=!this.gd||this.Zi||this.Rb;this.ke=this.zb;this.PN=-1;this.iS()&&(this.ke=this.ke?1:0);!this.rJ()||this.Zi||this.Rb||(this.PN=e.tea(this));e.Wga(this)}static fb(c,f,a){return d.D(d.RB,
c,f,a)}pc(){if(this.rJ()&&!this.Zi&&!this.Rb&&!this.aka){const c=this.Ha.mI(this);c&&c.Zga(this)}}Fj(){return this.Kz}Ka(){return this.gd}It(){return this.Ka()}Nh(){return!this.Ka()}rJ(){return!this.Nh()}Qo(){return 0===this.La}Km(){return 1===this.La}iS(){return 2===this.La}DC(){return!1}me(){return b}Ea(){!this.rJ()||this.Zi||this.Rb||this.Th(this.zb)}Lf(){return!0}*Db(c){this.Ea(c)}Th(c){this.Qo()?"number"!==typeof c&&(c=parseFloat(c)):this.Km()?"string"!==typeof c&&(c=c.toString()):this.iS()&&
(c=c?1:0);this.AY?this.ke=c:this.he.At()[this.PN]=c}Ee(){return this.AY?this.ke:this.he.At()[this.PN]}Y9(){this.ke=this.zb}GV(){return{configurable:!1,enumerable:!0,get:this.Eka,set:this.Gka}}}}"use strict";
{const d=self.B,b=[];d.dR=class extends d.ua{constructor(c,f,a){super();const e=c.ya();this.Kd=c;this.Ha=e;this.b=c.R();this.gd=f;this.uz=null;this.Vja=a[1];this.Nb=!0}static fb(c,f,a){return d.D(d.dR,c,f,a)}pc(){this.uz=this.Ha.vR(this.Vja);this.Kd.hca(this);let c=this.Ka();for(;c;)c instanceof d.vm&&c.Ck&&c.$ba(this),c=c.Ka();this.AU();this.b.Sb&&this.Kd.Kk.children.push(this.uz.Kk)}Ka(){return this.gd}me(){return b}Ea(){const c=!!this.Ka(),f=this.b.Gd;c&&this.Ha.Ph(f);this.uz.Ea();c&&this.Ha.nc(f)}*Db(){const c=
!!this.Ka(),f=this.b.Gd;c&&this.Ha.Ph(f);yield*this.uz.Db();c&&this.Ha.nc(f)}Lf(){return!1}AU(){let c=this.Ka();for(;c;){if(c instanceof d.vm&&c.Ck&&!c.Ot()){this.Nb=!1;return}c=c.Ka()}this.Nb=!0}}}"use strict";
{const d=self.B;d.Lq=class extends d.ua{constructor(m){super();this.yc=m;this.b=m.R()}pc(){}static V1(m,q){return d.D([h,a,e,g,b,c][q[0]],m,q)}};class b extends d.Lq{constructor(m,q){super(m);this.xe=this.b.ox();this.Ta=this.b.Bi(q[1]);this.Ta!==d.A.Pa.cb.random&&this.Ta!==d.A.Pa.cb.H_||this.yc.pK()}Mf(){return this.xe.wl(this.Ta,this.xe)}}class c extends d.Lq{constructor(m,q){super(m);this.gv=null;this.cF=q[1];this.yc.pK()}pc(){const m=this.b.ya();this.gv=m.gC(this.cF);this.cF=null;const q=this.gv.Of();
this.kn=[...new Set([...this.yc.Of().ne(),...q.ne()])];this.kn=m.HD(this.kn)}Mf(){const m=this.gv;if(m.Cd())return d.vm.prototype.SJ.bind(m.Of(),this.kn,m.Un,m.ix());{const q=m.ix();return()=>q}}}function f(m,q){if(m>=q)return m%q;0>m&&(m<=-q&&(m%=q),0>m&&(m+=q));return m}class a extends d.Lq{constructor(m,q){super(m);this.W=this.b.Ag(q[1]);this.Ta=this.b.Bi(q[2]);this.vG=!!q[3];this.Ke=this.b.ya().Qd();this.yc.lL(this.W)}Mf(){return this.W.hc().wl(this.Ta,this.W.hl().ia)}Ve(...m){const q=this.W,
l=q.ea().wR();var r=l.length;if(0===r)return this.vG?"":0;r=f(this.yc.yA,r);this.Ke.yg().K$(q);return this.Ta.apply(l[r].ia,m)}}class e extends d.Lq{constructor(m,q){super(m);this.W=this.b.Ag(q[1]);this.Oka=q[3];this.vG=!!q[2];this.yc.lL(this.W)}fR(){const m=this.W.ea().wR();var q=m.length;if(0===q)return this.vG?"":0;q=f(this.yc.yA,q);return m[q].oea(this.Oka)}}class h extends d.Lq{constructor(m,q){super(m);this.W=this.b.Ag(q[1]);this.td=this.W.XB(q[2]);this.dk=this.W.$w(q[2]);this.Ta=this.b.Bi(q[3]);
this.vG=!!q[4];this.Ke=this.b.ya().Qd();this.yc.lL(this.W)}}class g extends d.Lq{constructor(m,q){super(m);this.Ep=null;this.FM=q[1]}pc(){this.Ep=this.b.ya().AI(this.FM)}}}"use strict";
{const d=self.B;d.Cg=class extends d.ua{constructor(z,C,w){super();this.yc=z;this.bb=w;this.La=C;this.ja=null;this.Rb=this.qg=!1}static fb(z,C,w){const E=C[0];return d.D([c,f,l,e,g,a,m,c,e,e,r,p,l,v,f,q,h,t,y][E],z,E,w,C)}pc(){}pK(){this.qg=!0}lL(z){this.qg||!z||z.hc().Jp||(this.qg=!0)}Ra(){return this.bb}R(){return this.yc.R()}Of(){return this.yc.Of()}};function b(z){z=self.k1[z];if(!z)throw Error("invalid expression number");return z}class c extends d.Cg{constructor(z,C,w,E){super(z,C,w);this.yA=
0;z=E[1];this.HM=z[0];this.Kv=[];this.VE=null;for(let H=1,M=z.length;H<M;++H)this.Kv.push(d.Lq.V1(this,z[H]));this.Kv.length?this.ja=this.e4:(this.ja=b(this.HM),this.Rb=!0)}xb(z){if(0>z||z>=this.Kv.length)throw new RangeError("invalid numbered node");return this.Kv[z]}pc(){for(var z of this.Kv)z.pc();z=b(this.HM);this.VE=this.Kv.length?z(this):z}e4(z){this.yA=z;return this.VE()}}class f extends c{constructor(z,C,w,E){super(z,C,w,E);this.ja=this.U4;14===C&&(this.Of().o$(),this.yc instanceof d.uB&&
this.Of().Zx())}U4(z){this.yA=z;z=this.VE();return"string"===typeof z?z:""}lea(){return b(this.HM)()}}class a extends c{constructor(z,C,w,E){super(z,C,w,E);this.ja=this.wa;this.Rb=!1}wa(z){this.yA=z;z=this.VE();return this.R().gb().wa(z)}}class e extends d.Cg{constructor(z,C,w,E){super(z,C,w);this.Ija=E[1];this.ja=this.V3;this.Rb=!0}V3(){return this.Ija}}class h extends d.Cg{constructor(z,C,w,E){super(z,C,w);this.Bja=E[1];this.ja=this.Q3;this.Rb=!0}Q3(){return this.Bja}}class g extends d.Cg{constructor(z,
C,w,E){super(z,C,w);this.W=this.R().Ag(E[1]);this.ja=this.S;z=this.Of();z.SU(this.W);this.yc instanceof d.uB?z.Zx():z.Ka()&&z.Ka().Zx();this.Rb=!0}S(){return this.W}}class m extends d.Cg{constructor(z,C,w,E){super(z,C,w);this.$i=this.R().Hb.Dt(E[1]);this.ja=this.Qf;this.Rb=!0}Qf(){return this.$i}}class q extends d.Cg{constructor(z,C,w,E){super(z,C,w);this.kq=this.R().Xb.rx(E[1]);this.ja=this.Tc;this.Rb=!0}Tc(){return this.kq}}class l extends d.Cg{constructor(z,C,w,E){super(z,C,w);this.Rja=E[1];this.ja=
this.h4;this.Rb=!0}h4(){return this.Rja}}class r extends d.Cg{constructor(z,C,w,E){super(z,C,w);this.LY=E[1];(z=this.yc.S())&&z.mb?(this.ja=this.f4,this.pK()):(this.ja=this.w4,this.Rb=!0)}w4(){return this.LY}f4(z){z=z||0;const C=this.yc.S();var w=C.ea();const E=w.za();if(E.length)z=E[z%E.length].S();else if(w.j5())w=w.Kc,z=w[z%w.length].S();else if(0<C.L.length)w=C.za(),z=w[z%w.length].S();else return 0;return this.LY+z.xR(C.uk)}}class p extends d.Cg{constructor(z,C,w,E){super(z,C,w);this.FM=E[1];
this.Ep=null;this.ja=this.d4;this.Rb=!0}pc(){this.Ep=this.R().ya().AI(this.FM)}d4(){return this.Ep}}class t extends d.Cg{constructor(z,C,w,E){super(z,C,w);this.jY=E[1];this.gv=null;this.ja=this.q4;this.Rb=!0}pc(){this.gv=this.R().ya().gC(this.jY);this.jY=null}q4(){return this.gv}}class v extends d.Cg{constructor(z,C,w,E){super(z,C,w);this.RO=[];this.x_=[];this.Rb=!0;for(let H=1,M=E.length;H<M;++H)z=d.Cg.fb(this.yc,E[H],0),this.RO.push(z),this.x_.push(0),z.Rb||(this.Rb=!1);this.ja=this.a5}pc(){for(const z of this.RO)z.pc()}a5(){const z=
this.RO,C=this.x_;for(let w=0,E=z.length;w<E;++w)C[w]=z[w].ja(0);return C}}class y extends d.Cg{constructor(z,C,w,E){super(z,C,w);this.Nja=E[1];this.ja=this.Fo;this.Rb=!0}Fo(){return this.Nja}}}"use strict";
{const d=self.B;function b(a,e){for(let h=0,g=a.length;h<g;++h)e[h]=a[h].ja(0)}const c=[],f=function(){};d.PQ=class extends d.ua{constructor(a,e,h){super();this.df=a;this.b=a.R();this.bb=h;this.Ta=this.b.Bi(e[1]);this.sN=0<e[3];this.PY=2===e[3];this.EF=!!e[4];this.Dk=!!e[5];this.Zi=!!e[6];this.wb=e[7];this.QY=this.df.Me;this.td=this.W=null;this.dk=-1;this.xe=null;this.Db=this.Ea=f;this.Ua=[];this.Ob=[];this.bn=!1;this.oj=this.$b=null;this.Za=this.b.Sb?{Nd:e[8][0],Pg:e[8][1]}:null;-1===e[0]?this.xe=
this.b.ox():(this.W=this.b.Ag(e[0]),e[2]&&(this.td=this.W.XB(e[2]),this.dk=this.W.$w(e[2])),this.df.Ka()&&this.df.Ka().Zx());if(10===e.length){a=e[9];for(let g of a)this.Ua.push(d.Cg.fb(this,g,this.Ua.length)),this.Ob.push(0)}0===this.Ua.length&&(this.Ob=this.Ua=c);this.df.ya().Uga(this)}static fb(a,e,h){return d.D(d.PQ,a,e,h)}pc(){for(const a of this.Ua)a.pc(),a.qg&&(this.bn=!0);this.PY?(this.Ea=this.rha,this.Db=this.ida):this.xe?(this.GL(),this.Db=this.TK):this.W.hc().Jp?(this.FL(),this.Db=this.SK):
this.Zi?(this.Ea=this.yha,this.Db=this.pda):(this.Ea=this.JW,this.Db=this.jda)}GL(){this.Iy(this.xe,this.xe,this.xL)}FL(){const a=this.W.hc(),e=this.W.hl().ia;this.Iy(a,e,this.wL)}Iy(a,e,h){const g=this.Ta,m=this.Dk,q=this.Ua;if(0===q.length){const l=a.wl(g,e);this.Ea=m?function(){return d.xor(l(),m)}:l}else if(1===q.length){const l=q[0];if(!m&&l.Rb)this.Ea=a.wV(g,e,l.ja(0));else{const r=a.wl(g,e);this.Ea=function(){return d.xor(r(l.ja(0)),m)}}}else if(2===q.length){const l=q[0],r=q[1];if(!m&&l.Rb&&
r.Rb)this.Ea=a.xV(g,e,l.ja(0),r.ja(0));else{const p=a.wl(g,e);this.Ea=function(){return d.xor(p(l.ja(0),r.ja(0)),m)}}}else if(3===q.length){const l=q[0],r=q[1],p=q[2];if(!m&&l.Rb&&r.Rb&&p.Rb)this.Ea=a.yV(g,e,l.ja(0),r.ja(0),p.ja(0));else{const t=a.wl(g,e);this.Ea=function(){return d.xor(t(l.ja(0),r.ja(0),p.ja(0)),m)}}}else this.Ea=h}S(){return this.W}xi(){return this.td}Of(){return this.df}R(){return this.b}Ra(){return this.bb}sR(){return this.Ra()}Zq(){return this.sN}Lf(){return!this.Za.Nd&&!this.b.Rc()&&
!this.Za.Pg}Ih(){this.$b||(this.$b=new Map);return this.$b}Kt(){this.oj||(this.oj=new Map);return this.oj}xL(){const a=this.Ob;b(this.Ua,a);return d.xor(this.Ta.apply(this.xe,a),this.Dk)}*TK(){if(this.Za.Nd||this.b.Rc())yield this;if(this.Za.Pg){var a=this.Ob;b(this.Ua,a);a=this.Ta.apply(this.xe,a);d.Po(a)&&(a=yield*a);return d.xor(a,this.Dk)}return this.Ea()}wL(){const a=this.Ob;b(this.Ua,a);const e=this.W.hl().ia;return d.xor(this.Ta.apply(e,a),this.Dk)}*SK(){if(this.Za.Nd||this.b.Rc())yield this;
if(this.Za.Pg){var a=this.Ob;b(this.Ua,a);const e=this.W.hl().ia;a=this.Ta.apply(e,a);d.Po(a)&&(a=yield*a);return d.xor(a,this.Dk)}return this.Ea()}rha(){return!0}*ida(){if(this.Za.Nd||this.b.Rc())yield this;return!0}yha(){var a=this.Ob;b(this.Ua,a);a=this.Ta.apply(this.td||this.W,a);this.W.Dc();return a}*pda(){if(this.Za.Nd||this.b.Rc())yield this;if(this.Za.Pg){var a=this.Ob;b(this.Ua,a);a=this.Ta.apply(this.td||this.W,a);d.Po(a)&&(a=yield*a);this.W.Dc();return a}return this.Ea()}JW(){const a=this.Ua,
e=this.Ob,h=this.W.ea();for(let g=0,m=a.length;g<m;++g){const q=a[g];q.qg||(e[g]=q.ja(0))}return h.Mc?this.sha(h):this.tha(h)}*jda(){if(this.Za.Nd||this.b.Rc())yield this;return this.JW()}$K(a){const e=this.Ua,h=this.Ob;for(let g=0,m=e.length;g<m;++g){const q=e[g];q.qg&&(h[g]=q.ja(a))}}sha(a){const e=this.W,h=e.mb,g=e.uk,m=this.dk,q=0<=m,l=e.za(),r=this.bn,p=this.Ob,t=this.Ta,v=this.Dk,y=this.QY&&!this.sN;a.CB();for(let C=0,w=l.length;C<w;++C){const E=l[C];r&&this.$K(C);var z=void 0;q?(z=h?E.S().Mq(g):
0,z=t.apply(E.Id[m+z].ia,p)):z=t.apply(E.ia,p);d.xor(z,v)?a.rr(E):y&&a.np(E)}e.Ww(!0);a.uf(!1);e.Dc();return a.bJ()}tha(a){const e=this.W;var h=e.mb;const g=e.uk,m=e.md(),q=this.dk,l=0<=q,r=this.bn,p=this.Ob,t=this.Ta,v=this.Dk,y=this.QY&&!this.sN,z=a.L,C=a.Kc,w=y&&!this.df.M6(this),E=w?C:z;let H=0,M=!1;for(let Q=0,T=E.length;Q<T;++Q){const Z=E[Q];r&&this.$K(Q);var N=void 0;l?(N=h?Z.S().Mq(g):0,N=t.apply(Z.Id[q+N].ia,p)):N=t.apply(Z.ia,p);d.xor(N,v)?(M=!0,w?(z.push(Z),m&&Z.Rga()):(E[H]=Z,m&&Z.Gia(H),
++H)):w?(E[H]=Z,m&&Z.Fia(H),++H):y&&(C.push(Z),m&&Z.Qga())}d.zd(E,H);m&&e.gja(w,H);h=M;w&&!M&&(M=this.Iga(z));e.Ww(h||y);return y?M:a.bJ()}Iga(a){var e=this.W;const h=e.mb;e=e.uk;const g=this.bn,m=this.dk,q=0<=m,l=this.Ob,r=this.Ta,p=this.Dk;for(let v=0,y=a.length;v<y;++v){var t=a[v];g&&this.$K(v);if(q){const z=h?t.S().Mq(e):0;t=r.apply(t.Id[m+z].ia,l)}else t=r.apply(t.ia,l);if(d.xor(t,p))return!0}return!1}Kx(a,e){return this.Ua[a].ja(e)}g4(){const a=this.Ua;if(!a.length)throw Error("no parameters");
return a[0].lea()}Aa(){if(!this.$b||!this.$b.size)return null;const a={};for(const [e,h]of this.$b.entries()){let g=h;"collmemory"===e&&(g=[...h.entries()].map(m=>[m[0].lc,m[1].lc,m[2]]));a[e]=g}return{ex:a}}Ia(a){this.$b&&(this.$b.clear(),this.$b=null);if(a){var e=this.b,h=a.ex;if(h){a=this.Ih();a.clear();for(const [g,m]of Object.entries(h))h=m,"collmemory"===g&&(h=d.D(d.Ex,m.map(q=>[e.zg(q[0]),e.zg(q[1]),q[2]]).filter(q=>q[0]&&q[1]))),a.set(g,h)}}}}}"use strict";
{const d=self.B;function b(e,h){for(let g=0,m=e.length;g<m;++g)h[g]=e[g].ja(0)}const c=[],f=function(){},a=function*(){};d.uB=class extends d.ua{constructor(e,h,g){super();this.df=e;this.b=e=e.R();this.bb=g;this.wb=4<=h.length?h[3]:-1;this.iE=5<=h.length?h[4]:0;this.td=this.W=this.Ta=null;this.dk=-1;this.xe=null;this.CE="";this.kn=this.BE=null;this.Db=this.Ea=f;this.Ua=[];this.Ob=[];this.bn=!1;this.oj=this.$b=null;const m=(g=-3===h[0])?h[2]:h[5];this.Za=e.Sb||g?{Nd:m[0],Pg:m[1],index:m[2]}:null;-1===
h[0]?(this.xe=e.ox(),this.Ta=e.Bi(h[1])):-2===h[0]?this.CE=h[1]:g?(this.Ta=e.Bi(h[1]),this.Ea=this.TJ,this.Db=this.i2,this.iE=1):(this.Ta=e.Bi(h[1]),this.W=e.Ag(h[0]),h[2]&&(this.td=this.W.XB(h[2]),this.dk=this.W.$w(h[2])));if(7===h.length){h=h[6];for(const q of h)this.Ua.push(d.Cg.fb(this,q,this.Ua.length)),this.Ob.push(0)}0===this.Ua.length&&(this.Ob=this.Ua=c);this.df.ya().Tga(this)}static fb(e,h,g){return d.D(d.uB,e,h,g)}pc(){for(var e of this.Ua)e.pc(),e.qg&&(this.bn=!0);if(this.xe)this.GL(),
this.Db=this.TK;else if(this.CE)this.Yha(),this.CE="";else if(this.Ea===this.TJ){e=this.Ta;const h=this.b.ya().DV(this.df);this.Ta=e.bind(null,this.b.Ak,h)}else this.td?this.Lh()?(this.Ea=this.HW,this.Db=this.fda):(this.Ea=this.GW,this.Db=this.eda):this.W.hc().Jp?(this.FL(),this.Db=this.SK):this.Lh()?(this.Ea=this.LW,this.Db=this.lda):this.Ua.length?this.Ua.every(h=>h.qg)?(this.Ea=this.KW,this.Db=this.kda):this.bn?(this.Ea=this.NW,this.Db=this.nda):this.Ua.every(h=>h.Rb)?(b(this.Ua,this.Ob),this.Ea=
this.vL,this.Db=this.dV):(this.Ea=this.MW,this.Db=this.mda):(this.Ea=this.vL,this.Db=this.dV)}GL(){this.Iy(this.xe,this.xe,this.xL)}FL(){const e=this.W.hc(),h=this.W.hl().ia;this.Iy(e,h,this.wL)}Yha(){const e=this.df.ya(),h=e.gC(this.CE);h.Cd()?(this.BE=h.Of(),this.kn=[...new Set([...this.df.ne(),...this.BE.ne()])],this.kn=e.HD(this.kn),this.Ea=d.vm.prototype.d$.bind(this.BE,this.kn,this.Ua),this.Db=this.gda):(this.Ea=f,this.Db=a)}Iy(e,h,g){const m=this.Ta,q=this.Ua;if(0===q.length)this.Ea=e.wl(m,
h);else if(1===q.length){const l=q[0];if(l.Rb)this.Ea=e.wV(m,h,l.ja(0));else{const r=e.wl(m,h);this.Ea=function(){return r(l.ja(0))}}}else if(2===q.length){const l=q[0],r=q[1];if(l.Rb&&r.Rb)this.Ea=e.xV(m,h,l.ja(0),r.ja(0));else{const p=e.wl(m,h);this.Ea=function(){return p(l.ja(0),r.ja(0))}}}else if(3===q.length){const l=q[0],r=q[1],p=q[2];if(l.Rb&&r.Rb&&p.Rb)this.Ea=e.yV(m,h,l.ja(0),r.ja(0),p.ja(0));else{const t=e.wl(m,h);this.Ea=function(){return t(l.ja(0),r.ja(0),p.ja(0))}}}else this.Ea=g}Lh(){return 1===
this.iE}IQ(){return 2===this.iE}s5(){return 0!==this.iE}S(){return this.W}Of(){return this.df}R(){return this.b}Ra(){return this.bb}sR(){return this.Za.index}Lf(){return!this.Za.Nd&&!this.b.Rc()&&!this.Za.Pg}Ih(){this.$b||(this.$b=new Map);return this.$b}Kt(){this.oj||(this.oj=new Map);return this.oj}xL(){const e=this.Ob;b(this.Ua,e);return this.Ta.apply(this.xe,e)}*TK(){if(this.Za.Nd||this.b.Rc())yield this;if(this.Za.Pg){const e=this.Ob;b(this.Ua,e);return yield*this.Ta.apply(this.xe,e)}return this.Ea()}*gda(){if(this.Za.Nd||
this.b.Rc())yield this;return yield*this.BE.d2(this.kn,this.Ua)}wL(){const e=this.Ob;b(this.Ua,e);return this.Ta.apply(this.W.hl().ia,e)}*SK(){if(this.Za.Nd||this.b.Rc())yield this;if(this.Za.Pg){const e=this.Ob;b(this.Ua,e);return yield*this.Ta.apply(this.W.hl().ia,e)}return this.Ea()}vL(){const e=this.Ob,h=this.W.ea().za();for(let g=0,m=h.length;g<m;++g)this.Ta.apply(h[g].ia,e)}*dV(){if(this.Za.Nd||this.b.Rc())yield this;if(this.Za.Pg){const e=this.Ob,h=this.W.ea().za();for(let g=0,m=h.length;g<
m;++g)yield*this.Ta.apply(h[g].ia,e)}else this.vL()}MW(){const e=this.Ob;b(this.Ua,e);const h=this.W.ea().za();for(let g=0,m=h.length;g<m;++g)this.Ta.apply(h[g].ia,e)}*mda(){if(this.Za.Nd||this.b.Rc())yield this;if(this.Za.Pg){const e=this.Ob;b(this.Ua,e);const h=this.W.ea().za();for(let g=0,m=h.length;g<m;++g)yield*this.Ta.apply(h[g].ia,e)}else this.MW()}KW(){const e=this.Ua,h=this.Ob,g=this.Ta,m=this.W.ea().za();for(let q=0,l=m.length;q<l;++q){const r=m[q];for(let p=0,t=e.length;p<t;++p)h[p]=e[p].ja(q);
g.apply(r.ia,h)}}*kda(){if(this.Za.Nd||this.b.Rc())yield this;if(this.Za.Pg){const e=this.Ua,h=this.Ob,g=this.Ta,m=this.W.ea().za();for(let q=0,l=m.length;q<l;++q){const r=m[q];for(let p=0,t=e.length;p<t;++p)h[p]=e[p].ja(q);yield*g.apply(r.ia,h)}}else this.KW()}NW(){const e=this.Ua,h=this.Ob,g=this.Ta,m=this.W.ea().za();for(let l=0,r=e.length;l<r;++l){var q=e[l];q.qg||(h[l]=q.ja(0))}for(let l=0,r=m.length;l<r;++l){q=m[l];for(let p=0,t=e.length;p<t;++p){const v=e[p];v.qg&&(h[p]=v.ja(l))}g.apply(q.ia,
h)}}*nda(){if(this.Za.Nd||this.b.Rc())yield this;if(this.Za.Pg){const h=this.Ua,g=this.Ob,m=this.Ta,q=this.W.ea().za();for(let l=0,r=h.length;l<r;++l){var e=h[l];e.qg||(g[l]=e.ja(0))}for(let l=0,r=q.length;l<r;++l){e=q[l];for(let p=0,t=h.length;p<t;++p){const v=h[p];v.qg&&(g[p]=v.ja(l))}yield*m.apply(e.ia,g)}}else this.NW()}GW(){var e=this.W;const h=e.mb,g=e.uk,m=this.Ua,q=this.bn,l=this.Ob,r=this.Ta,p=this.dk;e=e.ea().za();for(let y=0,z=m.length;y<z;++y){var t=m[y];t.qg||(l[y]=t.ja(0))}for(let y=
0,z=e.length;y<z;++y){t=e[y];if(q)for(let C=0,w=m.length;C<w;++C){var v=m[C];v.qg&&(l[C]=v.ja(y))}v=h?t.S().Mq(g):0;r.apply(t.Id[p+v].ia,l)}}*eda(){if(this.Za.Nd||this.b.Rc())yield this;if(this.Za.Pg){var e=this.W;const m=e.mb,q=e.uk,l=this.Ua,r=this.bn,p=this.Ob,t=this.Ta,v=this.dk;e=e.ea().za();for(let y=0,z=l.length;y<z;++y){var h=l[y];h.qg||(p[y]=h.ja(0))}for(let y=0,z=e.length;y<z;++y){h=e[y];if(r)for(let C=0,w=l.length;C<w;++C){var g=l[C];g.qg&&(p[C]=g.ja(y))}g=m?h.S().Mq(q):0;yield*t.apply(h.Id[v+
g].ia,p)}}else this.GW()}LW(){const e=this.Ua,h=this.Ob,g=this.Ta,m=this.W.ea().za(),q=[];for(let l=0,r=m.length;l<r;++l){const p=m[l];for(let t=0,v=e.length;t<v;++t)h[t]=e[t].ja(l);q.push(g.apply(p.ia,h))}return Promise.all(q)}*lda(){if(this.Za.Nd||this.b.Rc())yield this;if(this.Za.Pg){const e=this.Ua,h=this.Ob,g=this.Ta,m=this.W.ea().za(),q=[];for(let l=0,r=m.length;l<r;++l){const p=m[l];for(let t=0,v=e.length;t<v;++t)h[t]=e[t].ja(l);q.push(yield*g.apply(p.ia,h))}return Promise.all(q)}return this.LW()}HW(){var e=
this.W;const h=e.mb,g=e.uk,m=this.Ua,q=this.Ob,l=this.Ta,r=this.dk;e=e.ea().za();const p=[];for(let t=0,v=e.length;t<v;++t){const y=e[t];for(let C=0,w=m.length;C<w;++C)q[C]=m[C].ja(t);const z=h?y.S().Mq(g):0;p.push(l.apply(y.Id[r+z].ia,q))}return Promise.all(p)}*fda(){if(this.Za.Nd||this.b.Rc())yield this;if(this.Za.Pg){var e=this.W;const h=e.mb,g=e.uk,m=this.Ua,q=this.Ob,l=this.Ta,r=this.dk;e=e.ea().za();const p=[];for(let t=0,v=e.length;t<v;++t){const y=e[t];for(let C=0,w=m.length;C<w;++C)q[C]=
m[C].ja(t);const z=h?y.S().Mq(g):0;p.push(yield*l.apply(y.Id[r+z].ia,q))}return Promise.all(p)}return this.HW()}async TJ(){try{await this.Ta()}catch(e){console.error(`Unhandled exception running script %c${this.df.Kd.qa}, event ${this.df.Xu}, action ${this.sR()+1}:`,"font-size: 1.2em; font-weight: bold;",e),self.zj&&self.zj.sia(this),d.QB.f5()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline",
"","font-weight: bold"),d.QB.T$())}}*i2(){if(this.Za.Nd||this.b.Rc())yield this;return this.TJ()}Aa(){return this.$b&&this.$b.size?{ex:d.AK(this.$b)}:null}Ia(e){this.$b&&(this.$b.clear(),this.$b=null);e&&(e=e.ex)&&(this.$b=d.nI(e))}}}"use strict";
{const d=self.B,b=new d.sb;function c(J,K){return d.compare(this.C().I(),J,K)}function f(J,K){return d.compare(this.C().J(),J,K)}function a(){const J=this.C();return J.qS(J.wa().Zd)}function e(){var J=this.C();const K=J.Qf();J=J.ub();return 0>J.V||0>J.U||J.P>K.M()||J.O>K.N()}function h(J,K,S){const X=this.ea(),ea=X.za();if(!ea.length)return!1;let ia=ea[0];var fa=ia.C();let ja=ia,ta=d.nH(fa.I(),fa.J(),K,S);for(let va=1,za=ea.length;va<za;++va)if(ia=ea[va],fa=ia.C(),fa=d.nH(fa.I(),fa.J(),K,S),0===J&&
fa<ta||1===J&&fa>ta)ta=fa,ja=ia;X.Uo(ja);return!0}function g(J){const K=this.C();K.I()!==J&&(K.sf(J),K.T())}function m(J){const K=this.C();K.J()!==J&&(K.Zf(J),K.T())}function q(J,K){const S=this.C();S.lI(J,K)||(S.ib(J,K),S.T())}function l(J,K){if(J&&(J=J.JR(this.G))){var [S,X]=J.Cm(K);K=this.C();if(K.I()!==S||K.J()!==X)K.ib(S,X),K.T()}}function r(J){if(0!==J){var K=this.C();K.Dd(K.vI()*J,K.YI()*J);K.T()}}function p(J,K){if(0!==K){var S=this.C();J=d.Ma(J);S.Dd(Math.cos(J)*K,Math.sin(J)*K);S.T()}}function t(){return this.C().I()}
function v(){return this.C().J()}function y(){return this.b.Wg(this.G)}function z(J,K){return d.compare(this.C().M(),J,K)}function C(J,K){return d.compare(this.C().N(),J,K)}function w(J){const K=this.C();K.M()!==J&&(K.Ze(J),K.T())}function E(J){const K=this.C();K.N()!==J&&(K.Ye(J),K.T())}function H(J,K){const S=this.C();if(S.M()!==J||S.N()!==K)S.vc(J,K),S.T()}function M(){return this.C().M()}function N(){return this.C().N()}function Q(){return this.C().ub().P}function T(){return this.C().ub().O}function Z(){return this.C().ub().V}
function V(){return this.C().ub().U}function aa(J,K){return d.yq(this.C().ca(),d.Ma(K))<=d.Ma(J)}function ha(J){return d.sg(this.C().ca(),d.Ma(J))}function oa(J,K){J=d.Ma(J);K=d.Ma(K);const S=this.C().ca();return d.sg(K,J)?d.sg(S,J)&&!d.sg(S,K):!(!d.sg(S,J)&&d.sg(S,K))}function Y(J){const K=this.C();J=d.Cc(d.Ma(J));isNaN(J)||K.ca()===J||(K.Gc(J),K.T())}function ma(J){if(!isNaN(J)&&0!==J){var K=this.C();K.Gc(K.ca()+d.Ma(J));K.T()}}function da(J){if(!isNaN(J)&&0!==J){var K=this.C();K.Gc(K.ca()-d.Ma(J));
K.T()}}function xa(J,K){const S=this.C(),X=S.ca();J=d.hH(X,d.Ma(K),d.Ma(J));isNaN(J)||X===J||(S.Gc(J),S.T())}function Ja(J,K,S){const X=this.C(),ea=X.ca();K-=X.I();S-=X.J();J=d.hH(ea,Math.atan2(S,K),d.Ma(J));isNaN(J)||ea===J||(X.Gc(J),X.T())}function Va(J,K){const S=this.C(),X=S.ca();J-=S.I();K-=S.J();K=Math.atan2(K,J);isNaN(K)||X===K||(S.Gc(K),S.T())}function Na(){return d.Pd(this.C().ca())}function Wa(J,K){return d.compare(d.gt(100*this.C().ld()),J,K)}function Oa(){return this.C().pe()}function Ca(J){const K=
this.C();J=2===J?!K.pe():0!==J;K.pe()!==J&&(K.re(J),this.b.aa())}function Aa(J){J=d.ba(J/100,0,1);const K=this.C();K.ld()!==J&&(K.qe(J),this.b.aa())}function Ka(J){b.qB(J);J=this.C();J.pb.dt(b)||(J.nK(b),this.b.aa())}function Ha(){const J=this.C().pb;return d.TC(J.nb,J.Ca,J.ob,J.Ya)}function Xa(){return d.gt(100*this.C().ld())}function Ya(J){return J?this.C().wa()===J:!1}function Za(J){const K=this.ea(),S=K.za();if(!S.length)return!1;let X=S[0];for(let ea=1,ia=S.length;ea<ia;++ea){const fa=S[ea],
ja=fa.C(),ta=X.C(),va=ja.wa().Ra(),za=ta.wa().Ra();if(0===J){if(va>za||va===za&&ja.Gm()>ta.Gm())X=fa}else if(va<za||va===za&&ja.Gm()<ta.Gm())X=fa}K.Uo(X);return!0}function La(J,K,S){const X=this.C();J=0===J?X.kb():X.Ci();return d.compare(J,K,S)}function $a(){this.C().Vba()}function ab(){this.C().Tba()}function bb(J){J&&this.C().Uba(J)}function cb(J,K){J=0===J;K&&(K=K.Bm(this.Na()))&&this.C().LU(K,J)}function db(J){const K=this.C();K.kb()!==J&&(K.$f(J),this.b.aa())}function eb(){return this.C().wa().Ra()}
function fb(){return this.C().wa().qa}function Ma(){return this.C().Gm()}function gb(){return this.C().kb()}function hb(){return this.C().Ci()}function ib(J,K){if(K=this.S().$a.zm(K)){K=K.Ra();J=1===J;var S=this.C().zf;S.xx(K)!==J&&(S.RT(K,J),S.gp(),this.b.aa())}}function jb(J,K,S){var X=this.S().$a.zm(J);if(X){J=X.Ra();var ea=this.C().zf,ia=ea.Eh(J);K=Math.floor(K);if(!(0>K||K>=ia.length)){X=X.Ab.lC(K);if("color"===X){b.qB(S);K=ia[K];if(b.dt(K))return;K.bt(b)}else{"percent"===X&&(S/=100);if(ia[K]===
S)return;ia[K]=S}ea.xx(J)&&this.b.aa()}}}function kb(){return this.C().jl()}function lb(){return this.C().Bg()}function mb(J,K){const S=this.ea().za();if(0===S.length)return!1;const X=J.ea();var ea=X.za();if(0===ea.length)return!1;ea=new Set(ea);const ia=new Set;for(let ja=0,ta=S.length;ja<ta;++ja){var fa=S[ja];if(1===K)for(const va of fa.parents())va.tt(J)&&ea.has(va)&&ia.add(va);else{if(0===K){if(fa=fa.Ka(),null===fa)continue}else fa=fa.pC();fa.tt(J)&&ea.has(fa)&&ia.add(fa)}}if(0===ia.size)return!1;
X.Yx(ia);J.Dc();return!0}function nb(J,K){const S=this.ea().za();if(0===S.length)return!1;const X=J.ea();var ea=X.za();if(0===ea.length)return!1;ea=new Set(ea);const ia=new Set;for(let fa=0,ja=S.length;fa<ja;++fa){const ta=S[fa];2===K&&!ta.Bg()&&ta.tt(J)&&ea.has(ta)&&ia.add(ta);for(const va of 0===K?ta.children():ta.xq())2===K&&va.Bg()||va.tt(J)&&ea.has(va)&&ia.add(va)}if(0===ia.size)return!1;X.Yx(ia);J.Dc();return!0}function ob(J,K){const S=this.ea().za();if(0===S.length)return!1;const X=J.ea();
var ea=X.za();if(0===ea.length)return!1;ea=new Set(ea);const ia=[];for(let fa=0,ja=S.length;fa<ja;++fa){const ta=S[fa].uI(K);null!==ta&&ta.tt(J)&&ea.has(ta)&&ia.push(ta)}if(0===ia.length)return!1;X.Lx(ia);J.Dc();return!0}function pb(J,K){return d.compare(this.G.$B(),J,K)}function qb(J,K,S,X,ea,ia,fa,ja){const ta=this.G,va=this.b.gx().S();for(const za of J.A_(ta,va)){if(!za.hc().o_)break;ta.Ao(za,{Fw:K,Gw:S,nt:X,mt:ea,Ew:ia,Hw:fa,ZA:ja})}}function rb(J){const K=this.G,S=this.b.gx().S();for(const X of J.A_(K,
S))K.nl(X)}function na(){this.G.jl()&&this.G.Ka().nl(this.G)}function ya(){return this.G.$B()}function vb(J,K){J=Math.floor(J);K=Math.floor(K);const S=this.C();2>J||2>K||!isFinite(J)||!isFinite(K)?(S.XC(),S.T()):S.fI(J,K)}function wb(J,K,S,X,ea,ia,fa,ja){const ta=this.C();ta.ZT(J,K,{mode:0===S?"absolute":"relative",x:X,y:ea,tQ:ia,x0:fa,y0:ja})&&ta.T()}function xb(){const J=this.C();return J.Jh()?J.il().Gl:0}function yb(){const J=this.C();return J.Jh()?J.il().gm:0}function zb(J){const K=this.C();J=
2===J?!K.pe():0!==J;K.pe()!==J&&K.re(J)}function Ab(J,K){this.H$(J,K)}function Pa(J,K){this.G$(J,""+K)}function Qa(J){this.H9(J)}function Ra(){this.jR()}function Sa(){this.DQ()}function Ia(){return this.CM}function k(J){this.Fe(0!==J)}function n(){return this.la}function u(J,K,S){return d.compare(this.Na().Pf(J),K,S)}function x(J){return!!this.Na().Pf(J)}function A(J,K){const S=this.ea(),X=S.za();if(!X.length)return!1;let ea=X[0],ia=ea,fa=ea.Pf(K);for(let ja=1,ta=X.length;ja<ta;++ja){ea=X[ja];const va=
ea.Pf(K);if(0===J&&va<fa||1===J&&va>fa)fa=va,ia=ea}S.Uo(ia);return!0}function D(J){if(this.b.Vg().Dk){{const X=this.ea();if(X.Mc){X.uf(!1);X.CB();var K=this.za();for(let ea=0,ia=K.length;ea<ia;++ea){var S=K[ea];S.lc===J?X.np(S):X.rr(S)}this.Dc();J=!!X.L.length}else{K=X.L;S=0;for(let ea=0,ia=K.length;ea<ia;++ea){const fa=K[ea];K[S]=fa;fa.lc===J?X.np(fa):++S}d.zd(K,S);this.Dc();J=!!K.length}}}else J=F(this,J);return J}function F(J,K){K=J.R().zg(K);if(!K)return!1;const S=J.ea();if(!S.Mc&&!S.L.includes(K))return!1;
if(J.mb){if(K.S().VH(J))return S.Uo(K),J.Dc(),!0}else if(K.S()===J)return S.Uo(K),J.Dc(),!0;return!1}function G(){this.b.Ah(this.G)}function I(){return!0}function L(){return!0}function O(J,K){this.Na().cp(J,K)}function P(J,K){const S=this.Na(),X=S.Pf(J);"number"===typeof X&&"number"!==typeof K?K=parseFloat(K):"string"===typeof X&&"string"!==typeof K&&(K=K.toString());S.cp(J,X+K)}function U(J,K){const S=this.Na(),X=S.Pf(J);"number"===typeof X&&("number"!==typeof K&&(K=parseFloat(K)),S.cp(J,X-K))}function R(J,
K){this.Na().cp(J,K?1:0)}function ca(J){const K=this.Na();K.cp(J,0===K.Pf(J)?1:0)}function ba(J){let K;try{K=JSON.parse(J)}catch(S){console.error("Failed to load from JSON string: ",S);return}J=this.Na();J.TD("state");J.Qb(K,"state")}function W(){return JSON.stringify(this.Na().Tb("state"))}function sa(){return this.Na().S().qa}function la(){const J=this.b.xg().IM;let K=J.L.length;const S=this.b.xn;for(const X of S)J.mb?X.S().VH(J)&&++K:X.S()===J&&++K;return K}function qa(){return this.b.xg().IM.ea().za().length}
function ra(){return this.G.Nq()}function pa(){return this.G.lc}d.E0=function(J,K){const S=J[1],X=J[4],ea=J[5],ia=J[6],fa=J[7],ja=J[8],ta=J[10],va=J[11],za=J[12],Zb=J[13],$b=J[14],ua=K.F,ka=K.oa;K=K.cb;J[3]&&(ua.I1=c,ua.J1=f,ua.Kra=a,ua.Mra=e,ua.Wta=h,ka.sf=g,ka.Zf=m,ka.eU=q,ka.Jxa=l,ka.Usa=r,ka.Tsa=p,K.GK=t,K.HK=v,K.yP=y);X&&(ua.epa=z,ua.Poa=C,ka.Ze=w,ka.Ye=E,ka.vc=H,K.Kza=M,K.Fqa=N,K.Sna=Q,K.Una=T,K.Tna=Z,K.Rna=V);ea&&(ua.U0=aa,ua.G6=ha,ua.E6=oa,ka.Gc=Y,ka.Qva=ma,ka.Rva=da,ka.Tva=xa,ka.Uva=Ja,ka.Txa=
Va,K.Fna=Na);ia&&(ua.pe=Oa,ua.OQ=Wa,ka.re=Ca,ka.qe=Aa,ka.Awa=Ka,K.Opacity=Xa,K.Joa=Ha);fa&&(ua.Ira=Ya,ua.dua=Za,ua.fpa=La,ka.Wsa=$a,ka.Vsa=ab,ka.I7=bb,ka.$za=cb,ka.$f=db,K.lsa=eb,K.ksa=fb,K.Zza=Ma,K.Yza=gb,K.Yya=hb);ja&&(ka.Fwa=ib,ka.Gwa=jb);Zb&&(ua.jl=kb,ua.Bg=lb,ua.bua=mb,ua.Vta=nb,ua.$ta=ob,ua.Ooa=pb,ka.Ao=qb,ka.nl=rb,ka.Wua=na,K.Coa=ya);$b&&(ka.xxa=vb,ka.ZT=wb,K.Osa=xb,K.Psa=yb);ta&&(ua.pe=Oa,ka.re=zb,ka.vwa=Ab,ka.Iwa=Pa,ka.Vua=Qa);va&&(ua.wra=Ia,ka.Lwa=Ra,ka.twa=Sa);za&&(ua.Cd=n,ka.Gg=k);S||
(ua.Qoa=u,ua.F6=x,ua.Xta=A,ua.Uta=D,ka.Z$=O,ka.qna=P,ka.Jya=U,ka.u$=R,ka.Wya=ca,ua.h8=I,ua.i8=L,ka.Pw=G,ka.xJ||(ka.xJ=ba),K.a1||(K.a1=W),K.R1=la,K.eua=qa,K.Iqa=ra,K.fza=pa,K.dta=sa)}}"use strict";
{const d=self.B;d.UJ=class extends d.ua{constructor(b){super();this.Ha=b;this.La="";this.yd=-1;this.uA="";this.LF=!1;this.rk=null;this.eh=0;this.lg=[];this.Is=new Map;this.gn=null;this.Oy=-1;this.OM=this.ci=null;this.sA=!1}j(){this.La="";this.yd=-1;this.uA="";this.OM=this.ci=this.gn=this.rk=null;this.Oy=-1;d.H(this.lg);for(const b of this.Is.values())b.j();this.Is.clear()}Wj(){var b=this.Ha,c=b.R().Gd;const f=b.xg();this.rk=f.ec();this.eh=f.eh+1;if(b=b.mI(this.rk))this.gn=b,this.ci=b.r1(),this.OM=
b.aN.map(a=>a.Ee()),b.Lh()&&(this.Oy=b.j9());for(const a of c)if(c=a.ea(),!c.Mc||this.rk.u5(a))this.lg.push(a),this.Is.set(a,d.D(d.pU,c))}v6(b){this.La="timer";this.Wj();this.yd=this.Ha.R().Xe()+b}t6(b){this.La="signal";this.Wj();this.uA=b.toLowerCase()}j6(b){this.La="promise";this.Wj();b.then(()=>this.fK()).catch(c=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",c);this.fK()})}d7(){return"timer"===this.La}a7(){return"signal"===this.La}X6(){return"promise"===
this.La}fK(){this.LF=!0}mX(){return this.d7()?this.yd<=this.Ha.R().Xe():this.LF}FW(b){b.uL(this.rk,this.eh);for(const [c,f]of this.Is.entries())f.uL(c.ea());if(b=this.gn)b.Ox(this.ci),b.aN.map((c,f)=>c.Th(this.OM[f])),b.Lh()&&b.c$(this.Oy)}oha(b){this.FW(b);this.rk.nha(b);this.gn&&this.gn.Lh()&&this.gn.Bx(this.Oy);this.Ha.ut(this.lg);this.sA=!0}async bda(b){this.FW(b);for(const c of this.rk.ada(b))await this.Ha.R().xt(c);this.gn&&this.gn.Lh()&&this.gn.Bx(this.Oy);this.Ha.ut(this.lg);this.sA=!0}dr(b){for(const c of this.Is.values())c.dr(b)}Aa(){const b=
{},c={t:this.yd,st:this.uA,s:this.LF,ev:this.rk.wb,sm:this.lg.map(f=>f.wb),sols:b};this.rk.Iea(this.eh)&&(c.act=this.rk.kR(this.eh).wb);for(const [f,a]of this.Is)b[f.wb.toString()]=a.Aa();return c}static Hca(b,c){const f=b.R();var a=b.b4(c.ev);if(!a)return null;let e=0;if(c.hasOwnProperty("act")){var h=b.H3(c.act);if(!h)return null;e=h.Ra()}h=d.D(d.UJ,b);h.yd=c.t;h.La=-1===h.yd?"signal":"timer";h.uA=c.st;h.LF=c.s;h.rk=a;h.eh=e;for(var g of c.sm)(a=f.mx(g))&&h.lg.push(a);for(const [m,q]of Object.entries(c.sols))if(c=
f.mx(parseInt(m,10)))g=d.D(d.pU,null),g.Ia(b,q),h.Is.set(c,g);return h}}}"use strict";{const d=self.B;d.pU=class extends d.ua{constructor(b){super();this.W=null;this.KF=!0;this.L=[];b&&(this.W=b.S(),this.KF=b.Mc,d.$d(this.L,b.L))}j(){this.W=null;d.H(this.L)}uL(b){b.uf(this.KF);d.$d(b.L,this.L)}dr(b){d.si(this.L,b)}Aa(){return{sa:this.KF,insts:this.L.map(b=>b.lc)}}Ia(b,c){b=b.R();this.KF=!!c.sa;d.H(this.L);for(const f of c.insts)(c=b.zg(f))&&this.L.push(c)}}}"use strict";
{const d=self.B;function b(c,f){let a=c.get(f);a||(a=new Map,c.set(f,a));return a}d.Rh=class extends d.ua{constructor(c){super();this.b=c.kd;this.Jp=!!c.X_;this.mh=!!c.Tla;this.fka=!!c.Sla;this.pka=!!c.lma;this.Sja=!!c.Hla;this.o_=!!c.Hma;this.Jka=!!c.Gma;this.e_=null;this.MX=new Map;this.Cja=new Map;this.Dja=new Map;this.Eja=new Map}j(){this.b=null}R(){return this.b}Gb(){}Rt(){return this.fka}To(){return this.pka}dJ(){return this.Sja}wl(c,f){if(!f)throw Error("missing 'this' binding");let a=this.MX.get(c);
if(a)return a;a=c.bind(f);this.MX.set(c,a);return a}wV(c,f,a){if(!f)throw Error("missing 'this' binding");const e=b(this.Cja,c);let h=e.get(a);if(h)return h;h=c.bind(f,a);e.set(a,h);return h}xV(c,f,a,e){if(!f)throw Error("missing 'this' binding");var h=b(this.Dja,c);h=b(h,a);let g=h.get(e);if(g)return g;g=c.bind(f,a,e);h.set(e,g);return g}yV(c,f,a,e,h){if(!f)throw Error("missing 'this' binding");var g=b(this.Eja,c);g=b(g,a);g=b(g,e);let m=g.get(h);if(m)return m;m=c.bind(f,a,e,h);g.set(h,m);return m}Hia(c){if(!this.Jp)throw Error("must be single-global plugin");
this.e_=c}hl(){if(!this.Jp)throw Error("must be single-global plugin");return this.e_.hl()}}}"use strict";{const d=self.B;d.Xva=class extends d.Rh{constructor(b,c){super(b);this.Bp=c;this.tka=0;this.bN=new Map;this.wQ("elem-focused",f=>f.ega());this.wQ("elem-blurred",f=>{f&&f.dga()})}j(){super.j()}bca(b){const c=this.tka++;this.bN.set(c,b);return c}eha(b){this.bN.delete(b)}wQ(b,c){this.b.xj(this.Bp,b,f=>{const a=this.bN.get(f.elementId);c(a,f)})}}}"use strict";
{const d=self.B;d.Pj=class extends d.ua{constructor(b){super();this.W=b;this.b=b.R();this.ej=b.hc()}j(){this.ej=this.b=this.W=null}S(){return this.W}R(){return this.b}hc(){return this.ej}fc(){return this.W.fc()}Ww(){}Mm(){}ml(){}Cx(){}HJ(){}Ax(){}Sf(){return null}}}"use strict";
{const d=self.B;d.Zo=class extends d.ua{constructor(b,c){super();this.G=b;this.Bp=c;this.b=b.R();this.W=this.G.S();this.Va=this.W.Va;this.ao=this.bo=null;this.Bn=this.An=!1;this.ge=null;this.UA=!1}j(){this.UA=!0;this.Wh();this.Br();this.ao=this.bo=null;this.ge&&(this.ge.j(),this.ge=null);this.Va=this.W=this.b=this.G=null}hp(){return this.UA}Na(){return this.G}R(){return this.b}S(){return this.W}hc(){return this.Va.hc()}Jt(){return this.G.Ai()}fa(b){return this.b.fa(b,this.G,null)}Ow(b){return this.b.Ow(b,
this.G,null)}rb(b){return this.b.rb(b,this.G,null)}pl(b){return this.b.pl(b)}ot(b,c){this.b.xj(this.Bp,b,c)}vQ(b){for(const [c,f]of b)this.ot(c,f)}eb(b,c){this.b.Om(this.Bp,b,c)}ll(b,c){return this.b.Vo(this.Bp,b,c)}Zm(b,c){this.b.gg?this.eb(b,c):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Bp,handler:b,data:c,responseId:null})}oc(){}qu(){}cd(){this.An||(this.bo||(this.bo=()=>this.oc()),this.b.Eb().addEventListener("tick",this.bo),this.An=!0)}Wh(){this.An&&(this.b.Eb().removeEventListener("tick",
this.bo),this.An=!1)}Au(){this.Bn||(this.ao||(this.ao=()=>this.qu()),this.b.Eb().addEventListener("tick2",this.ao),this.Bn=!0)}Br(){this.Bn&&(this.b.Eb().removeEventListener("tick2",this.ao),this.Bn=!1)}Tb(){return null}Qb(){}Lb(){}Ed(){}CJ(b,c){if(0!==c){var f=this.Lb(b);if("number"!==typeof f)throw Error("expected number");this.Ed(b,f+c)}}Sf(){return null}}}"use strict";
{const d=self.B;d.au=class extends d.Zo{constructor(b,c){super(b,c);this.Cb=b.C();this.bH=this.lw=null}j(){if(this.lw){const b=this.b.Eb();b.removeEventListener("webglcontextlost",this.lw);b.removeEventListener("webglcontextrestored",this.bH);this.bH=this.lw=null}this.Cb=null;super.j()}g5(){if(!this.lw){this.lw=()=>this.Xt();this.bH=()=>this.gT();var b=this.b.Eb();b.addEventListener("webglcontextlost",this.lw);b.addEventListener("webglcontextrestored",this.bH)}}Xt(){}gT(){}C(){return this.Cb}Ro(){return!1}el(){if(!this.Ro())throw Error("original size not known");
const b=this.de();if(b)return b.M()}dl(){if(!this.Ro())throw Error("original size not known");const b=this.de();if(b)return b.N()}de(){return null}bC(){var b=this.de();return b&&(b=b.Rd())?[b.M(),b.N()]:[100,100]}cC(){const b=this.de();return b?b.Yg():null}Cm(){const b=this.G.C();return[b.I(),b.J()]}Ax(){}tU(){}}}"use strict";
{const d=self.B,b=d.D(d.Rect);d.Wva=class extends d.au{constructor(c,f){super(c,f);this.QE=this.hc().bca(this);this.OY=!0;this.yja=this.CM=!1;this.Av=d.D(d.Rect,0,0,-1,-1);c=this.b.ra;this.iZ=c.km;this.hZ=c.jm;this.cd()}j(){this.hc().eha(this.QE);this.Yt("destroy");this.QE=-1;super.j()}Yt(c,f){f||(f={});f.elementId=this.QE;this.eb(c,f)}uW(c){c||(c={});c.elementId=this.QE;this.Zm("focus",c)}gD(c){c=!!c;this.OY!==c&&(this.OY=c,this.Yt("set-visible",{isVisible:c}))}oc(){this.gE(!1)}Pia(){const c=this.b.ra.fC();
return"Android"===d.lb.Vt&&("scale-inner"===c||"scale-outer"===c||"crop"===c)}gE(c){var f=this.C();const a=f.wa();var e=f.I(),h=f.J();let [g,m]=a.St(e,h),[q,l]=a.St(e+f.M(),h+f.N());e=this.b.ra;h=e.Ud;const r=e.Jd;if(f.pe()&&a.pe()){if(!this.Pia()){if(0>=q||0>=l||g>=h||m>=r){this.gD(!1);return}1>g&&(g=1);1>m&&(m=1);q>=h&&(q=h-1);l>=r&&(l=r-1)}b.set(g,m,q,l);f=e.km;h=e.jm;!c&&b.jd(this.Av)&&this.iZ===f&&this.hZ===h?this.gD(!0):(this.Av.Ga(b),this.iZ=f,this.hZ=h,this.gD(!0),c=null,this.yja&&(c=a.ym()-
.2),this.Yt("update-position",{left:Math.round(this.Av.P)+e.ax(),top:Math.round(this.Av.O)+e.bx(),width:Math.round(this.Av.width()),height:Math.round(this.Av.height()),fontSize:c}))}else this.gD(!1)}jR(){this.uW({focus:!0})}DQ(){this.uW({focus:!1})}ega(){this.CM=!0}dga(){this.CM=!1}H$(c,f){this.Yt("set-css-style",{prop:d.m1(c),val:f})}G$(c,f){this.Yt("set-attribute",{name:c,val:f})}H9(c){this.Yt("remove-attribute",{name:c})}}}"use strict";
{const d=self.B,b=self.A5;d.Fi=class extends d.ua{constructor(c){super();this.b=c.kd;this.WN=d.D(d.TH);this.dG=d.D(d.TH);this.pz=null;this.Fka=c.RCa||null}j(){this.dG.j();this.WN.j();this.b=null}R(){return this.b}Gb(){}cca(c){this.WN.Qc(c)}kC(){return this.WN.pI()}Oi(c){this.dG.Qc(c)}tr(c){this.dG.Jq(c)}za(){return this.dG.pI()}r4(){if(null===this.pz){const c=this.Fka;if(c){if(this.pz=new c(this),!(this.pz instanceof b))throw new TypeError("script interface class must derive from IBehavior");}else this.pz=
new b(this)}return this.pz}}}"use strict";{const d=self.B;d.Hi=class extends d.ua{constructor(b){super();this.b=b.R();this.td=b;this.W=b.S();this.ck=b.Dh();this.ck.cca(this.W)}j(){this.ck=this.W=this.td=this.b=null}xi(){return this.td}S(){return this.W}R(){return this.b}Dh(){return this.ck}}}"use strict";
{const d=self.B;d.Gi=class extends d.ua{constructor(b,c){super();this.wE=b;this.Bp=c;this.G=b.G;this.b=b.R();this.td=b.xi();this.Va=this.td.Va;this.HF=this.Bn=this.An=!1;this.ge=null}j(){this.Wh();this.Br();this.bE();this.ge&&(this.ge.j(),this.ge=null);this.Va=this.td=this.b=this.G=this.wE=null}Dh(){return this.td.Dh()}S(){return this.G.S()}C(){return this.G.C()}R(){return this.b}xi(){return this.td}Jt(){return this.wE.Jt()}fa(b){return this.b.fa(b,this.G,this.td)}Ow(b){return this.b.Ow(b,this.G,
this.td)}rb(b){return this.b.rb(b,this.G,this.td)}oc(){}qu(){}UC(){}cd(){this.An||(this.b.Xba(this),this.An=!0)}Wh(){this.An&&(this.b.bha(this),this.An=!1)}Au(){this.Bn||(this.b.Yba(this),this.Bn=!0)}Br(){this.Bn&&(this.b.cha(this),this.Bn=!1)}Jy(){this.HF||(this.b.Wba(this),this.HF=!0)}bE(){this.HF&&(this.b.aha(this),this.HF=!1)}ot(b,c){this.b.xj(this.Bp,b,c)}Tb(){return null}Qb(){}Lb(){}Ed(){}CJ(b,c){if(0!==c){var f=this.Lb(b);if("number"!==typeof f)throw Error("expected number");this.Ed(b,f+c)}}Sf(){return null}}}"use strict";
{const d=self.B;d.A={};d.K={};d.m9=class extends d.ua{constructor(b){super();this.b=b;this.xja=[];this.HZ=new Map;this.xe=null;this.uja=[];this.lM=new Map;this.vN=this.IO=null}X1(b){const c=this.b.Bi(b[0]);if(!c)throw Error("missing plugin");d.E0(b,c);b=d.D(c,{kd:this.b,X_:b[1],Tla:b[2],Sla:b[5],Hla:b[8],lma:b[9],Hma:b[13],Gma:b[14]});b.Gb();this.xja.push(b);this.HZ.set(c,b)}Z1(){this.xe=d.D(d.A.Pa,{kd:this.b,X_:!0});this.xe.Gb()}S1(b){b=this.b.Bi(b[1]);if(!b)throw Error("missing behavior");const c=
d.D(b,{kd:this.b});c.Gb();this.uja.push(c);this.lM.set(b,c);!this.IO&&d.K.yo&&c instanceof d.K.yo?this.IO=c:!this.vN&&d.K.Vla&&c instanceof d.K.Vla&&(this.vN=c)}O4(b){return this.HZ.get(b)||null}m5(b){return this.lM.has(b)}M3(b){return this.lM.get(b)||null}ox(){return this.xe}ZI(){return this.IO}GI(){return this.vN}}}"use strict";
{const d=self.B,b=new Set;d.Mt=class extends d.ua{constructor(){super();this.pi="";this.Z=this.$=this.xs=this.ws=this.hi=this.Oe=0;this.kv=!1;this.yf=null;this.$n="";this.Mk=d.D(d.Rect);b.add(this)}j(){this.Eg();this.yf=null;b.delete(this)}static Xt(){for(const c of b)c.$n="",c.Mk.set(0,0,0,0)}s7(c){this.pi=c[0];this.Oe=c[1];this.hi=c[2];this.ws=c[3];this.xs=c[4];this.$=c[5];this.Z=c[6];this.kv=!0}r7(c){this.pi=c[0];this.Oe=c[1];this.ws=c[2];this.xs=c[3];this.$=c[4];this.Z=c[5];this.hi=c[11];this.kv=
!0}wJ(c,f){if(this.yf)throw Error("already loaded asset");this.pi=f;const a={};d.lJ(f)&&(a.iB="remote");this.Tt(c,a);return this.yf.BS()}Q9(c){if(c===this)throw Error("cannot replace with self");this.Eg();this.pi=c.pi;this.Oe=c.Oe;this.hi=c.hi;this.ws=c.ws;this.xs=c.xs;this.$=c.$;this.Z=c.Z;this.kv=c.kv;this.yf=c.yf;this.$n=c.$n;this.Mk=c.Mk}Jj(){return this.Oe}M(){return this.$}N(){return this.Z}S4(){return this.yf.M()}R4(){return this.yf.N()}Tt(c,f){if(this.yf)throw Error("already got asset");f=
Object.assign({},f,{url:this.pi,size:this.Jj()});this.yf=c.QC(f)}yx(){return this.yf&&this.yf.yx()}async Kj(c,f){if(!this.yf)throw Error("no asset");if(this.$n)throw Error("already loaded texture");this.$n="loading";c=await this.yf.Kj(c,f);if(!c)return this.$n="",null;this.$n="loaded";this.kv||(this.$=c.M(),this.Z=c.N(),this.kv=!0);this.Mk.set(this.ws,this.xs,this.ws+this.$,this.xs+this.Z);this.Mk.Sk(c.M(),c.N());return c}Eg(){this.$n&&(this.yf&&this.yf.Eg(),this.$n="",this.Mk.set(0,0,0,0))}Rd(){return this.yf?
this.yf.Rd():null}Yg(){return this.Mk}}}"use strict";
{const d=self.B;d.W0=class extends d.ua{constructor(b){super();this.qa=b[0];this.qc=b[1];this.EF=!!b[2];this.Tv=b[3];this.UZ=b[4];this.eka=!!b[5];this.wb=b[6];this.Le=b[7].map(c=>d.D(d.V0,c))}j(){for(const b of this.Le)b.j();d.H(this.Le)}p7(b){for(const c of this.Le)c.fc().Tt(b)}q7(b,c){return Promise.all(this.Le.map(f=>f.fc().Kj(b,c)))}E9(){for(const b of this.Le)b.fc().Eg()}Go(b){b=Math.floor(b);if(0>b||b>=this.Le.length)throw new RangeError("invalid frame");return this.Le[b]}Fm(){return this.qc}Ho(){return this.Tv}}}"use strict";
{const d=self.B;d.V0=class extends d.ua{constructor(b){super();this.ih=d.D(d.Mt);this.ih.r7(b);this.$X=b[6];this.BZ=d.D(d.BD,b[7],b[8]);this.nF=b[9].map(c=>d.D(d.R5,this,c));this.FY=new Map;for(const c of this.nF)this.FY.set(c.qa.toLowerCase(),c);this.Lr=null;b=b[10];6<=b.length&&(this.Lr=d.D(d.Iq,b))}j(){this.Lr&&(this.Lr.j(),this.Lr=null);this.ih.j();this.ih=null}fc(){return this.ih}bl(){return this.BZ.Y}cl(){return this.BZ.X}t4(b){return this.FY.get(b.toLowerCase())||null}s4(b){b=Math.floor(b);
return 0>b||b>=this.nF.length?null:this.nF[b]}FI(){return this.nF.length}}}"use strict";{const d=self.B;d.R5=class extends d.ua{constructor(b,c){super();this.qa=c[0];this.oO=d.D(d.BD,c[1],c[2])}j(){}I(){return this.oO.Y}J(){return this.oO.X}}}"use strict";
{const d=self.B,b=self.zj,c=self.yC;d.AJ=class extends d.ua{constructor(f,a,e){super();const h=f.Bi(e[1]);this.b=f;this.ej=f.Pn.O4(h);this.Va=null;this.sF=h.Instance;this.bb=a;this.wb=e[11];this.qa=e[0];this.Kz=this.b.Fj(e[14]);this.bka=!!e[9];this.mb=!!e[2];this.qN=!!e[10];this.Bk=e[3].map(g=>({o0:g[0],type:g[1],name:g[2],Ula:f.Fj(g[3])}));this.Aja=e[4];this.Oja=e[5];this.mh=this.ej.mh;this.$a=null;this.FE=d.D(d.aba,f.jf,f.hf);this.dM=!0;this.eM=!1;this.LM=this.Ur=null;this.uk=-1;this.KM=this.WE=
this.XE=this.JM=this.Yi=null;this.lN=!1;this.jk=null;this.LX=e[8].map(g=>d.BQ.fb(this,g));this.xE=[];this.mM=new Map;this.kM=new Map;this.u_=new Set;this.aq=d.D(d.Yaa,this);this.qE=this.pE=this.Ge=this.ih=this.jk=this.Vu=null;this.aw=0;this.$b=new Map;this.oj=new Map;this.L=[];this.YM=!0;this.ej.dJ()&&(this.$a=d.D(d.um,this,e[12]));e[6]&&(this.ih=d.D(d.Mt),this.ih.s7(e[6]));if(e[7]){this.Ge=e[7].map(g=>d.D(d.W0,g));this.pE=new Map;this.qE=new Map;for(const g of this.Ge)this.pE.set(g.qa.toLowerCase(),
g),this.qE.set(g.wb,g)}this.mb?(this.Ur=[],this.LM=new Set,this.uk=this.b.sea()):(this.Yi=[],this.JM=new Set,this.XE=[],this.WE=[],this.KM=[]);this.Va=d.D(h.$c,this,e[15]);this.MY=this.rz=null;this.qf=d.D(d.Event.Eb);if(a=this.Va.Sf()){if(this.rz=new a(this),!(this.rz instanceof c))throw new TypeError("script interface class must derive from IObjectClass");}else this.rz=new c(this);e[13]&&(a=e[13])&&this.Va.Ax(a[0],a[1]);this.b.$G&&!this.mb&&!this.qN&&this.mh||this.Gb();this.ej.Jp&&(this.ej.Hia(this),
this.Qca(e))}static fb(f,a,e){return d.D(d.AJ,f,a,e)}j(){this.ih&&(this.ih.j(),this.ih=null);if(this.Ge){for(const f of this.Ge)f.j();d.H(this.Ge);this.pE.clear();this.qE.clear()}this.aq.j();this.aq=null;this.$b.clear();this.oj.clear();this.b=this.jk=null}ofa(f){for(let a=1,e=f.length;a<e;++a){const h=this.b.Ag(f[a]);this.Ur.push(h);this.LM.add(h);h.Yi.push(this);h.JM.add(this)}}aia(f){this.lN=!0;this.jk=f}md(){return this.lN}Xfa(){var f=0;if(!this.mb)for(var a of this.Yi)for(var e of a.LX){const m=
e.qa.toLowerCase();this.mM.set(m,e);this.kM.set(m,f);this.xE.push(e);++f}for(var h of this.LX)a=h.qa.toLowerCase(),this.mM.set(a,h),this.kM.set(a,f),this.xE.push(h),++f;for(var g of this.xE)this.u_.add(g.Dh().constructor);if(!this.mb&&this.Yi.length){f=this.b.fY;d.pH(this.XE,f,0);d.pH(this.WE,f,0);d.pH(this.KM,f,0);f=[];a=g=h=0;for(const m of this.Yi)if(e=m.uk,this.XE[e]=h,h+=m.Bk.length,this.WE[e]=g,g+=m.Aja,this.KM[e]=a,a+=m.Oja,(e=m.$a)&&this.$a)for(const q of e.Ch())f.push(q.B1(this.$a));this.$a&&
this.$a.s9(f)}}Qca(f){const a=this.b.rea(),e=d.D(d.Instance,{kd:this.b,TP:this,uid:a});e.FD(f[16],[]);this.b.Hfa(a,e);this.L.push(e)}Gb(){this.mb||this.Va.Gb()}q5(){return 0<this.aw}Mm(f){if(this.mb)return Promise.resolve();this.aw++;return 1===this.aw?this.Va.Mm(f)||Promise.resolve():Promise.resolve()}ml(){if(!this.mb){this.aw--;if(0>this.aw)throw Error("released textures too many times");0===this.aw&&this.Va.ml()}}Cx(){if(this.mb)throw Error("not applicable to family");this.Va.Cx()}HJ(f){return this.mb?
Promise.resolve():this.Va.HJ(f)}R(){return this.b}hc(){return this.ej}Fj(){return this.Kz}Ra(){return this.bb}Nh(){return this.bka}DK(f){return f&&this.u_.has(f)}z4(){return this.Bk.map(f=>f.o0)}y4(f){return this.Bk.findIndex(a=>a.o0===f)}x4(f){return this.Bk.findIndex(a=>a.name===f)}fea(){return this.Bk.map(f=>f.Ula)}kx(f){f=Math.floor(f);if(0>f||f>=this.Bk.length)throw new RangeError("invalid instance variable index");return this.Bk[f].type}CR(f){f=Math.floor(f);if(0>f||f>=this.Bk.length)throw new RangeError("invalid instance variable index");
return this.Bk[f].name}XB(f){return this.mM.get(f.toLowerCase())||null}$w(f){f=this.kM.get(f.toLowerCase());return"undefined"===typeof f?-1:f}dJ(){return this.ej.dJ()}CU(){return this.$a&&this.$a.i5()}ea(){return this.aq.ea()}fc(){return this.ih}OT(f){this.Vu=f}VH(f){return this.JM.has(f)}gR(f){return this.LM.has(f)}Mq(f){return this.WE[f]}xR(f){return this.XE[f]}lR(f){if(!this.Ge)throw Error("no animations");return this.pE.get(f.toLowerCase())||null}K3(f){if(!this.Ge)throw Error("no animations");
return this.qE.get(f)||null}i4(){if(!this.Ge)throw Error("no animations");return this.Ge[0].Go(0)}X3(){if(this.Ge){const f=this.i4().fc();return[f.M(),f.N()]}return this.ih?[this.ih.M(),this.ih.N()]:[100,100]}hl(){if(!this.ej.Jp)throw Error("not a single-global plugin");return this.L[0]}za(){return this.L}*T_(){yield*this.L}*U_(){yield*this.L;for(const f of this.b.xn)f.S()===this&&(yield f)}Oi(f){this.L.push(f)}Cy(){this.YM=!0}fE(){if(this.YM&&!this.mb){var f=this.L,a=0;for(let e=f.length;a<e;++a)f[a].UW(a);
f=this.b.xn;for(const e of f)e.S()===this&&e.UW(a++);this.YM=!1}}BR(f){var a=this.L;if(f<a.length)return a[f];f-=a.length;a=this.b.xn;for(const e of a)if(e.S()===this){if(0===f)return e;--f}return null}Bm(f){if(f&&f.md()&&f.S()!==this)for(const a of f.siblings())if(a.S()===this)return a;f=this.ea().za();return f.length?f[0]:null}JR(f){const a=this.ea().za();return 0<a.length?a[f.Nq()%a.length]:null}*A_(f,a){const e=this.ea().za();var h=e.length;const g=a.ea(),m=a.ea().za(),q=m.length;var l=f.Nq();
if(a.mb||!g.Mc)l=m.indexOf(f);f=Math.ceil(h/q);h%=q;0===h||l<h?(l*=f,h=f):(l=h*f+(l-h)*(f-1),h=f-1);for(let r=l,p=l+h;r<p;++r)yield e[r]}Ww(f){this.Va.Ww(f)}Dc(){if(this.lN&&!this.mb){this.fE();var f=this.ea(),a=f.L,e=f.Mc,h=this.b.xg();h=h&&h.ec()&&h.ec().Me;for(const q of this.jk.Mn)if(q!==this){q.fE();var g=q.ea();g.uf(e);if(!e){var m=g.L;d.H(m);for(const l of a)m.push(q.BR(l.Nq()));if(h){m=f.Kc;g=g.Kc;d.H(g);for(const l of m)g.push(q.BR(l.Nq()))}}}}}gja(f,a){for(const e of this.jk.Mn){const h=
e.ea();f?d.zd(h.Kc,a):d.zd(h.L,a)}}PW(){this.dM=!0}zL(f){this.eM=!!f}uX(){if(this.dM&&this.mh){for(const f of this.L)f.C().ML();for(const f of this.b.xn)f.S()===this&&f.C().ML();this.dM=!1}}Ih(){this.$b||(this.$b=new Map);return this.$b}Kt(){this.oj||(this.oj=new Map);return this.oj}v5(){return this.DK(d.K.yo)}aS(){return this.DK(d.K.$sa)}eJ(){return this.DK(d.K.Pta)}Aa(){const f={instances:this.L.map(a=>a.Tb())};this.$b&&this.$b.size&&(f.ex=d.AK(this.$b));return f}Ia(f){this.$b&&(this.$b.clear(),
this.$b=null);var a=f.ex;a&&(this.$b=d.nI(a));a=this.L;f=f.instances;for(let e=0,h=Math.min(a.length,f.length);e<h;++e)a[e].Qb(f[e]);for(let e=f.length,h=a.length;e<h;++e)this.b.Ah(a[e]);for(let e=a.length,h=f.length;e<h;++e){a=f[e];let g=null;if(this.mh&&(g=this.b.Sc().jC(a.w.l),!g))continue;this.b.Cj(this.Vu||this,g,!1,0,0,!0).Qb(a)}this.Cy()}vi(f){var a=this.b;(a=a.Sb&&!a.ya().FC())&&b.uK();this.qf.dispatchEvent(f);a&&b.SH()}}}"use strict";
{const d=self.B;d.M1=class extends d.ua{constructor(b,c){super();this.b=b;this.Mn=c;for(const f of this.Mn)f.aia(this)}j(){this.b=null}R(){return this.b}l5(){return this.Mn.some(b=>b.mh)}}}"use strict";
{const d=self.B,b=self.zj,c=self.Tq,f=[];let a=0;const e=new WeakMap,h=new WeakMap;d.Instance=class extends d.ua{constructor(g){super();this.b=g.kd;this.gf=g.TP;this.xf=this.ia=this.Cb=null;this.DY=0;this.lc=g.uid;this.MZ=a++;this.Fa=0;this.Id=this.fg=f;var m=this.gf.xE;0<m.length&&(this.Id=m.map((q,l)=>d.D(d.vB,{kd:this.b,qP:q,instance:this,index:l})));this.tA=this.gf.md()?[]:null;this.Pe=-1;this.tc=null;m=this.hc();m.To()&&(this.Fa|=4);if(m.mh)if(this.Cb=d.D(d.Rba,this,g.Ue),g.A0)this.Cb.Tf(g.A0);
else{this.Cb.h6();const [q,l]=this.gf.X3();this.Cb.vc(q,l);this.S().CU()&&this.Cb.zf.t7()}g.S_?this.sfa(g.S_):this.mfa()}j(){this.xf&&(this.xf.zy(),this.xf=null);if(0<this.Id.length){for(var g of this.Id)g.j();d.H(this.Id)}this.ia.j();this.ia=null;if(g=e.get(this))g.clear(),e.delete(this);if(g=h.get(this))g.clear(),h.delete(this);this.tA&&d.H(this.tA);this.tc&&(this.tc.j(),this.tc=null);this.gf=this.b=null;0<this.fg.length&&d.H(this.fg);this.Cb&&(this.Cb.j(),this.Cb=null)}sfa(g){0<g.length&&(this.fg=
[],d.$d(this.fg,g))}mfa(){const g=this.gf.Bk.length;if(0!==g){this.fg=[];var m=[0,0,""];for(let q=0;q<g;++q)this.fg.push(m[this.gf.kx(q)])}}FD(g,m){if(this.ia)throw Error("already got sdk instance");for(let q=0,l=this.Id.length;q<l;++q)this.Id[q].FD(m?m[q]:null);this.ia=d.D(this.gf.sF,this,g);if(!(this.ia instanceof d.Zo))throw Error("sdk type must derive from SDKInstanceBase");for(let q=0,l=this.Id.length;q<l;++q);this.gf.MY&&this.SV()}C(){return this.Cb}R(){return this.b}I3(){const g=this.Pe;return-1===
g?this.R().Pe:g}lK(g){g=+g;if(0>g||!isFinite(g))g=0;this.Pe=g}b$(){this.Pe=-1}Eb(){this.tc||(this.tc=d.D(d.Event.Eb));return this.tc}Ec(g){this.ia.Ec(g)}Gb(g){this.ia.Gb(g)}nia(){this.Fa|=2}Sq(){return 0!==(this.Fa&2)}jL(){this.Fa|=1}wx(){return 0!==(this.Fa&1)}To(){return 0!==(this.Fa&4)}WV(){return 0!==(this.Fa&8)}Iia(g){this.Fa=g?this.Fa|8:this.Fa&-9}dfa(){return 0!==(this.Fa&16)}Nx(g,m){g<<=16;this.Fa=m?this.Fa|g:this.Fa&~g}DI(g){return 0!==(this.Fa&g<<16)}de(){return this.ia.de()}bC(){return this.ia.bC()}cC(){return this.ia.cC()}Cm(g){return this.ia.Cm(g)}S(){return this.gf}tt(g){return g.mb?
g.gR(this.S()):this.S()===g}DU(){if(!this.hc().o_)throw Error("object does not support scene graph");}jl(){return null!==this.Ka()}Ka(){var g=this.C();return g?(g=g.Ka())?g.Na():null:null}pC(){var g=this.C();return g?(g=g.pC())?g.Na():null:null}*parents(){const g=this.C();if(g)for(const m of g.parents())yield m.Na()}Bg(){const g=this.C();return g?g.Bg():!1}wg(){const g=this.C();return g?g.wg().map(m=>m.Na()):[]}*children(){const g=this.C();if(g)for(const m of g.children())yield m.Na()}*xq(){const g=
this.C();if(g)for(const m of g.xq())yield m.Na()}$B(){const g=this.C();return g?g.$B():0}uI(g){const m=this.C();return m?(g=m.uI(g))?g.Na():null:null}Ao(g,m){this.DU();g.DU();this.C().Ao(g.C(),m||{})}nl(g){const m=this.C();m&&m.nl(g.C())}dC(){const g=this.C();return g?g.dC():!1}Saa(){var g=this.C();if(g&&(g=g.zO))for(const m of g)if(g=this.b.zg(m[2])){const q=m[3];this.Ao(g,{Fw:!!(q>>0&1),Gw:!!(q>>1&1),nt:!!(q>>2&1),mt:!!(q>>3&1),Ew:!!(q>>4&1),ZA:!!(q>>5&1),Hw:!!(q>>6&1)})}}md(){return null!==this.tA}su(g){this.tA.push(g)}t5(g){return!!this.QR(g)}QR(g){const m=
this.siblings();if(null===m||0===m.length)return!1;for(const q of m)if(q.S()===g)return q;return null}siblings(){return this.tA}Qj(){for(const g of this.siblings())g.S().ea().rl(g)}Rga(){for(const g of this.siblings())g.S().ea().rr(g)}Gia(g){for(const m of this.siblings())m.S().ea().L[g]=m}Qga(){for(const g of this.siblings())g.S().ea().np(g)}Fia(g){for(const m of this.siblings())m.S().ea().Kc[g]=m}hc(){return this.gf.hc()}UW(g){this.DY=g}Nq(){this.gf.fE();return this.DY}oR(g){if(!g)return null;for(const m of this.Id)if(m.Dh()instanceof
g)return m;return null}N3(g){return g?(g=this.oR(g))?g.ia:null:null}nR(g){const m=this.Id;for(let q=0,l=m.length;q<l;++q)if(m[q].xi().wb===g)return q;return-1}Pf(g){g|=0;const m=this.fg;if(0>g||g>=m.length)throw new RangeError("invalid instance variable");return m[g]}oea(g){return this.fg[g]}nea(g){const m=this.fg[g];return 0===this.gf.kx(g)?!!m:m}cp(g,m){g|=0;const q=this.fg;if(0>g||g>=q.length)throw new RangeError("invalid instance variable");switch(this.gf.kx(g)){case 0:q[g]=m?1:0;break;case 1:q[g]=
"number"===typeof m?m:parseFloat(m);break;case 2:q[g]="string"===typeof m?m:m.toString();break;default:throw Error("unknown instance variable type");}}$$(g,m){if(0!==m){g|=0;var q=this.fg;if(0>g||g>=q.length)throw new RangeError("invalid instance variable");var l=q[g];if("number"===typeof l)q[g]="number"===typeof m?q[g]+m:q[g]+parseFloat(m);else{if("boolean"===typeof l)throw Error("can not set offset of boolean variable");if("string"===typeof l)throw Error("can not set offset of string variable");
throw Error("unknown instance variable type");}}}Ih(){let g=e.get(this);if(g)return g;g=new Map;e.set(this,g);return g}Kt(){let g=h.get(this);if(g)return g;g=new Map;h.set(this,g);return g}MV(g){const m=this.S();if(m.qf.aJ(g))return!0;for(const q of m.Yi)if(q.qf.aJ(g))return!0;return this.b.qf.aJ(g)?!0:!1}dE(){const g=new Set;g.add(this);const m=this.C();if(m&&m.Bg())for(const q of this.xq())if(g.add(q),q.md())for(const l of q.siblings())g.add(l);if(this.md())for(const q of this.siblings())g.add(q);
for(const q of g.values())q.KL()}KL(){if(this.MV("instancecreate")){const g=this.S(),m=new d.Event("instancecreate");m.instance=this.Ai();g.vi(m);for(const q of g.Yi)q.vi(m);this.b.vi(m)}this.b.fa(this.hc().constructor.F.h8,this,null)}eja(){this.b.fa(this.hc().constructor.F.i8,this,null)}Yda(g){if(this.xf){var m=new d.Event("destroy");m.Pla=g;this.vi(m)}if(this.MV("instancedestroy")){m=this.S();var q=new d.Event("instancedestroy");q.instance=this.Ai();q.Pla=g;m.vi(q);for(const l of m.Yi)l.vi(q);this.b.vi(q)}}Tb(g=
"full"){const m={};"full"===g?m.uid=this.lc:m.c3=!0;if("visual-state"!==g){var q=e.get(this);q&&q.size&&(m.ex=d.AK(q));-1!==this.Pe&&(m.mts=this.Pe);if(0<this.gf.Bk.length){q={};var l=this.gf.z4();for(let r=0,p=this.fg.length;r<p;++r)q[l[r].toString()]=this.fg[r];m.ivs=q}if(this.Id.length){q={};for(const r of this.Id)(l=r.Tb())&&(q[r.xi().wb.toString()]=l);m.behs=q}}this.Cb&&(m.w=this.Cb.Aa(g));(g=this.ia.Tb())&&(m.data=g);return m}TD(g="full"){this.Cb&&this.Cb.TD(g)}Qb(g,m="full"){if("full"===m)this.lc=
g.uid;else if(!g.c3)return;if("visual-state"!==m){var q=e.get(this);q&&(q.clear(),e.delete(this));if(q=g.ex)q=d.nI(q),e.set(this,q);this.Pe=g.hasOwnProperty("mts")?g.mts:-1;if(q=g.ivs)for(const [p,t]of Object.entries(q))if(q=this.gf.y4(parseInt(p,10)),!(0>q||q>=this.fg.length)){var l=t;null===l&&(l=NaN);this.fg[q]=l}}if(this.hc().mh){q=g.w;var r=q.l;this.Cb.wa().wb!==r&&(l=this.Cb.wa(),(r=l.Qf().jC(r))?(this.Cb.Dy(r),l.tr(this,!0),r.Oi(this,!0),r.Uh(),this.Cb.T()):"full"===m&&this.b.Ah(this));this.Cb.Ia(q,
m)}if("visual-state"!==m&&(m=g.behs))for(const [p,t]of Object.entries(m))m=this.nR(parseInt(p,10)),0>m||m>=this.Id.length||this.Id[m].Qb(t);(g=g.data)&&this.ia.Qb(g)}Ai(){return this.xf||this.SV()}SV(){var g=this.Cb?self.Lt:c;const m=this.ia.Sf(),q=this.gf.MY,l=q||m||g;c.Wj(this);this.xf=new l;c.Wj(null);if(m&&!(this.xf instanceof g))throw new TypeError(`script interface class '${m.name}' does not extend the right base class '${g.name}'`);if(q&&(g=m||g,!(this.xf instanceof g)))throw new TypeError(`setInstanceClass(): class '${q.name}' does not extend the right base class '${g.name}'`);
return this.xf}mea(g){if(0!==this.fg.length){var m={},q=this.gf.fea();for(let l=0,r=q.length;l<r;++l)m[q[l]]={configurable:!1,enumerable:!0,get:d.Instance.prototype.nea.bind(this,l),set:d.Instance.prototype.cp.bind(this,l)};m=Object.create(Object.prototype,m);g.zBa={value:m,writable:!1}}}gea(g){var m=this.Id;if(0!==m.length){var q={};for(const l of m)q[l.xi().Fj()]={value:l.Jt(),writable:!1};m=Object.create(Object.prototype,q);g.XA={value:m,writable:!1}}}vi(g){g.instance=this.Ai();var m=this.b;(m=
m.Sb&&!m.ya().FC())&&b.uK();this.Ai().dispatchEvent(g);m&&b.SH()}}}"use strict";
{const d=self.B;d.l$=class extends d.ua{constructor(b){super();this.yc=b;this.gd=null;this.DE=[];this.KG=b.M();this.HG=b.N();this.JG=this.IG=1;this.iG=0}j(){this.gd=null;d.H(this.DE)}aU(b){this.iG=(this.gd=b)?b.ca():0}Ka(){return this.gd}Bg(){return 0<this.DE.length}wg(){return this.DE}vaa(b){this.IG=b}waa(b){this.JG=b}fl(){return this.yc.Ko()?this.gd.M()/this.gd.Wb.KG:1}gl(){return this.yc.Jo()?this.gd.N()/this.gd.Wb.HG:1}Aa(){return{sw:this.KG,sh:this.HG,sx:this.IG,sy:this.JG,psa:this.iG,c:this.DE.map(b=>
{let c="";b.Qq()&&(c+="x");b.Rq()&&(c+="y");b.Ko()&&(c+="w");b.Jo()&&(c+="h");b.rC()&&(c+="a");b.sC()&&(c+="z");b.dC()&&(c+="d");return{uid:b.Na().lc,f:c}})}}Ia(b){this.KG=b.sw;this.HG=b.sh;this.IG=b.sx;this.JG=b.sy;this.iG=b.psa}Ym(b){const c=this.yc,f=c.R();for(const a of b.c){b=f.zg(a.uid).C();const e=a.f,h={};h.Fw=e.includes("x");h.Gw=e.includes("y");h.nt=e.includes("w");h.mt=e.includes("h");h.Ew=e.includes("a");h.Hw=e.includes("z");h.ZA=e.includes("d");c.Ao(b,h)}}}}"use strict";
{const d=self.B,b=d.D(d.Rect),c=d.D(d.Td),f=d.D(d.Event,"bboxchange",!1),a=d.D(d.sb,0,0,0,0),e=d.D(d.Iq),h=d.D(d.sb,1,1,1,1),g=d.D(d.Rect,0,0,-1,-1),m=d.D(d.Rect,0,0,-1,-1),q=new Set(["absolute","relative"]),l=[];let r=!0;d.Rba=class extends d.ua{constructor(p,t){super();this.G=p;this.W=p.S();this.b=p.R();this.Ql=t;this.lm=-1;this.Fa=196635;this.W.hc().Rt()&&(this.Fa|=128);this.Mv=this.Lv=this.tM=this.FO=this.Ya=this.zk=this.Rk=this.Md=this.X=this.Y=NaN;this.dn=d.D(d.Rect);this.yE=d.D(d.Td);this.EE=
m;this.lA=g;this.jj=this.gw=this.BG=null;this.Mr=this.pb=h;this.zf=this.Ls=null;this.G.S().CU()&&(this.zf=d.D(d.y6,this.G,this));this.zO=this.Wb=null;this.AO=this.YZ=NaN;this.cj=null}jL(){this.Fa|=256}j(){this.Ls&&(this.b.oC().pT(this.Ls),this.Ls=null);this.BG=null;this.gw&&(this.gw.AH.j(),this.gw=null);this.jj&&(this.jj.clear(),this.jj=null);this.XC();this.jl()&&this.Ka().nl(this);if(this.Bg()){const p=[...this.wg()];for(const t of p)this.nl(t)}this.WD();this.Ql=this.b=this.W=this.G=null}Tf(p){r=
!1;this.ib(p[0],p[1]);this.$f(p[2]);this.vc(p[3],p[4]);this.Rt()?this.Gc(p[6]):this.Ya=0;a.qm(p[7]);this.YD(a);this.fu(p[8]);this.gu(p[9]);this.Wf(p[10]);this.zf&&this.zf.nfa(p[12]);p[14]&&(this.zO=p[14][1],this.YZ=p[14][2]);if(p[15]){var t=p[15];this.fI(t[0],t[1]);p=this.il();t=t[2];for(let v=0,y=t.length;v<y;++v){const z=t[v];for(let C=0,w=z.length;C<w;++C){const E=z[C],H=p.Ft(C,v);H.sf(E[0]);H.Zf(E[1]);H.$f(E[2]);H.mK(E[3]);H.oK(E[4])}}}r=!0;this.Cu()}h6(){this.FO=this.Ya=this.zk=this.Rk=this.Md=
this.X=this.Y=0;this.tM=1;this.Mv=this.Lv=0;this.Cu()}R(){return this.b}S(){return this.W}Na(){return this.G}ny(){return this.rC()?this.Ka().ca()-this.Wb.iG:0}sf(p){p=+p;if(this.Qq()){const t=this.Wb;p-=this.I();const v=-this.ny();0===v?this.Y+=p/t.fl():(this.Y+=Math.cos(v)*p/t.fl(),this.Rq()&&(this.X+=Math.sin(v)*p/t.gl()))}else this.Y=p}RC(p){p=+p;this.Qq()?this.sf(this.I()+p):this.Y+=p}I(){if(this.Qq()){let p=this.Y;const t=this.Wb,v=this.Ka(),y=this.ny();0===y?p*=t.fl():(p=p*t.fl()*Math.cos(y),
this.Rq()&&(p-=this.X*t.gl()*Math.sin(y)));return v.I()+p}return this.Y}Zf(p){p=+p;if(this.Rq()){const t=this.Wb;p-=this.J();const v=-this.ny();0===v?this.X+=p/t.gl():(this.Qq()&&(this.Y-=Math.sin(v)*p/t.fl()),this.X+=Math.cos(v)*p/t.gl())}else this.X=p}SC(p){p=+p;this.Rq()?this.Zf(this.J()+p):this.X+=p}J(){if(this.Rq()){let p=this.X;const t=this.Wb,v=this.Ka(),y=this.ny();0===y?p*=t.gl():(p=p*t.gl()*Math.cos(y),this.Qq()&&(p+=this.Y*t.fl()*Math.sin(y)));return v.J()+p}return this.X}ib(p,t){p=+p;
t=+t;if(this.YR()){const y=this.Qq(),z=this.Rq(),C=this.Wb,w=p-this.I(),E=t-this.J();var v=-this.ny();if(0===v)this.Y=y?this.Y+w/C.fl():p,this.X=z?this.X+E/C.gl():t;else{const H=Math.sin(v);v=Math.cos(v);this.Y=y?z?this.Y+(v*w-H*E)/C.fl():this.Y+v*w/C.fl():p;this.X=z?y?this.X+(H*w+v*E)/C.gl():this.X+v*E/C.gl():t}}else this.Y=p,this.X=t}Dd(p,t){p=+p;t=+t;this.YR()?this.ib(this.I()+p,this.J()+t):(this.Y+=p,this.X+=t)}lI(p,t){return this.I()===p&&this.J()===t}$f(p){p=+p;this.sC()&&(p-=this.Ka().kb());
this.Md!==p&&(this.Md=p,this.FX(),p=this.wa(),0!==this.Md&&p.QW(),p.Uh())}FX(){this.Cu();if(this.Bg()){const p=this.wg();for(let t=0,v=p.length;t<v;t++){const y=p[t];y.sC()&&y.FX()}}}W7(p){this.$f(this.kb()+p)}kb(){return this.sC()?this.Ka().kb()+this.Md:this.Md}Ci(){return this.wa().kb()+this.kb()}Ze(p){p=+p;this.Rk=this.Ko()?this.Rk*(p/this.M()):p}DJ(p){p=+p;this.Ko()?this.Ze(this.M()+p):this.Rk+=p}M(){return this.Ko()?this.Ka().M()*this.Rk:this.Rk}Ye(p){p=+p;this.zk=this.Jo()?this.zk*(p/this.N()):
p}BJ(p){p=+p;this.Jo()?this.Ye(this.N()+p):this.zk+=p}N(){return this.Jo()?this.Ka().N()*this.zk:this.zk}vc(p,t){p=+p;t=+t;this.Rk=this.Ko()?this.Rk*(p/this.M()):p;this.zk=this.Jo()?this.zk*(t/this.N()):t}OR(){if(this.jl()){const p=this.Wb;return Math.min(p.fl(),p.gl())}return 1}Rt(){return 0!==(this.Fa&128)}Gc(p){p=+p;this.Rt()&&(this.rC()&&(p-=this.Ka().ca()),p=d.Cc(p),this.Ya!==p&&(this.Ya=p,this.kL()))}S7(p){p=+p;0!==p&&this.Rt()&&(this.Ya=d.Cc(this.Ya+p),this.kL())}kL(){this.Fa|=262144;if(this.Bg()){const p=
this.wg();for(let t=0,v=p.length;t<v;t++)p[t].kL()}}ca(){return this.rC()?d.Cc(this.Ka().ca()+this.Ya):this.Ya}kW(){const p=this.Fa;if(0!==(p&262144)){var t=this.ca();this.FO=Math.sin(t);this.tM=Math.cos(t);this.Fa=p&-262145}}YI(){this.kW();return this.FO}vI(){this.kW();return this.tM}fu(p){this.Lv=+p}U7(p){this.Lv+=+p}bl(){return this.Lv}gu(p){this.Mv=+p}V7(p){this.Mv+=+p}cl(){return this.Mv}YD(p){this.pb.jd(p)||(this.pb===h?(this.pb=d.D(d.sb,p),this.Mr=d.D(d.sb,p),this.Mr.CH()):p.aB(1,1,1,1)?this.Mr=
this.pb=h:(this.pb.set(p),this.Mr.set(p),this.Mr.CH()),this.Cu())}qe(p){p=d.ba(+p,0,1);this.pb.wq!==p&&(a.bt(this.pb),a.wq=p,this.YD(a))}T7(p){this.qe(this.ld()+p)}ld(){return this.pb.wq}nK(p){this.pb.dt(p)||(a.bt(p),a.wq=this.pb.wq,this.YD(a))}Laa(p,t,v){a.jQ(p,t,v);this.nK(a)}NI(){return this.Mr}dC(){return 0!==(this.Fa&512)}D$(p){this.bh(512,p)}Qq(){return 0!==(this.Fa&1024)}Gaa(p){this.bh(1024,p)}Rq(){return 0!==(this.Fa&2048)}YR(){return 0!==(this.Fa&3072)}Haa(p){this.bh(2048,p)}Ko(){return 0!==
(this.Fa&4096)}Faa(p){this.bh(4096,p)}Jo(){return 0!==(this.Fa&8192)}Eaa(p){this.bh(8192,p)}rC(){return 0!==(this.Fa&16384)}Daa(p){this.bh(16384,p)}sC(){return 0!==(this.Fa&32768)}Iaa(p){this.bh(32768,p)}WU(){this.Fa&=-65025}Ao(p,t){if(p!==this&&!p.jl()&&!this.OV(p)&&!this.NV(p)){var v=p.I(),y=p.J(),z=p.M(),C=p.N(),w=p.ca(),E=p.kb();p.eX(this);p.Gaa(t.Fw);p.Haa(t.Gw);p.Faa(t.nt);p.Eaa(t.mt);p.Daa(t.Ew);p.Iaa(t.Hw);p.D$(t.ZA);t.Fw&&(p.Y=v-this.I(),t.nt&&(p.Y/=this.M()/this.Wb.KG));t.Gw&&(p.X=y-this.J(),
t.mt&&(p.X/=this.N()/this.Wb.HG));t.nt&&(p.Rk=z/this.M(),p.Wb.vaa(p.Rk));t.mt&&(p.zk=C/this.N(),p.Wb.waa(p.zk));t.Ew&&(p.Ya=w-this.ca());t.Hw&&(p.Md=E-this.kb());this.Zba(p);this.T()}}nl(p){if(p.Ka()===this){var t=p.I(),v=p.J(),y=p.M(),z=p.N(),C=p.ca(),w=p.kb();p.eX(null);p.WU();p.ib(t,v);p.vc(y,z);p.Gc(C);p.$f(w);this.dha(p);this.T()}}kha(){for(var p of this.children())this.nl(p);(p=this.Ka())&&p.nl(this);this.WU()}jl(){return null!==this.Ka()}Ka(){const p=this.Wb;return null!==p?p.Ka():null}pC(){let p=
this;for(;p.jl();)p=p.Ka();return p}*parents(){let p=this.Ka();for(;p;)yield p,p=p.Ka()}n5(p){return this.wg().includes(p)}Bg(){const p=this.Wb;return null!==p?p.Bg():!1}wg(){const p=this.Wb;return null!==p?p.wg():l}children(){return this.wg()}*xq(){for(const p of this.children())yield p,yield*p.xq()}$B(){return this.wg().length}uI(p){const t=this.wg();p=Math.floor(+p);return 0>p||p>=t.length?null:t[p]}PK(p){this.Wb||(this.Wb=d.D(d.l$,this));p&&this.Wb.aU(p)}WD(){this.Wb&&(this.Wb.j(),this.Wb=null)}eX(p){p?
(p.PK(null),this.PK(p)):(this.Wb&&this.Wb.aU(null),this.Bg()||this.WD())}NV(p){if(!this.jl())return!1;const t=this.Ka();return t===p?!0:t.NV(p)}OV(p){if(this.n5(p))return!0;for(const t of this.wg())if(t.OV(p))return!0;return!1}Zba(p){this.Wb.wg().push(p)}dha(p){const t=this.Wb.wg(),v=t.indexOf(p);-1!==v&&t.splice(v,1);0!==t.length||this.jl()||this.WD();p.Bg()||p.WD()}eK(p){this.AO=p}Cu(){if(r){var p=this.b.oC();this.Ls&&p.pT(this.Ls);this.Ls=p.C0(p.CG||"<default>",this.yi(),this.Mr,this.kb())}}Mo(){return this.pb===
h}Wf(p){p|=0;if(0>p||31<p)throw new RangeError("invalid blend mode");this.yi()!==p&&(this.Fa=this.Fa&-2080374785|p<<26,this.Cu())}yi(){return(this.Fa&2080374784)>>26}Dy(p){this.Ql=p;0!==this.kb()&&this.Ql.QW()}wa(){return this.Ql}Qf(){return this.wa().Qf()}aE(p){this.lm=p|0}Gm(){this.Ql.hE();return this.lm}bh(p,t){this.Fa=t?this.Fa|p:this.Fa&~p}pe(){return 0!==(this.Fa&1)}re(p){this.bh(1,p)}Mh(){return 0!==(this.Fa&8)}Mx(p){p=!!p;this.Mh()!==p&&(this.bh(8,p),p?this.T():this.zW())}gK(p,t){this.bh(32,
p);this.jj&&this.jj.clear();if(t.trim()){this.jj||(this.jj=new Set);for(const v of t.split(" "))v&&this.jj.add(v.toLowerCase())}else this.jj=null}IC(p){const t=0!==(this.Fa&32),v=this.jj;if(!p||!v)return!t;for(const y of v)if(p.has(y))return t;return!t}T(){this.Fa|=65554;this.W.PW();this.b.aa();this.Ql.Ws&&(this.yB(this.dn,this.yE,!0),this.Fa&=-3,this.BX());0!==(this.Fa&4)&&this.G.Eb().dispatchEvent(f);if(null!==this.Wb){const p=this.Wb.wg();for(let t=0,v=p.length;t<v;++t)p[t].T()}}yB(p,t,v){const y=
this.I(),z=this.J(),C=this.M(),w=this.N(),E=this.ca();p.Rg(y-this.Lv*C,z-this.Mv*w,C,w);v&&this.Jh()&&this.Qda(p);0===E?t.wj(p):(p.offset(-y,-z),t.GH(p,this.YI(),this.vI()),t.offset(y,z),t.GP(p));p.normalize()}wX(){const p=this.Fa;0!==(p&2)&&(this.yB(this.dn,this.yE,!0),this.Fa=p&-3)}ub(){this.wX();return this.dn}Co(){this.wX();return this.yE}Fx(p){var t=this.I(),v=this.J();t=Math.round(t)-t;v=Math.round(v)-v;if(0===t&&0===v)return p;c.Ga(p);c.offset(t,v);return c}e9(p){this.dn.Ga(p);this.yE.wj(this.dn);
this.Fa&=-3;this.ML();this.BX()}KT(p){this.bh(4,p)}hS(){return 0!==(this.Fa&4)}qS(p){return 0===this.kb()?p.eB(this.ub()):this.bfa()}bfa(){const p=this.wa(),t=this.Ci();if(t>=p.sI())return!1;p.uC(t,b);return b.eB(this.ub())}hK(p){this.BG=p;this.WK();this.Jh()&&(this.cj.NP=null)}xC(){return null!==this.BG||this.Jh()}Lo(){return this.iea(this.M(),this.N(),this.ca(),this.YI(),this.vI())}iea(p,t,v,y,z){let C=this.gw;null===C&&(this.gw=C={AH:d.D(d.Iq),width:NaN,height:NaN,angle:NaN});const w=C.AH;if(C.width===
p&&C.height===t&&C.angle===v)return w;const E=this.BG;if(this.Jh()){const H=this.bl(),M=this.cl(),N=this.il();let Q=this.cj.NP;Q||(E?(e.Ga(E),e.offset(H,M)):e.Dma(),Q=N.x6(e),this.cj.NP=Q);N.wba(Q,w);w.offset(-H,-M);w.qQ(p,t,y,z)}else E?(w.Ga(E),w.qQ(p,t,y,z)):w.hQ(this.Co(),-this.I(),-this.J());C.width=p;C.height=t;C.angle=v;return w}WK(){this.cU();const p=this.gw;null!==p&&(p.width=NaN)}fI(p,t){p=Math.floor(p);t=Math.floor(t);if(!this.Na().hc().Jka)throw Error("object does not support mesh");this.XC();
this.cj={mQ:d.D(d.Da.IS,p,t),t0:d.D(d.Da.IS,p,t),NP:null}}Jh(){return null!==this.cj}il(){if(!this.Jh())throw Error("no mesh");return this.cj.mQ}ZR(){if(!this.Jh())throw Error("no mesh");return this.cj.t0}sD(p){this.bh(65536,p)}tS(){return 0!==(this.Fa&65536)}cU(){this.bh(131072,!0)}Qda(p){var t=this.cj.mQ;const v=Math.min(t.L4(),0),y=Math.min(t.M4(),0),z=Math.max(t.J4(),1);t=Math.max(t.K4(),1);const C=p.width(),w=p.height();p.offsetLeft(v*C);p.offsetTop(y*w);p.oma((z-1)*C);p.nma((t-1)*w)}XC(){this.cj&&
(this.cj.mQ.j(),this.cj.t0.j(),this.cj=null,this.WK())}ZT(p,t,v){p=Math.floor(p);t=Math.floor(t);var y=v.mode||"absolute";if(!q.has(y))throw Error("invalid mode");y="relative"===y;let z=v.x,C=v.y;const w=v.tQ;let E="number"===typeof v.x0?v.x0:y?0:-1;v="number"===typeof v.y0?v.y0:y?0:-1;if(!this.Jh())return!1;const H=this.il(),M=H.Ft(p,t);if(null===M)return!1;let N=!1;"number"===typeof w&&M.kb()!==w&&(M.$f(w),N=!0);y&&(z+=p/(H.Gl-1),C+=t/(H.gm-1));-1!==E||y?(y&&(E+=p/(H.Gl-1)),E=d.ba(E,0,1)):E=M.ni;
-1!==v||y?(y&&(v+=t/(H.gm-1)),v=d.ba(v,0,1)):v=M.ri;if(M.I()===z&&M.J()===C&&M.ni===E&&M.ri===v)return N;M.sf(z);M.Zf(C);M.mK(E);M.oK(v);this.WK();return!0}Sq(){return this.G.Sq()}Nw(p,t){return this.ub().tg(p,t)&&this.Co().tg(p,t)?this.Sq()?this.G.ia.tU(p,t):this.xC()?this.Lo().tg(p-this.I(),t-this.J()):!0:!1}Yea(){return 0!==(this.Fa&16)}ML(){if(this.Yea()&&this.Mh()&&0===(this.Fa&256)){var p=this.ub(),t=this.W.FE,v=this.EE;b.set(t.Rj(p.P),t.Sj(p.O),t.Rj(p.V),t.Sj(p.U));v.jd(b)||(p=this.G,v===m?
(t.tf(p,null,b),this.EE=d.D(d.Rect,b)):(t.tf(p,v,b),v.Ga(b)),this.Fa&=-17)}}zW(){const p=this.EE;p!==m&&(this.W.FE.tf(this.G,p,null),this.EE=m)}BX(){const p=this.wa();if(p.Ws&&0===(this.Fa&256)){var t=p.Sv,v=this.ub(),y=this.lA;b.set(t.Rj(v.P),t.Sj(v.O),t.Rj(v.V),t.Sj(v.U));y.jd(b)||(v=this.G,y===g?(t.tf(v,null,b),this.lA=d.D(d.Rect,b)):(t.tf(v,y,b),y.Ga(b)),p.naa())}}AW(){const p=this.lA;p!==g&&(this.wa().Sv.tf(this.G,p,null),this.lA=g)}Vba(){const p=this.G,t=this.Ql,v=t.L;v.length&&v[v.length-1]===
p||(t.tr(p,!1),t.Oi(p,!1),this.b.aa())}Tba(){const p=this.G,t=this.Ql,v=t.L;v.length&&v[0]===p||(t.tr(p,!1),t.Nga(p),this.b.aa())}Uba(p){const t=this.G,v=this.Ql;if(v.Qf()!==p.Qf())throw Error("layer from different layout");p!==v&&(v.tr(t,!0),this.Dy(p),p.Oi(t,!0),this.b.aa())}LU(p,t){const v=this.G,y=this.Ql;if(p.lc!==v.lc){var z=p.C();if(!z)throw Error("expected world instance");var C=z.wa();z=!1;y.Ra()!==C.Ra()&&(y.tr(v,!0),this.Dy(C),C.Oi(v,!0),z=!0);p=C.H7(v,p,!!t);(z||p)&&this.b.aa()}}mia(p){this.bh(64,
p)}tx(){return 0!==(this.Fa&64)}Aa(p){const t={x:this.I(),y:this.J(),w:this.M(),h:this.N(),l:this.wa().wb,zi:this.Gm()};0!==this.kb()&&(t.ze=this.kb());0!==this.ca()&&(t.a=this.ca());this.Mo()||(t.c=this.pb.toJSON());.5!==this.bl()&&(t.oX=this.bl());.5!==this.cl()&&(t.oY=this.cl());0!==this.yi()&&(t.bm=this.yi());this.pe()||(t.v=this.pe());this.Mh()||(t.ce=this.Mh());this.hS()&&(t.be=this.hS());this.zf&&(t.fx=this.zf.Aa());const v=0!==(this.Fa&32);v&&(t.sfi=v);this.jj&&(t.sft=[...this.jj].join(" "));
this.Wb&&"visual-state"!==p&&(t.sgi=this.Wb.Aa());this.Jh()&&(t.mesh=this.il().Tb());return t}TD(p){"visual-state"!==p&&this.kha()}Ia(p,t){r=!1;this.sf(p.x);this.Zf(p.y);this.Ze(p.w);this.Ye(p.h);this.aE(p.zi);this.$f(p.hasOwnProperty("ze")?p.ze:0);this.Gc(p.hasOwnProperty("a")?p.a:0);p.hasOwnProperty("c")?a.qm(p.c):p.hasOwnProperty("o")?(a.bt(this.pb),a.wq=p.o):a.kt(1,1,1,1);this.YD(a);this.fu(p.hasOwnProperty("oX")?p.oX:.5);this.gu(p.hasOwnProperty("oY")?p.oY:.5);this.Wf(p.hasOwnProperty("bm")?
p.bm:0);this.re(p.hasOwnProperty("v")?p.v:!0);this.Mx(p.hasOwnProperty("ce")?p.ce:!0);this.KT(p.hasOwnProperty("be")?p.be:!1);this.gK(p.hasOwnProperty("sfi")?p.sfi:!1,p.hasOwnProperty("sft")?p.sft:"");this.zf&&p.hasOwnProperty("fx")&&this.zf.Ia(p.fx);if(p.hasOwnProperty("sgi")&&"visual-state"!==t){this.PK(null);const v=this.Wb,y=p.sgi;v.Ia(y);const z=this.R().Eb(),C=()=>{z.removeEventListener("afterload",C);0===(this.Fa&256)&&v.Ym(y)};z.addEventListener("afterload",C)}p.hasOwnProperty("mesh")?(p=
p.mesh,this.fI(p.cols,p.rows),this.il().Qb(p)):this.XC();this.T();r=!0;this.Cu()}}}"use strict";{const d=self.B;d.BQ=class extends d.ua{constructor(b,c){super();const f=b.R(),a=f.Pn,e=f.Bi(c[1]);a.m5(e)||a.S1(c);this.b=f;this.W=b;this.ck=a.M3(e);this.Va=null;this.sF=e.Instance;this.wb=c[2];this.qa=c[0];this.Kz=this.b.Fj(c[3]);this.Va=d.D(e.$c,this);this.Gb()}static fb(b,c){return d.D(d.BQ,b,c)}j(){this.ck=this.b=null;this.Va.j();this.sF=this.Va=null}Gb(){this.Va.Gb()}R(){return this.b}S(){return this.W}Dh(){return this.ck}Fj(){return this.Kz}}}"use strict";
{const d=self.B,b=self.vx;d.vB=class extends d.ua{constructor(c){super();this.b=c.kd;this.td=c.qP;this.ck=this.td.Dh();this.G=c.instance;this.bb=c.index;this.xf=this.ia=null;this.ck.Oi(this.G)}j(){this.xf&&(this.xf.zy(),this.xf=null);this.ck.tr(this.G);this.ia.j();this.G=this.ck=this.td=this.b=this.xf=this.ia=null}FD(c){if(this.ia)throw Error("already got sdk instance");this.ia=d.D(this.td.sF,this,c);this.Rea()}R(){return this.b}xi(){return this.td}Dh(){return this.ck}Pi(){return this.bb}Tb(){return this.ia.Tb()}Qb(c){return this.ia.Qb(c)}static sK(c,
f){var a=c.G,e=f.G;const h=a.S().Ra(),g=e.S().Ra();if(h!==g)return h-g;a=a.MZ;e=e.MZ;return a!==e?a-e:c.wE.Pi()-f.wE.Pi()}Rea(){const c=this.ia.Sf(),f=c||b;b.Wj(this);this.xf=new f;b.Wj(null);if(c&&!(this.xf instanceof b))throw new TypeError(`script interface class '${c.name}' does not extend the right base class '${b.name}'`);}Jt(){return this.xf}}}"use strict";
{const d=self.B;d.um=class extends d.ua{constructor(b,c){super();this.yc=b;this.Zh=[];this.Yj=[];this.PE=new Map;this.Xi=[];this.Nv=!0;for(const f of c)b=d.D(d.aR,this,f,this.Zh.length),this.Zh.push(b),this.PE.set(b.qa.toLowerCase(),b),3<=f.length&&this.Xi.push(this.hL(f[2]));this.R().aca(this)}j(){d.H(this.Zh);d.H(this.Yj);this.PE.clear();d.H(this.Xi);this.yc=null}s9(b){if(b.length){this.Zh=b.concat(this.Zh);for(const c of b)this.PE.set(c.qa.toLowerCase(),c);for(let c=0,f=this.Zh.length;c<f;++c)this.Zh[c].qia(c)}}hL(b){b=
b.slice(0);for(let c=0,f=b.length;c<f;++c){const a=b[c];if(Array.isArray(a)){const e=d.D(d.sb);e.qm(a);b[c]=e}}return b}R(){return this.yc.R()}gp(){d.H(this.Yj);let b=!0;for(const c of this.Zh)c.Nb&&(this.Yj.push(c),c.Ab.Nv||(b=!1));this.Nv=b}Ch(){return this.Zh}i5(){return 0<this.Zh.length}zm(b){return this.PE.get(b.toLowerCase())||null}tR(b){b=Math.floor(+b);if(0>b||b>=this.Zh.length)throw new RangeError("invalid effect type index");return this.Zh[b]}xx(b){return this.tR(b).Nb}RT(b,c){this.tR(b).$C(c)}tx(){return 0<
this.Yj.length}Eh(b){return this.Xi[b]}static i$(b){return b&&b instanceof d.sb?{t:"color",v:b.toJSON()}:b}static v7(b){if("object"===typeof b){if("color"===b.t){const c=d.D(d.sb);c.qm(b.v);return c}throw Error("invalid effect parameter type");}return b}static GT(b){return b.map(d.um.i$)}static CS(b){return b.map(d.um.v7)}Tb(){return this.Zh.map(b=>({name:b.qa,active:b.Nb,params:d.um.GT(this.Xi[b.Ra()])}))}Qb(b){for(const c of b)if(b=this.zm(c.name))b.$C(c.active),this.Xi[b.Ra()]=d.um.CS(c.params);
this.gp()}}}"use strict";
{const d=self.B;d.aR=class extends d.ua{constructor(b,c,f){super();this.$a=b;this.Ld=c[0];this.qa=c[1];this.bb=f;this.Ab=null;this.Nb=!0}j(){this.Ab=this.$a=null}B1(b){b=d.D(d.aR,b,[this.Ld,this.qa],-1);b.Ab=this.Ab;b.Nb=this.Nb;return b}QV(b){b=b.PR(this.Ld);if(!b)throw Error("failed to find shader program '"+this.Ld+"'");this.Ab=b}qia(b){this.bb=b}Ra(){return this.bb}R(){return this.$a.R()}$C(b){this.Nb=!!b}Y3(){const b=[];for(let c=0,f=this.Ab.Vs.length;c<f;++c){const a=this.Ab.lC(c);if("float"===
a||"percent"===a)b.push(0);else if("color"===a)b.push(d.D(d.sb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}"use strict";
{const d=self.B;d.y6=class extends d.ua{constructor(b,c){super();this.G=b;this.Pka=c;this.$a=b.S().$a;this.Cr=[];this.Yj=[];this.Nv=!0;this.Xi=[];for(const f of this.$a.Ch())this.Cr.push(!0);this.gp()}j(){d.H(this.Cr);d.H(this.Yj);d.H(this.Xi);this.$a=this.G=null}nfa(b){for(const c of b)this.Xi.push(this.hL(c))}hL(b){b=b.slice(0);for(let c=0,f=b.length;c<f;++c){const a=b[c];if(Array.isArray(a)){const e=d.D(d.sb);e.qm(a);b[c]=e}}return b}t7(){for(const b of this.$a.Ch())this.Xi.push(b.Y3())}R(){return this.G.R()}gp(){d.H(this.Yj);
const b=this.$a.Ch(),c=this.Yj,f=this.Cr;let a=!0;for(let e=0,h=b.length;e<h;++e)if(f[e]){const g=b[e];c.push(g);g.Ab.Nv||(a=!1)}this.Nv=a;this.Pka.mia(!!c.length)}Eh(b){return this.Xi[b]}xx(b){return this.Cr[b]}RT(b,c){this.Cr[b]=!!c}Ch(){return this.$a.Ch()}Aa(){return this.$a.Ch().map(b=>({name:b.qa,active:this.Cr[b.Ra()],params:d.um.GT(this.Xi[b.Ra()])}))}Ia(b){for(const c of b)if(b=this.$a.zm(c.name))this.Cr[b.Ra()]=c.active,this.Xi[b.Ra()]=d.um.CS(c.params);this.gp()}}}"use strict";
{const d=self.B,b=[],c=[],f=[],a=d.D(d.Iq),e=d.D(d.Iq),h=d.D(d.Td);d.D(d.Rect);d.D(d.Rect);d.C1=class extends d.ua{constructor(g){super();this.b=g;this.kA=[]}j(){this.b=null}cr(g,m){const q=g.C(),l=m.C();q&&l&&q.Mh()&&l.Mh()&&this.kA.push([g,m])}yQ(g,m,q){for(const [l,r]of this.kA){let p;if(g===l)p=r;else if(g===r)p=l;else continue;p.tt(m)&&(q.includes(p)||q.push(p))}}LQ(g,m){if(!this.kA.length)return!1;for(const [q,l]of this.kA)if(g===q&&m===l||g===l&&m===q)return!0;return!1}MQ(){d.H(this.kA)}te(g,
m){if(!g||!m||g===m)return!1;g=g.C();m=m.C();if(!g.Mh()||!m.Mh())return!1;const q=g.wa(),l=m.wa();return q.f7(l)?this.Zia(g,m):this.Yia(g,m)}Zia(g,m){if(!g.ub().eB(m.ub())||!g.Co().V_(m.Co())||g.Sq()&&m.Sq())return!1;if(g.Sq())return this.uU(g,m);if(m.Sq())return this.uU(m,g);if(!g.xC()&&!m.xC())return!0;const q=g.Lo(),l=m.Lo();return q.dB(l,m.I()-g.I(),m.J()-g.J())}Yia(g,m){var q=g.wa();const l=m.wa();a.Ga(g.Lo());e.Ga(m.Lo());var r=a.je;for(let p=0,t=r.length;p<t;p+=2){const v=p+1,y=r[v],[z,C]=
q.St(r[p]+g.I(),y+g.J());r[p]=z;r[v]=C}g=e.je;for(let p=0,t=g.length;p<t;p+=2){q=p+1;r=g[q];const [v,y]=l.St(g[p]+m.I(),r+m.J());g[p]=v;g[q]=y}a.k0();e.k0();return a.dB(e,0,0)}uU(g,m){const q=m.ub(),l=g.I(),r=g.J();var p=g.Na().ia;g=m.I();const t=m.J(),v=m.xC(),y=m.Co();p.U3(q,c);for(let w=0,E=c.length;w<E;++w){var z=c[w];p=z.Rn;if(q.Mla(p,l,r)&&(h.wj(p),h.offset(l,r),h.V_(y)))if(v){var C=m.Lo();if(z=z.oG){if(z.dB(C,g-(l+p.P),t-(r+p.O)))return d.H(c),!0}else if(a.hQ(h,0,0),a.dB(C,g,t))return d.H(c),
!0}else if(C=z.oG){if(a.hQ(y,0,0),C.dB(a,-(l+p.P),-(r+p.O)))return d.H(c),!0}else return d.H(c),!0}d.H(c);return!1}vD(g,m,q){const l=g.ea();var r=this.b.ec();if(!r)throw Error("cannot call outside event");r=r.Me;if(l.Mc){l.uf(!1);d.H(l.L);for(var p of g.za()){var t=p.C(),v=t.wa();const [y,z]=v.Bo(m,q,t.Ci());t.Nw(y,z)?l.rr(p):r&&l.np(p)}}else{p=r?l.Kc:l.L;t=0;for(let y=0,z=p.length;y<z;++y){v=p[y];const C=v.C(),w=C.wa(),[E,H]=w.Bo(m,q,C.Ci());C.Nw(E,H)?r?l.rr(v):p[t++]=v:r&&(p[t++]=v)}p.length=t}g.Dc();
return l.bJ()}aC(g,m,q,l){g=g?1!==g.jg||1!==g.kg:!1;if(m.mb)for(const r of m.Ur)g||r.eM?d.mm(l,r.za()):(r.uX(),r.FE.WC(q,l));else g||m.eM?d.mm(l,m.za()):(m.uX(),m.FE.WC(q,l))}IR(g,m,q,l){for(const r of m)this.aC(g,r,q,l)}T4(g,m,q){const l=this.b.ZI();l&&this.IR(g,l.kC(),m,q)}B4(g,m,q){const l=this.b.GI();l&&this.IR(g,l.kC(),m,q)}IC(g,m){return g.WV()&&(!m||m.C().IC(g.Ih().get("solidTags")))}Zc(g){const m=g.C();this.T4(m.wa(),m.ub(),b);for(const q of b)if(this.IC(q,g)&&this.te(g,q))return d.H(b),q;
d.H(b);return null}ul(g,m){let q=null;m&&(q=f,d.H(q));const l=g.C();this.B4(l.wa(),l.ub(),b);for(const r of b)if(r.dfa()&&this.te(g,r))if(m)q.push(r);else return d.H(b),r;d.H(b);return q}x9(g,m,q,l,r){l=l||50;const p=g.C(),t=p.I(),v=p.J();for(let y=0;y<l;++y)if(p.ib(t+m*y,v+q*y),p.T(),!this.te(g,r))return;p.ib(t,v);p.T()}Dg(g,m,q,l,r,p){l=l||50;const t=g.C(),v=t.I(),y=t.J();let z=null,C=null;for(let w=0;w<l;++w)if(t.ib(v+m*w,y+q*w),t.T(),!this.te(g,z))if(z=this.Zc(g))C=z;else if(r&&(z=p?this.te(g,
p)?p:null:this.ul(g))&&(C=z),!z)return C&&this.Ix(g,m,q,C,16,!0),!0;t.ib(v,y);t.T();return!1}JJ(g,m,q,l){l=l||50;const r=g.C(),p=r.I(),t=r.J();let v=null,y=null;for(let z=0;z<l;++z)for(let C=0;2>C;++C){const w=2*C-1;r.ib(p+m*z*w,t+q*z*w);r.T();if(!this.te(g,v))if(v=this.Zc(g))y=v;else return y&&this.Ix(g,m*w,q*w,y,16,!0),!0}r.ib(p,t);r.T();return!1}Ix(g,m,q,l,r,p){let t=2,v=!1;var y=!1;const z=g.C();let C=z.I(),w=z.J();for(;t<=r;)y=1/t,t*=2,z.Dd(m*y*(v?1:-1),q*y*(v?1:-1)),z.T(),this.te(g,l)||p&&this.Zc(g)?
y=v=!0:(y=v=!1,C=z.I(),w=z.J());y&&(z.ib(C,w),z.T())}KJ(g,m=100){let q=0;const l=g.C(),r=l.I(),p=l.J();let t=0,v=this.Zc(g);if(!v)return!0;for(;q<=m;){let y=0,z=0;switch(t){case 0:y=0;z=-1;q++;break;case 1:y=1;z=-1;break;case 2:y=1;z=0;break;case 3:z=y=1;break;case 4:y=0;z=1;break;case 5:y=-1;z=1;break;case 6:y=-1;z=0;break;case 7:z=y=-1}t=(t+1)%8;l.ib(Math.floor(r+y*q),Math.floor(p+z*q));l.T();if(!this.te(g,v)&&(v=this.Zc(g),!v))return!0}l.ib(r,p);l.T();return!1}GQ(g,m,q,l){const r=g.C(),p=r.I(),
t=r.J(),v=Math.max(10,d.Be(m,q,p,t));var y=d.uh(m,q,p,t),z=l||this.Zc(g);if(!z)return d.Cc(y+Math.PI);let C=z;var w=0,E=0;const H=d.Ma(5);let M;for(M=1;36>M;++M){const N=y-M*H;r.ib(m+Math.cos(N)*v,q+Math.sin(N)*v);r.T();if(!this.te(g,C)&&(C=l?null:this.Zc(g),!C)){w=N;break}}36===M&&(w=d.Cc(y+Math.PI));C=z;for(M=1;36>M;++M)if(z=y+M*H,r.ib(m+Math.cos(z)*v,q+Math.sin(z)*v),r.T(),!this.te(g,C)&&(C=l?null:this.Zc(g),!C)){E=z;break}36===M&&(E=d.Cc(y+Math.PI));r.ib(p,t);r.T();if(E===w)return E;g=d.yq(E,
w)/2;g=d.sg(E,w)?d.Cc(w+g+Math.PI):d.Cc(E+g);w=Math.cos(y);y=Math.sin(y);E=Math.cos(g);g=Math.sin(g);m=w*E+y*g;return d.uh(0,0,w-2*m*E,y-2*m*g)}}}"use strict";
{const d=self.B;d.aba=class extends d.ua{constructor(b,c){super();this.cf=b;this.wf=c;this.gk=d.D(d.Ex)}j(){this.gk.j();this.gk=null}Eo(b,c,f){let a=this.gk.ja(b,c);return a?a:f?(a=d.D(d.e5,this,b,c),this.gk.Set(b,c,a),a):null}Rj(b){b=Math.floor(b/this.cf);return isFinite(b)?b:0}Sj(b){b=Math.floor(b/this.wf);return isFinite(b)?b:0}tf(b,c,f){if(c)for(let a=c.P,e=c.V;a<=e;++a)for(let h=c.O,g=c.U;h<=g;++h){if(f&&f.tg(a,h))continue;const m=this.Eo(a,h,!1);m&&(m.Ei(b),m.Yq()&&this.gk.Jq(a,h))}if(f)for(let a=
f.P,e=f.V;a<=e;++a)for(let h=f.O,g=f.U;h<=g;++h)c&&c.tg(a,h)||this.Eo(a,h,!0).kJ(b)}WC(b,c){let f=this.Rj(b.P);const a=this.Sj(b.O),e=this.Rj(b.V);b=this.Sj(b.U);if(isFinite(e)&&isFinite(b))for(;f<=e;++f)for(let h=a;h<=b;++h){const g=this.Eo(f,h,!1);g&&g.iI(c)}}}}"use strict";{const d=self.B;d.e5=class extends d.ua{constructor(b,c,f){super();this.Y=c;this.X=f;this.L=d.D(d.TH)}j(){this.L.j();this.L=null}Yq(){return this.L.Yq()}kJ(b){this.L.Qc(b)}Ei(b){this.L.Jq(b)}iI(b){d.mm(b,this.L.pI())}}}"use strict";
{const d=self.B;d.Qua=class{constructor(){this.ula=this.tla=0;this.rect=new d.Rect;this.$A=0}Set(b,c,f,a){this.tla=f-b;this.ula=a-c;this.rect.set(b,c,f,a);this.rect.normalize();this.$A=0;return this}}}"use strict";
{const d=self.B,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),c=new Set(["high","low"]),f=d.D(d.Td),a=d.D(d.Rect);d.ZH=class extends d.ua{constructor(e){super();this.b=e;this.hb=this.hn=null;this.qY="high-performance";this.xp=this.vp=this.Ti=this.Ui=this.Jd=this.Ud=this.jm=this.km=0;this.$u=!0;this.nn=this.pn=this.p_=0;this.ZX=this.iY="letterbox-scale";this.Mja=this.Lja=0;this.yk=this.kP="high";this.ds=!1;this.Qy=[];this.ZG=new Set;this.fF=this.BO=
null;this.Hp=this.hF=0;this.iz=NaN;this.gF=0;this.GN=new Map;this.zG="";this.GO=1;this.f_=d.D(d.Rect);this.HO="";this.g_=this.xA=null;this.Uz=0;this.Gf=-1;this.Sp=0;this.ON=h=>this.Sp=h.progress;this.Ng=null;this.Og={jB:null,lB:null,tB:null};this.MO=this.j_=this.NO=0;this.Pk="fade-in";this.LO=null;this.i_=new Promise(h=>this.LO=h)}jia(e){this.qY=e}async ti(e){this.hn=e.canvas;this.hn.addEventListener("webglcontextlost",g=>this.yy(g));this.hn.addEventListener("webglcontextrestored",()=>this.qL());
const h={powerPreference:this.qY,P_:!0,depth:this.b.sq};"Android"===d.lb.Vt&&"Chromium"===d.lb.xB&&75>d.lb.WH&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.MP=1);"standard"===this.b.Nu?h.alpha=!0:(h.alpha=!1,h.LP=!0);this.hb=d.D(d.Da.Pba,this.hn,h);await this.hb.zC();this.hb.sl()||(this.gF=NaN);this.b.xj("runtime","window-resize",g=>this.rL(g));this.b.xj("runtime","fullscreenchange",g=>this.fga(g));
this.b.xj("runtime","fullscreenerror",g=>this.gga(g));this.ds=!!e.isFullscreen;this.vc(e.windowInnerWidth,e.windowInnerHeight,!0);this.BO=self.C3_Shaders;await this.$V();e=!1;for(const g of this.b.ZL){for(const m of g.Ch())m.QV(this.hb),m.Ab.PA&&(e=!0);g.gp()}this.b.Kia(e);this.hb.sl()&&(this.fF=d.D(d.Da.GU,this.hb));this.hb.dK(this.$u)}async $V(){if(this.BO){var e=[];for(const [h,g]of Object.entries(this.BO))e.push(this.hb.UQ(g,d.Da.gy.wI(),h));await Promise.all(e);this.hb.W9();this.hb.Ki()}}j(){this.hn=
this.hb=this.b=null}rL(e){const h=e.devicePixelRatio;this.b.gg&&(self.devicePixelRatio=h);this.b.eia(h);this.ds=!!e.isFullscreen;this.vc(e.innerWidth,e.innerHeight);this.b.aa()}fga(e){this.ds=!!e.isFullscreen;this.vc(e.innerWidth,e.innerHeight,!0);this.b.aa()}gga(e){this.ds=!!e.isFullscreen;this.vc(e.innerWidth,e.innerHeight,!0);this.b.aa()}vc(e,h,g=!1){e=Math.floor(e);h=Math.floor(h);if(0>=e||0>=h)throw Error("invalid size");if(this.km!==e||this.jm!==h||g){this.km=e;this.jm=h;g=this.hx();"letterbox-scale"===
g?this.sca(e,h):"letterbox-integer-scale"===g?this.rca(e,h):"off"===g?this.pca(e,h):this.qca(e,h);this.lja(g);this.hn.width=this.Ui;this.hn.height=this.Ti;this.b.Om("canvas","update-size",{marginLeft:this.vp,marginTop:this.xp,styleWidth:this.Ud,styleHeight:this.Jd});this.hb.vc(this.Ui,this.Ti,!0);for(const m of this.Qy)this.hb.o2(m);d.H(this.Qy)}}sca(e,h){const g=this.b.xm(),m=this.b.jf,q=this.b.hf,l=m/q;e/h>l?(this.Ud=Math.round(h*l),this.Jd=h,this.vp=Math.floor((e-this.Ud)/2),this.xp=0):(this.Ud=
e,this.Jd=Math.round(e/l),this.vp=0,this.xp=Math.floor((h-this.Jd)/2));this.Ui=Math.round(this.Ud*g);this.Ti=Math.round(this.Jd*g);this.b.cy(m,q)}rca(e,h){const g=this.b.xm();1!==g&&(e+=1,h+=1);const m=this.b.jf,q=this.b.hf;var l=m/q;l=e/h>l?h*l*g/m:e/l*g/q;1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l));this.Ui=Math.round(m*l);this.Ti=Math.round(q*l);this.Ud=this.Ui/g;this.Jd=this.Ti/g;this.vp=Math.max(Math.floor((e-this.Ud)/2),0);this.xp=Math.max(Math.floor((h-this.Jd)/2),0);this.b.cy(m,q)}qca(e,
h){const g=this.b.xm();this.Ud=e;this.Jd=h;this.Ui=Math.round(this.Ud*g);this.Ti=Math.round(this.Jd*g);this.xp=this.vp=0;e=this.ym();this.b.cy(this.Ud/e,this.Jd/e)}pca(e,h){const g=this.b.xm();this.Ud=this.b.rj;this.Jd=this.b.qj;this.Ui=Math.round(this.Ud*g);this.Ti=Math.round(this.Jd*g);this.ds?(this.vp=Math.floor((e-this.Ud)/2),this.xp=Math.floor((h-this.Jd)/2)):this.xp=this.vp=0;this.b.cy(this.b.rj,this.b.qj)}lja(e){if("high"===this.kP)this.pn=this.Ui,this.nn=this.Ti,this.yk="high";else{let g;
if("off"===this.hx()){var h=this.b.rj;g=this.b.qj}else h=this.b.jf,g=this.b.hf;this.Ui<h&&this.Ti<g?(this.pn=this.Ui,this.nn=this.Ti,this.yk="high"):(this.pn=h,this.nn=g,this.yk="low","scale-inner"===e?(e=h/g,h=this.km/this.jm,h<e?this.pn=this.nn*h:h>e&&(this.nn=this.pn/h)):"scale-outer"===e&&(e=h/g,h=this.km/this.jm,h>e?this.pn=this.nn*h:h<e&&(this.nn=this.pn/h)))}}S$(e){if(!b.has(e))throw Error("invalid fullscreen mode");this.iY=e}fC(){return this.iY}F$(e){if(!b.has(e))throw Error("invalid fullscreen mode");
this.ZX=e}hx(){return this.ds?this.ZX:this.fC()}ST(e){if(!c.has(e))throw Error("invalid fullscreen scaling quality");this.kP=e}static tV(e){switch(e){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Zk(){return this.pn}Yk(){return this.nn}dK(e){this.$u=!!e}Jia(e){this.p_=e}h7(){return this.hb.Wq()}yy(e){console.log("[Construct 3] WebGL context lost");
e.preventDefault();this.Qy=[];this.ZG.clear();this.hb.Nm();this.b.yy()}async qL(){await this.hb.EJ();await this.$V();for(const e of this.b.ZL)for(const h of e.Ch())h.QV(this.hb);await this.b.qL();console.log("[Construct 3] WebGL context restored")}oe(){return this.hb}Em(){return"low"===this.yk?1/this.b.xm():this.ym()}ym(){const e=this.hx();if("off"===e||"crop"===e)return 1;const h=this.b.jf,g=this.b.hf,m=h/g,q=this.Ui/this.Ti;return"scale-inner"!==e&&q>m||"scale-inner"===e&&q<m?this.Jd/g:this.Ud/
h}PT(e,h,g){h=(h||this.pn)/2+this.Lja;g=(g||this.nn)/2+this.Mja;e.bD(h,g,100*this.b.xm());e.rD(h,g,0);e.YC();e.fy()}y$(e){const h=this.Ud/2,g=this.Jd/2;e.bD(h,g,100);e.rD(h,g,0);e.YC();e.fy()}ax(){return this.vp}bx(){return this.xp}Yw(e){e.depth=this.b.sq;const h=this.Qy,g=h.findIndex(q=>q.H6(e));let m;-1!==g?(m=h[g],h.splice(g,1)):m=this.hb.Y1(e);this.ZG.add(m);return m}Wo(e){if(!this.ZG.has(e))throw Error("render target not in use");this.ZG.delete(e);this.Qy.push(e)}*gH(){for(const e of this.b.Hb.pB())for(const h of e.Vd){const g=
this.GN.get(h);g&&(yield g)}}H4(e){if(!this.hb.sl())return null;let h=this.GN.get(e);h||(h={name:e.qa,nQ:d.D(d.Da.GU,this.hb),jH:0,Xla:0},this.GN.set(e,h));return h.nQ}ija(){if(this.hb.sl()&&0===this.Hp){this.Hp=this.hb.wk;this.iz=NaN;for(const e of this.gH())e.jH=NaN}}nja(){if(this.hb.sl()&&isNaN(this.iz)&&(this.iz=this.fF.AR(this.hF,this.Hp),!isNaN(this.iz))){if(this.b.Sb)for(const e of this.gH())if(e.jH=e.nQ.AR(this.hF,this.Hp),isNaN(e.jH))return;this.fF.XQ(this.Hp);this.gF=Math.min(this.iz,1);
if(this.b.Sb){for(const e of this.gH())e.nQ.XQ(this.Hp),e.Xla=Math.min(e.jH,1);self.zj.pza(this.gF,[...this.gH()])}this.hF=this.Hp;this.Hp=0}}hC(){return this.gF}oU(e,h,g,m,q,l){this.zG=e;this.GO=h;this.f_.Rg(g,m,q,l);return this.xA?this.xA:this.xA=new Promise(r=>{this.g_=r})}Nfa(){if(this.zG){var e=this.hn,h=this.f_,g=d.ba(Math.floor(h.P),0,e.width),m=d.ba(Math.floor(h.O),0,e.height),q=h.width();q=0===q?e.width-g:d.ba(Math.floor(q),0,e.width-g);h=h.height();h=0===h?e.height-m:d.ba(Math.floor(h),
0,e.height-m);(0!==g||0!==m||q!==e.width||h!==e.height)&&0<q&&0<h&&(e=d.ti(q,h),e.getContext("2d").drawImage(this.hn,g,m,q,h,0,0,q,h));d.zB(e,this.zG,this.GO).then(l=>{this.HO=URL.createObjectURL(l);this.xA=null;this.g_(this.HO)});this.zG="";this.GO=1}}g6(e){2===e?(this.Ng=d.D(d.Da.rT,this.hb),this.Ng.aaa(),this.Ng.P$(),this.Ng.Q$(),this.Ng.V$(),this.Ng.Raa(),this.Ng.vc(300,200)):0===e?(e=this.b.Ev)&&e.Kj(this.hb).catch(h=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",h)):
4===e&&(this.zfa().then(h=>{"done"===this.Pk?this.hb.Vk(h):this.Og.jB=h}).catch(h=>console.warn("Failed to load splash image: ",h)),this.ZV("splash-images/splash-poweredby-512.png").then(h=>{"done"===this.Pk?this.hb.Vk(h):this.Og.lB=h}).catch(h=>console.warn("Failed to load splash image: ",h)),this.ZV("splash-images/splash-website-512.png").then(h=>{"done"===this.Pk?this.hb.Vk(h):this.Og.tB=h}).catch(h=>console.warn("Failed to load splash image: ",h)))}async zfa(){var e=(new URL("splash-images/splash-logo.svg",
this.b.rI())).toString();e=await d.wm(e);e=await this.b.A9(e);return await this.hb.JB(e,{kB:"high"})}async ZV(e){e=(new URL(e,this.b.rI())).toString();e=await d.wm(e);return await this.hb.JB(e,{kB:"high"})}gJ(){this.b.Om("runtime","hide-cordova-splash")}gba(){this.Uz=Date.now();this.b.Eb().addEventListener("loadingprogress",this.ON);this.Gf=requestAnimationFrame(()=>this.lV());3!==this.b.Dv&&this.gJ()}async q3(){this.Sp=1;const e=this.b.Dv;4===e&&await this.i_;this.i_=this.LO=null;-1!==this.Gf&&(cancelAnimationFrame(this.Gf),
this.Gf=-1);this.b.Eb().removeEventListener("loadingprogress",this.ON);this.ON=null;this.Ng&&(this.Ng.j(),this.Ng=null);this.b.G9();this.hb.fp();this.Og.jB&&(this.hb.Vk(this.Og.jB),this.Og.jB=null);this.Og.lB&&(this.hb.Vk(this.Og.lB),this.Og.lB=null);this.Og.tB&&(this.hb.Vk(this.Og.tB),this.Og.tB=null);this.hb.Mw();this.hb.Vw();this.Pk="done";this.hF=this.hb.wk;3===e&&this.gJ()}lV(){if(-1!==this.Gf){var e=this.hb;e.fp();this.Gf=-1;var h=this.b.Mb.UM,g=this.b.Dv;3!==g&&(this.y$(e),e.Mw(),e.$t(),e.Ki(),
e.Yf(null));if(0===g)this.Ida(h);else if(1===g)this.ID(h,120,0);else if(2===g)this.Hda(h);else if(3===g)d.noop();else if(4===g)this.Jda(h);else throw Error("invalid loader style");e.Vw();this.Gf=requestAnimationFrame(()=>this.lV())}}Hda(e){e?this.Ng.LT(1,0,0):this.Ng.LT(.6,.6,.6);this.Ng.mu(Math.round(100*this.Sp)+"%");e=this.Ud/2;const h=this.Jd/2;f.m0(e-150,h-100,e+150,h+100);this.hb.Yf(this.Ng.Rd());this.hb.Pm(f,this.Ng.Yg())}ID(e,h,g){const m=this.hb;m.ZJ();e?m.Fg(1,0,0,1):m.Fg(.118,.565,1,1);
e=this.Ud/2;const q=this.Jd/2,l=h/2;a.Rg(e-l,q-4+g,Math.floor(h*this.Sp),8);m.Rect(a);a.Rg(e-l,q-4+g,h,8);a.offset(-.5,-.5);a.tH(.5,.5);m.Fg(0,0,0,1);m.zS(a);a.tH(1,1);m.Fg(1,1,1,1);m.zS(a)}Ida(e){var h=this.b.Ev;if(h)if(h=h.Rd()){var g=h.M(),m=h.N(),q=this.Ud/2,l=this.Jd/2,r=g/2;m/=2;f.m0(q-r,l-m,q+r,l+m);this.hb.Yf(h);this.hb.Td(f);this.ID(e,g,m+16)}else this.ID(e,120,0);else this.ID(e,120,0)}Jda(e){const h=this.hb,g=this.Og.jB,m=this.Og.lB,q=this.Og.tB,l=Date.now();0===this.NO&&(this.Uz=l);const r=
this.b.Qt()||this.b.$ja&&!this.b.I6(),p=r?0:200,t=r?0:3E3;let v=1;"fade-in"===this.Pk?v=Math.min((l-this.Uz)/300,1):"fade-out"===this.Pk&&(v=Math.max(1-(l-this.MO)/300,0));h.ZJ();h.Fg(.231*v,.251*v,.271*v,v);a.set(0,0,this.Ud,this.Jd);h.Rect(a);const y=Math.ceil(this.Ud),z=Math.ceil(this.Jd);let C;256<this.Jd?(h.Fg(.302*v,.334*v,.365*v,v),C=Math.max(.005*z,2),a.Rg(0,.8*z-C/2,y,C),h.Rect(a),e?h.Fg(v,0,0,v):h.Fg(.161*v,.953*v,.816*v,v),e=y*this.Sp,a.Rg(.5*y-e/2,.8*z-C/2,e,C),h.Rect(a),h.Fg(v,v,v,v),
h.Ki(),m&&(e=1.5*d.ba(.22*z,105,.6*y),C=e/8,a.Rg(.5*y-e/2,.2*z-C/2,e,C),h.Yf(m),h.Rect(a)),g&&(C=e=Math.min(.395*z,.95*y),a.Rg(.5*y-e/2,.485*z-C/2,e,C),h.Yf(g),h.Rect(a)),q&&(e=1.5*d.ba(.22*z,105,.6*y),C=e/8,a.Rg(.5*y-e/2,.868*z-C/2,e,C),h.Yf(q),h.Rect(a))):(h.Fg(.302*v,.334*v,.365*v,v),C=Math.max(.005*z,2),a.Rg(0,.85*z-C/2,y,C),h.Rect(a),e?h.Fg(v,0,0,v):h.Fg(.161*v,.953*v,.816*v,v),e=y*this.Sp,a.Rg(.5*y-e/2,.85*z-C/2,e,C),h.Rect(a),h.Fg(v,v,v,v),h.Ki(),g&&(C=e=.55*z,a.Rg(.5*y-e/2,.45*z-C/2,e,C),
h.Yf(g),h.Rect(a)));this.NO++;"fade-in"===this.Pk&&300<=l-this.Uz&&2<=this.NO&&(this.Pk="wait",this.j_=l);"wait"===this.Pk&&l-this.j_>=t&&1<=this.Sp&&(this.Pk="fade-out",this.MO=l);("fade-out"===this.Pk&&l-this.MO>=300+p||r&&1<=this.Sp&&500>l-this.Uz)&&this.LO()}}}"use strict";
{const d=self.B,b=self.zj,c={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let f=!0;d.FT=class extends d.ua{constructor(a){a=Object.assign({},c,a);super();this.$z=a.messagePort;this.zja=a.baseUrl;this.gg=!!a.isInWorker;f=a.ife;this.sk=a.exportType;this.uN=!!a.isiOSCordova;this.$ja=!!a.isFBInstantAvailable;this.wka=a.opusWasmScriptUrl;this.AZ=a.opusWasmBinaryUrl;this.Bf=this.Gja=this.Sb=!("preview"!==this.sk||!a.isDebug);this.wM=0;this.lE=
[];this.tja=[];this.sO=this.LZ=this.qG="";this.hf=this.jf=0;this.UX=self.devicePixelRatio;this.Dv=this.qj=this.rj=this.gO=this.fO=0;this.$G=!1;this.Ll=!0;this.hP=!1;this.Ev=null;this.Mb=d.D(d.c1,this,a);this.Hb=d.D(d.m7,this);this.Ha=d.D(d.u3,this);this.Pn=d.D(d.m9,this);this.wc=d.D(d.C1,this);this.Xb=d.D(d.sba,this);this.UO=d.D(d.xba,this);this.Gd=[];this.ZN=new Map;this.$N=new Map;this.fY=0;this.vja=[];this.ZL=[];this.Qu=[];this.xn=[];this.uF=new Map;this.kF=!1;this.bA=this.aO=0;this.$r=new Map;
this.bs=new Set;this.vF=new Set;this.eG=[];this.XY=[];this.ra=null;this.sq=!1;this.MM="vsync";this.Nu="standard";this.Lc="trilinear";this.Ek=!1;this.XN=!0;this.rN=this.GZ=!1;this.Kka={c0:e=>{this.Wn=this.Gf=-1;this.oc(e)},Jma:e=>{this.Wn=-1;this.oc(e,!1,"skip-render")},yma:()=>{this.Gf=-1;this.qT()}};this.Wn=this.Gf=-1;this.bv=this.gq=this.Zl=0;this.BY=this.Dz=this.lF=!1;this.oN=!0;this.Zv=0;this.Dka=new d.IJ(1);this.Bka=()=>Math.random();this.ME=this.Cp=this.UF=this.fq=0;this.Pe=1;this.vZ=30;this.QM=
d.D(d.zx);this.jP=d.D(d.zx);this.bF=-1;this.aG=this.Gn=this.aF=this.Wr=0;this.Ml=!1;this.Tz=this.oA="";this.Cv=null;this.ts="";this.yO=this.rO=null;this.tc=d.D(d.Event.Eb);this.BM=new Map;this.iO=new Map;this.ska=0;this.TY=this.VX=this.WX=!1;this.iP=[];this.Tr={pretick:d.D(d.Event,"pretick",!1),tick:d.D(d.Event,"tick",!1),tick2:d.D(d.Event,"tick2",!1),instancedestroy:d.D(d.Event,"instancedestroy",!1),beforelayoutchange:d.D(d.Event,"beforelayoutchange",!1),layoutchange:d.D(d.Event,"layoutchange",!1)};
this.Tr.instancedestroy.instance=null;this.qf=d.D(d.Event.Eb);this.v_=null;this.sp=d.D(d.br,d.vB.sK);this.rp=d.D(d.br,d.vB.sK);this.tp=d.D(d.br,d.vB.sK);this.Iz=d.D(d.j7,this,a.jobScheduler);a.canvas&&(this.ra=d.D(d.ZH,this));this.$z.onmessage=e=>this._OnMessageFromDOM(e.data);this.xj("runtime","visibilitychange",e=>this.Fga(e));this.xj("runtime","opus-decode",e=>this.pja(e.arrayBuffer));this.xj("runtime","get-remote-preview-status-info",()=>this.vea());this.xj("runtime","js-invoke-function",e=>this.QD(e));
this.xj("runtime","go-to-last-error-script",self.goToLastErrorScript);this.tc.addEventListener("window-blur",e=>this.Gga(e));this.tc.addEventListener("window-focus",()=>this.Hga());this.Xb.R0();this.Ak=null;this.Wja=new WeakMap;this.az={keyboard:null,$_:null,pQ:null}}static fb(a){return d.D(d.FT,a)}j(){d.H(this.Gd);this.ZN.clear();this.$N.clear();this.Hb.j();this.Hb=null;this.Ha.j();this.Ha=null;this.Pn.j();this.Pn=null;this.Mb.j();this.Mb=null;this.wc.j();this.wc=null;this.Xb.j();this.Xb=null;this.UO.j();
this.UO=null;this.ra&&(this.ra.j(),this.ra=null);this.tc.j();this.tc=null}["_OnMessageFromDOM"](a){const e=a.type;if("event"===e)this.nW(a);else if("result"===e)this.yga(a);else throw Error(`unknown message '${e}'`);}nW(a){if(this.TY){var e=a.component,h=a.handler,g=a.data,m=a.dispatchOpts,q=!(!m||!m.dispatchRuntimeEvent);m=!(!m||!m.dispatchUserScriptEvent);var l=a.responseId;if("runtime"===e&&(q&&(a=new d.Event(h),a.data=g,this.tc.qla(a)),m)){a=new d.Event(h,!0);for(const [r,p]of Object.entries(g))a[r]=
p;this.vi(a)}if(a=this.BM.get(e))if(a=a.get(h)){q=null;try{q=a(g)}catch(r){console.error(`Exception in '${e}' handler '${h}':`,r);null!==l&&this.VD(l,!1,""+r);return}null!==l&&(q&&q.then?q.then(r=>this.VD(l,!0,r)).catch(r=>{console.error(`Rejection from '${e}' handler '${h}':`,r);this.VD(l,!1,""+r)}):this.VD(l,!0,q))}else q||m||console.warn(`[Runtime] No DOM handler '${h}' for component '${e}'`);else q||m||console.warn(`[Runtime] No DOM event handlers for component '${e}'`)}else this.iP.push(a)}VD(a,
e,h){this.$z.postMessage({type:"result",responseId:a,isOk:e,result:h})}yga(a){const e=a.responseId,h=a.isOk;a=a.result;const g=this.iO.get(e);h?g.resolve(a):g.reject(a);this.iO.delete(e)}xj(a,e,h){let g=this.BM.get(a);g||(g=new Map,this.BM.set(a,g));if(g.has(e))throw Error(`[Runtime] Component '${a}' already has handler '${e}'`);g.set(e,h)}Om(a,e,h){this.$z.postMessage({type:"event",component:a,handler:e,data:h,responseId:null})}Vo(a,e,h){const g=this.ska++,m=new Promise((q,l)=>{this.iO.set(g,{resolve:q,
reject:l})});this.$z.postMessage({type:"event",component:a,handler:e,data:h,responseId:g});return m}r9(){if(!this.Sb)throw Error("not in debug mode");this.Om("runtime","post-to-debugger",{type:"reload"})}async Tf(a){this.Sb?await b.Tf(this):self.zj&&self.zj.Wqa(this);var [e]=await Promise.all([this.Mb.hR("data.json"),this.Lfa(),this.Iz.Tf()]);this.lfa(e);await this.Tea(a);this.Qt()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");e=this.oe();console.info(`[C3 runtime] Hosted in ${this.gg?
"worker":"DOM"}, rendering with WebGL ${e.Ae} [${e.NA}] (${e.K6()?"desynchronized":"standard"} compositing)`);e.yY&&console.warn("[C3 runtime] WebGL indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.TY=!0;for(const h of this.iP)this.nW(h);d.H(this.iP);this.ra&&this.ra.gba();for(const h of a.runOnStartupFunctions)this.lE.push(this.uha(h));await Promise.all([this.Mb.EU(),...this.lE]);d.H(this.lE);if(this.Mb.UM)this.ra&&
this.ra.gJ();else return this.ra&&await this.ra.q3(),await this.tc.xP(new d.Event("beforeruntimestart")),await this.fp(),this.$z.postMessage({type:"runtime-ready"}),this}async uha(a){try{await a(this.Ak)}catch(e){console.error("[C3 runtime] Error in runOnStartup function: ",e)}}lfa(a){a=a.project;this.qG=a[0];this.LZ=a[16];this.sO=a[31];const e=a[39]||"loading-logo.png";this.Ek=!!a[9];this.jf=this.rj=a[10];this.hf=this.qj=a[11];this.fO=this.jf/2;this.gO=this.hf/2;this.Nu=a[36];this.MM=a[37];"low-latency"===
this.Nu&&this.B6()&&77>=d.lb.WH&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Nu="standard");this.sq=!!a[40];this.Lc=a[14];this.$G=!!a[18];this.Dv=a[19];this.bA=a[21];this.GZ=a[22];const h=this.Mb;h.Wha(a[7],a[25]);h.xia(a[8]);h.iia(a[32]);h.oia(a[28]);h.Nia(a[29]);if(0===this.Dv){let r="";this.Qt()?h.OD(e)&&(r=h.JI(e)):r=h.CY+e;r&&(this.Ev=
h.QC({url:r}))}this.ra&&(this.ra.S$(d.ZH.tV(a[12])),this.ra.ST(a[23]?"high":"low"),this.ra.dK(0!==a[24]),this.ra.jia(a[34]),this.ra.Jia(a[41]));this.Pn.Z1();this.eG=self.FQ();for(var g of a[2])this.Pn.X1(g);this.eG=self.FQ();this.tfa();for(var m of a[3])g=d.AJ.fb(this,this.Gd.length,m),this.Gd.push(g),this.ZN.set(g.qa.toLowerCase(),g),this.$N.set(g.wb,g);for(const r of a[4])this.Gd[r[0]].ofa(r);for(var q of a[27])m=q.map(r=>this.Gd[r]),this.vja.push(d.D(d.M1,this,m));for(const r of this.Gd)r.Xfa();
for(const r of a[5])this.Hb.fb(r);(q=a[1])&&(q=this.Hb.Dt(q))&&this.Hb.N$(q);for(var l of a[33])this.Xb.fb(l);for(const r of a[35])this.UO.fb(r);this.Sea();for(const r of a[6])this.Ha.fb(r);this.Ha.pc();this.Oea();d.H(this.eG);this.We();l="any";a=a[20];1===a?l="portrait":2===a&&(l="landscape");this.Om("runtime","set-target-orientation",{targetOrientation:l})}QH(a){this.lE.push(a)}sea(){return this.fY++}aca(a){this.ZL.push(a)}async Tea(a){this.ra&&(await this.ra.ti(a),this.ra.g6(this.Dv))}async Lfa(){if(!this.Mb.gS("audio/webm; codecs=opus")){var a=
null;try{a=this.uN&&"file:"===location.protocol?await this.Mb.QQ(this.AZ):await this.Mb.Tw(this.AZ)}catch(e){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",e);return}a?this.K0(a):this.J0();await this.L0([this.wka])}}async pja(a){return await this.PH("OpusDecode",{arrayBuffer:a},[a])}async fp(){this.lF=!0;this.fq=Date.now();if(this.$G){for(var a of this.Gd)a.mb||a.qN||!a.mh||a.Gb();this.Mb.EU().then(()=>{this.Ll=!1;this.rW()})}else this.Ll=!1;this.Mb.X$();this.Sb&&
b.Vva(f);for(const e of this.Hb.$j)e.Jca();a=this.Hb.l4();await a.gL(null,this.oe());await a.pX(!0);this.Wr=performance.now();this.$G||this.rW();(await this.Vo("runtime","before-start-ticking")).isSuspended?this.Zv++:this.oc()}rW(){this.fa(d.A.Pa.F.H8,null,null);this.Om("runtime","register-sw")}Bi(a){a=Math.floor(a);const e=this.eG;if(0>a||a>=e.length)throw Error("invalid object reference");return e[a]}tfa(){for(const a of self.l1){const e=d.first(Object.keys(a));this.XY.push(e)}}Fj(a){a=Math.floor(a);
const e=this.XY;if(0>a||a>=e.length)throw Error("invalid prop reference");return e[a]}rI(){return this.zja}ya(){return this.Ha}Qd(){return this.Ha.Qd()}xg(){return this.Ha.xg()}ec(){return this.Ha.ec()}Vg(){return this.Ha.Vg()}J6(){return 0===this.xg().jn}gx(){return this.Ha.gx()}ox(){return this.Pn.ox()}Ag(a){a=Math.floor(a);if(0>a||a>=this.Gd.length)throw new RangeError("invalid index");return this.Gd[a]}LI(a){return this.ZN.get(a.toLowerCase())||null}mx(a){return this.$N.get(a)||null}*Ska(){for(const a of this.Gd)a.mb||
(yield*a.T_())}Eb(){return this.tc}vi(a){a.kd=this.Ak;const e=this.Sb&&!this.Ha.FC();e&&b.uK();this.qf.dispatchEvent(a);e&&b.SH()}Kq(a){a.kd=this.Ak;return this.qf.xP(a)}iaa(a,e){this.jf=a;this.hf=e}cy(a,e){this.rj=a;this.qj=e}eia(a){this.UX=a}xm(){return this.UX}Zk(){return this.ra?this.ra.Zk():this.rj}Yk(){return this.ra?this.ra.Yk():this.qj}Em(){return this.ra?this.ra.Em():1}ym(){return this.ra?this.ra.ym():1}ax(){return this.ra?this.ra.ax():0}bx(){return this.ra?this.ra.bx():0}S3(){return this.ra?
this.ra.Ud:0}R3(){return this.ra?this.ra.Jd:0}fC(){return this.ra?this.ra.fC():"off"}Yw(a){return this.ra?this.ra.Yw(a):null}Wo(a){this.ra&&this.ra.Wo(a)}Kia(a){this.hP=!!a}hC(){return this.ra?this.ra.hC():NaN}qJ(){return"nearest"!==this.Lc}G9(){this.Ev&&(this.Ev.j(),this.Ev=null)}Sc(){return this.Hb.Sc()}QC(a){return this.Mb.QC(a)}HB(a,e,h,g,m){return this.Cj(a,e,!1,h,g,!1,m)}Cj(a,e,h,g,m,q,l){var r=null;let p=null;a instanceof d.AJ?(p=a,p.mb&&(a=p.Ur,p=a[Math.floor(this.Nj()*a.length)]),r=p.Vu):
(r=a,p=this.Ag(r[1]));var t=p.hc().mh;if(this.Ll&&t&&!p.qN)return null;const v=e;t||(e=null);var y=h&&!q&&r&&!this.$r.has(r[2])?r[2]:this.bA++;var z=r?r[0]:null;a=d.D(d.Instance,{kd:this,TP:p,Ue:e,A0:z,S_:r?r[3]:null,uid:y});this.$r.set(y,a);y=null;t&&(y=a.C(),"undefined"!==typeof g&&"undefined"!==typeof m&&(y.sf(g),y.Zf(m)),p.PW());e&&(l||e.Oi(a,!0),1===e.jg&&1===e.kg||p.zL(!0),e.Qf().GS(p));this.aO++;if(p.md()&&!h&&!q){for(var C of p.jk.Mn){if(C===p)continue;const w=this.Cj(C,v,!1,y?y.I():g,y?y.J():
m,!0,!1);a.su(w)}for(const w of a.siblings()){w.su(a);for(const E of a.siblings())w!==E&&w.su(E)}}t&&!h&&l&&this.$U(a,z,y,e,g,m);if(p.md()&&!h&&!q&&l)for(const w of a.siblings())h=w.C(),C=w.S().Vu[0],this.$U(w,C,h,e,h.I(),h.J());!q&&l&&("undefined"===typeof g&&(g=z[0]),"undefined"===typeof m&&(m=z[1]),e=y.pC(),g=g-y.I()+e.I(),m=m-y.J()+e.J(),e.ib(g,m));p.Cy();m=r?d.iH(r[5]):null;r=r?r[4].map(w=>d.iH(w)):null;(t=t&&z&&z[13])&&a.nia();a.FD(m,r);t&&(z=z[13],a.ia.Ax(z[2],z[0],z[1]));this.xn.push(a);this.kF=
!0;this.Sb&&b.$qa(a);return a}$U(a,e,h,g,m,q){var l=h.YZ,r=h.zO;a.C().eK(l);if(r){"undefined"===typeof m&&(m=e[0]);"undefined"===typeof q&&(q=e[1]);l=new Set;h=e[0];e=e[1];for(const z of r){var p=z[1],t=z[2];r=z[3];var v=!!z[4];const C=z[5];t=this.Hb.II(z[0]).wa(p).u4(t);p=this.Ag(t[1]);var y=a.t5(p);const w=l.has(p);y&&!w&&v?(v=a.QR(p),y=m+t[0][0]-h,t=q+t[0][1]-e,v.C().ib(y,t),v.C().eK(C),a.Ao(v,{Fw:!!(r>>0&1),Gw:!!(r>>1&1),nt:!!(r>>2&1),mt:!!(r>>3&1),Ew:!!(r>>4&1),ZA:!!(r>>5&1),Hw:!!(r>>6&1)}),
l.add(p)):(p=this.Cj(t,g,!1,m+t[0][0]-h,q+t[0][1]-e,!1,!0),p.C().eK(C),a.Ao(p,{Fw:!!(r>>0&1),Gw:!!(r>>1&1),nt:!!(r>>2&1),mt:!!(r>>3&1),Ew:!!(r>>4&1),ZA:!!(r>>5&1),Hw:!!(r>>6&1)}))}}}Ah(a){if(!this.bs.has(a)){var e=a.S(),h=this.uF.get(e);if(h){if(h.has(a))return;h.add(a)}else h=new Set,h.add(a),this.uF.set(e,h);this.Sb&&b.ara(a);a.jL();this.kF=!0;if(a.md())for(const g of a.siblings())this.Ah(g);for(const g of a.children())g.dC()&&this.Ah(g);this.Hb.mS()||this.Ml||(e=this.ya(),e.Kf(!0),a.eja(),e.Kf(!1));
a.Yda(this.Hb.mS())}}We(){this.kF&&(this.$da(),this.aea(),this.kF=!1,this.aa())}$da(){for(const a of this.xn){const e=a.S();e.Oi(a);for(const h of e.Yi)h.Oi(a),h.Cy()}d.H(this.xn)}aea(){this.tc.cu(!0);for(const [a,e]of this.uF.entries())this.bea(a,e),e.clear();this.uF.clear();this.tc.cu(!1)}bea(a,e){for(const g of e){var h=this.Tr.instancedestroy;h.instance=g;this.tc.dispatchEvent(h);this.$r.delete(g.lc);if(h=g.C())h.zW(),h.AW(),h.jL();this.bs.add(g);this.aO--}d.si(a.za(),e);a.Cy();this.vF.add(a);
0===a.za().length&&a.zL(!1);for(const g of a.Yi)d.si(g.za(),e),g.Cy(),this.vF.add(g);if(a.hc().mh){a=new Set([...e].map(g=>g.C().wa()));for(const g of a)g.$ga(e)}}rea(){return this.bA++}Hfa(a,e){this.$r.set(a,e)}yy(){this.tc.dispatchEvent(d.D(d.Event,"webglcontextlost"));this.ay(!0);for(var a of this.Gd)!a.mb&&a.q5()&&a.ml();(a=this.Sc())&&a.yy();d.Mt.Xt();d.dS.Xt()}async qL(){await this.Sc().gL(null,this.oe());this.tc.dispatchEvent(d.D(d.Event,"webglcontextrestored"));this.ay(!1);this.aa()}Fga(a){this.ay(a.hidden)}Gga(a){this.Qt()&&
this.GZ&&!d.lb.sJ&&!a.data.parentHasFocus&&(this.ay(!0),this.rN=!0)}Hga(){this.rN&&(this.ay(!1),this.rN=!1)}BW(){const a=this.Kka;"vsync"===this.MM?-1===this.Gf&&(this.Gf=self.requestAnimationFrame(a.c0)):"unlimited-tick"===this.MM?(-1===this.Wn&&(this.Wn=d.PJ(a.Jma)),-1===this.Gf&&(this.Gf=self.requestAnimationFrame(a.yma))):-1===this.Wn&&(this.Wn=d.PJ(a.c0))}vca(){-1!==this.Gf&&(self.cancelAnimationFrame(this.Gf),this.Gf=-1);-1!==this.Wn&&(d.p1(this.Wn),this.Wn=-1)}So(){return 0<this.Zv}ay(a){var e=
this.So();this.Zv+=a?1:-1;0>this.Zv&&(this.Zv=0);a=this.So();!e&&a?(console.log("[Construct 3] Suspending"),this.vca(),this.tc.dispatchEvent(d.D(d.Event,"suspend")),this.fa(d.A.Pa.F.Y8,null,null)):e&&!a&&(console.log("[Construct 3] Resuming"),this.Wr=this.UF=e=performance.now(),this.Gn=this.aG=this.aF=this.bF=0,this.tc.dispatchEvent(d.D(d.Event,"resume")),this.fa(d.A.Pa.F.U8,null,null),this.ux()||this.oc(e))}Xba(a){this.sp.Qc(a)}Wba(a){this.rp.Qc(a)}Yba(a){this.tp.Qc(a)}bha(a){this.sp.Ei(a)}aha(a){this.rp.Ei(a)}cha(a){this.tp.Ei(a)}nca(){this.sp.Ji(!0);
for(const a of this.sp)a.oc();this.sp.Ji(!1)}mca(){this.rp.Ji(!0);for(const a of this.rp)a.UC();this.rp.Ji(!1)}oca(){this.tp.Ji(!0);for(const a of this.tp)a.qu();this.tp.Ji(!1)}*Tca(){this.sp.Ji(!0);for(const a of this.sp){const e=a.oc();d.Po(e)&&(yield*e)}this.sp.Ji(!1)}*Sca(){this.rp.Ji(!0);for(const a of this.rp){const e=a.UC();d.Po(e)&&(yield*e)}this.rp.Ji(!1)}*Uca(){this.tp.Ji(!0);for(const a of this.tp){const e=a.qu();d.Po(e)&&(yield*e)}this.tp.Ji(!1)}async oc(a,e,h){this.BY=!0;const g="background-wake"===
h;h="background-wake"!==h&&"skip-render"!==h;this.lF&&(!this.So()||e||g)&&(e=performance.now(),this.Dz=!0,a||(a=e),this.Pfa(a),a=this.jba(),this.Bf&&await a,a=this.tc.rla(this.Tr.pretick),a instanceof Promise&&await a,a=this.iba(),this.Bf&&await a,this.Vfa()&&await this.Gea(),this.Hb.Pt()&&await this.Jfa(),a=this.kba(),this.Bf&&await a,h&&this.qT(),this.So()||g||this.BW(),this.Zl++,this.gq++,this.bv++,this.Dz=!1,this.Gn+=performance.now()-e)}async jba(){const a=this.Ha,e=this.Sb;this.We();a.Kf(!0);
this.Hx(this.Sc());e&&b.ou();this.Bf?await a.h2():a.h$();e&&b.I0();this.Gx();a.Kf(!1);this.We();a.Kf(!0)}async iba(){const a=this.Sb,e=this.Bf,h=this.tc,g=this.Tr,m=this.v_;a&&b.ou();e?await this.OB(this.Tca()):this.nca();e?await this.OB(this.Sca()):this.mca();a&&b.D0();a&&b.ou();e?await this.VQ(g.tick):h.dispatchEvent(g.tick);a&&b.N0();this.Ha.Kf(!1);this.vi(m.tick)}async kba(){const a=this.Ha,e=this.tc,h=this.Tr,g=this.Sb,m=this.Bf;g&&b.ou();m?await a.f2(this.Hb):a.f$(this.Hb);g&&b.I0();this.wc.MQ();
this.yW();this.oN=!1;a.Kf(!0);g&&b.ou();m?await this.OB(this.Uca()):this.oca();g&&b.D0();g&&b.ou();m?await this.VQ(h.tick2):e.dispatchEvent(h.tick2);g&&b.N0();a.Kf(!1);m&&await a.ET()}yW(){if(0!==this.bs.size){var a=this.tc;a.cu(!0);for(const e of this.vF)e.aq.dr(this.bs);this.vF.clear();this.Ha.I9(this.bs);for(const e of this.bs)e.j();this.bs.clear();a.cu(!1)}}async Jfa(){const a=this.Hb;let e=0;for(;a.Pt()&&10>e++;)await this.hV(a.cA)}Pfa(a){if(0!==this.UF){this.Cp=Math.max(a-this.UF,0)/1E3;const e=
1/this.vZ;.5<this.Cp?this.Cp=0:this.Cp>e&&(this.Cp=e)}this.UF=a;this.ME=this.Cp*this.Pe;this.QM.Qc(this.ME);this.jP.Qc(this.Cp);this.ra&&this.ra.nja();1E3<=a-this.Wr&&(this.Wr+=1E3,1E3<=a-this.Wr&&(this.Wr=a),this.aF=this.bF,this.bF=0,this.aG=Math.min(this.Gn/1E3,1),this.Gn=0,this.ra&&this.ra.ija(),this.Sb&&b.oza());this.bF++}async hV(a){const e=this.tc,h=this.Hb.Sc();await h.Xia();h.hja(a,this.oe());h===a&&this.Ha.BB();this.wc.MQ();this.yW();e.dispatchEvent(this.Tr.beforelayoutchange);d.rm.TT(!0);
await a.gL(h,this.oe());d.rm.TT(!1);await a.pX(!1);e.dispatchEvent(this.Tr.layoutchange);this.aa();this.oN=!0;this.We()}aa(){this.XN=!0}oe(){return this.ra?this.ra.oe():null}oC(){return this.oe()}qT(){const a=this.ra;if(a&&!a.h7()){var e=this.oe();e.fp();e.s1();if(this.XN){var h=this.Sb;h&&b.ou();this.XN=!1;var g=null;e.sl()&&(g=this.ra.fF.zQ(),e.rU(g));this.sq&&"low"===a.yk?e.O$(a.Zk(),a.Yk()):e.s$();e.Ki();e.VJ();e.Fg(1,1,1,1);e.Xf(null);e.Yf(null);e.eD(this.sq);this.Hb.Sc().Ec(e);g&&e.cR(g);e.Vw();
h&&(b.mna(),b.rza());a&&a.Nfa()}else e.W5()}}fa(a,e,h){if(!this.lF)return!1;var g=!this.Dz&&!this.Ha.GC();let m=0;g&&(m=performance.now());const q=this.Sb;q&&this.dD(!1);a=this.Ha.Ky(this.Hb,a,e,h);g&&(g=performance.now()-m,this.Gn+=g,q&&b.xna(g));q&&this.dD(!0);return a}Ow(a,e,h){if(!this.Sb)return this.fa(a,e,h);if(this.ux())throw Error("called DebugTrigger() while stopped on breakpoint");if(!this.Dz&&!this.Ha.GC())throw Error("called DebugTrigger() outside of event code - use TriggerAsync() instead");
return this.Ha.tu(this.Hb,a,e,h)}async rb(a,e,h){if(!this.Bf)return this.fa(a,e,h);if(!this.lF)return!1;if(this.ux())return this.Ha.z9(a,e,h);if(!this.Sc())return this.Ha.MJ(a,e,h);const g=performance.now();a=this.Ha.tu(this.Hb,a,e,h);for(e=a.next();!e.done;)await this.xt(e.value),e=a.next();this.So()||this.Ha.GC()||(await this.Ha.ET(),this.BY&&!this.Dz&&this.BW());this.Gn+=performance.now()-g;return e.value}pl(a){return this.Dka.Qc(a)}Hx(a){this.Qu.push(a)}Gx(){if(!this.Qu.length)throw Error("layout stack empty");
this.Qu.pop()}gb(){return this.Qu.length?this.Qu[this.Qu.length-1]:this.Sc()}Wg(a){return a&&-1!==a.Pe?this.Cp*a.Pe:this.ME}lK(a){if(isNaN(a)||0>a)a=0;this.Pe=a}$T(a){this.vZ=d.ba(a,1,120)}Xe(){return this.QM.ja()}$I(){return this.jP.ja()}Hm(){++this.bv}zg(a){if(this.Ml)throw Error("cannot call while loading state - wait until afterload event");return this.$r.get(a)||null}vW(){this.$r.clear();for(const a of this.Gd)if(!a.mb)for(const e of a.za())this.$r.set(e.lc,e)}Qt(){return"preview"===this.sk}I6(){return"cordova"===
this.sk}B6(){return"Android"===d.lb.Vt&&("cordova"===this.sk||"playable-ad"===this.sk||"instant-games"===this.sk)}ZI(){return this.Pn.ZI()}GI(){return this.Pn.GI()}maa(a){a=!!a;this.Ek!==a&&(this.Ek=a,this.aa())}j$(a){this.oA=a}u7(a){this.Tz=a}xJ(a){this.Cv=a}Vfa(){return!(!this.oA&&!this.Tz&&null===this.Cv)}async Gea(){this.oA&&(this.We(),await this.vda(this.oA),this.LK());this.Tz&&(await this.uda(this.Tz),this.LK(),this.Sb&&b.tya());if(null!==this.Cv){this.We();try{await this.iV(this.Cv),this.ts=
this.Cv,await this.rb(d.A.Pa.F.$S,null),this.ts=""}catch(a){console.error("[Construct 3] Failed to load state from JSON string: ",a),await this.rb(d.A.Pa.F.aT,null)}this.LK()}}LK(){this.Tz=this.oA="";this.Cv=null}EV(){this.rO||(this.rO=localforage.uP({name:"c3-localstorage-"+this.sO,description:this.qG}));return this.rO}FV(){this.yO||(this.yO=localforage.uP({name:"c3-savegames-"+this.sO,description:this.qG}));return this.yO}async vda(a){const e=await this.Nha();try{await this.FV().setItem(a,e),console.log("[Construct 3] Saved state to storage ("+
e.length+" chars)"),this.ts=e,await this.rb(d.A.Pa.F.V8,null),this.ts=""}catch(h){console.error("[Construct 3] Failed to save state to storage: ",h),await this.rb(d.A.Pa.F.W8,null)}}async uda(a){try{const e=await this.FV().getItem(a);if(!e)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+e.length+" chars)");await this.iV(e);this.ts=e;await this.rb(d.A.Pa.F.$S,null);this.ts=""}catch(e){console.error("[Construct 3] Failed to load state from storage: ",e),await this.rb(d.A.Pa.F.aT,
null)}}async Nha(){const a={c3save:!0,version:1,rt:{time:this.Xe(),walltime:this.$I(),timescale:this.Pe,tickcount:this.Zl,execcount:this.bv,next_uid:this.bA,running_layout:this.Sc().wb,start_time_offset:Date.now()-this.fq},types:{},layouts:{},events:this.Ha.Aa(),timelines:this.Xb.Aa(),user_script_data:null};for(var e of this.Gd)e.mb||e.aS()||(a.types[e.wb.toString()]=e.Aa());for(const h of this.Hb.$j)a.layouts[h.wb.toString()]=h.Aa();e=this.QK("save");e.saveData=null;await this.Kq(e);a.user_script_data=
e.saveData;return JSON.stringify(a)}async iV(a){a=JSON.parse(a);if(a.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!a.c3save)throw Error("not valid C3 save data");if(1<a.version)throw Error("C3 save data from future version");this.tc.dispatchEvent(d.D(d.Event,"beforeload"));for(var e of this.Ska())e.TD();this.Ml=!0;e=a.rt;this.QM.Set(e.time);this.jP.Set(e.walltime);this.Pe=e.timescale;this.Zl=e.tickcount;this.bv=e.execcount;this.fq=Date.now()-e.start_time_offset;var h=e.running_layout;
if(h!==this.Sc().wb)if(h=this.Hb.II(h))await this.hV(h);else return;for(const [m,q]of Object.entries(a.types))h=this.mx(parseInt(m,10)),!h||h.mb||h.aS()||h.Ia(q);this.We();this.vW();this.Ml=!1;this.bA=e.next_uid;for(const [m,q]of Object.entries(a.layouts))(e=this.Hb.II(parseInt(m,10)))&&e.Ia(q);this.Ha.Ia(a.events);for(var g of this.Gd)if(!g.mb&&g.md())for(const m of g.za()){e=m.Nq();for(const q of g.jk.Mn)if(q!==g){h=q.za();if(0>e||e>=h.length)throw Error("missing sibling instance");m.su(h[e])}}this.Xb.Ia(a.timelines);
this.tc.dispatchEvent(d.D(d.Event,"afterload"));g=this.QK("load");g.saveData=a.user_script_data;await this.Kq(g);this.aa()}async L0(a){a=(await Promise.all(a.map(e=>this.Mb.wm(e)))).map(e=>URL.createObjectURL(e));this.Iz.V5(a)}J0(){this.Iz.m$()}K0(a){this.Iz.n$(a)}PH(a,e,h){return this.Iz.PH(a,e,h)}AC(a,e){this.Om("runtime","invoke-download",{url:a,filename:e})}async A9(a){var e=e||2048;var h=h||2048;return this.gg?(await this.Vo("runtime","raster-svg-image",{blob:a,imageWidth:2048,imageHeight:2048,
surfaceWidth:e,surfaceHeight:h,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(a,2048,2048,e,h)}Zt(){this.WX||(this.WX=!0,this.Om("runtime","enable-device-orientation"))}Xo(){this.VX||(this.VX=!0,this.Om("runtime","enable-device-motion"))}Nj(){return this.Bka()}vea(){return{fps:this.aF,cpu:this.aG,gpu:this.hC(),layout:this.Sc()?this.Sc().qa:"",renderer:this.oe().NA}}ux(){return this.Sb?b.ux():!1}xt(a){return this.Bf?b.xt(a):Promise.resolve()}Rc(){return this.Bf?b.goa():!1}dD(a){a?
this.wM--:this.wM++;this.kja()}kja(){this.Bf=this.Sb&&this.Gja&&0===this.wM}mJ(){return this.Sb&&b.mJ()}oS(){return this.Sb&&this.oe().sl()&&b.oS()}async OB(a){if(a)for(const e of a)await this.xt(e)}VQ(a){return this.OB(this.tc.sla(a))}QD(a){return this.Ha.QD(a.name,a.params)}QK(a){a=d.D(d.Event,a,!1);a.kd=this.Ak;return a}Sea(){var a={};for(const e of this.Gd)a[e.Fj()]={value:e.rz,enumerable:!0,writable:!1};a=Object.create(Object.prototype,a);this.Ak=new self.H5(this,a);this.v_={tick:this.QK("tick")}}Oea(){const a=
{};for(const e of this.ya().$L)a[e.Fj()]=e.GV();this.Ak.Pea(a)}bW(a,e){this.Wja.set(a,e)}};self.C3_CreateRuntime=d.FT.fb;self.C3_InitRuntime=(a,e)=>a.Tf(e)}"use strict";
{const d=self.B;d.j7=class extends d.ua{constructor(b,c){super();this.b=b;this.ks=new Map;this.uka=0;this.zz=c.inputPort;c.outputPort.onmessage=f=>this.qW(f);this.nZ=c.maxNumWorkers;this.Jz=1;this.tY=this.Cz=!1}async Tf(){}V5(b){this.zz.postMessage({type:"_import_scripts",scripts:b})}m$(){this.zz.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}n$(b){this.zz.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}PH(b,c,f){f||(f=[]);const a=this.uka++;b={type:b,isBroadcast:!1,
jobId:a,params:c,transferables:f};c=new Promise((e,h)=>{this.ks.set(a,{resolve:e,progress:void 0,reject:h,tP:!1})});this.zz.postMessage(b,f);this.eW();return c}qW(b){b=b.data;const c=b.type,f=b.jobId;switch(c){case "result":this.nga(f,b.result);break;case "progress":this.mga(f,b.progress);break;case "error":this.lga(f,b.error);break;case "ready":this.oga();break;default:throw Error(`unknown message from worker '${c}'`);}}nga(b,c){const f=this.ks.get(b);if(!f)throw Error("invalid job ID");f.tP||f.resolve(c);
this.ks.delete(b)}mga(b,c){b=this.ks.get(b);if(!b)throw Error("invalid job ID");!b.tP&&b.progress&&b.progress(c)}lga(b,c){const f=this.ks.get(b);if(!f)throw Error("invalid job ID");f.tP||f.reject(c);this.ks.delete(b)}oga(){this.Cz&&(this.Cz=!1,this.Jz++,this.Jz<this.nZ?this.eW():this.zz.postMessage({type:"_no_more_workers"}))}async eW(){if(!(this.Jz>=this.nZ||this.Cz||this.tY||this.ks.size<=this.Jz))try{this.Cz=!0,(await this.b.Vo("runtime","create-job-worker")).outputPort.onmessage=b=>this.qW(b)}catch(b){this.tY=
!0,this.Cz=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Jz} so far)`,b)}}}}self.C3_Shaders={};"use strict";
{const d=self.B;let b=null,c="",f="",a=[],e="",h="",g="";const m=d.D(d.$0);function q(l,r){l=l[1];r=r[1];if("number"===typeof l&&"number"===typeof r)return l-r;l=""+l;r=""+r;return l<r?-1:l>r?1:0}d.A.Pa=class extends d.Rh{constructor(l){super(l);this.Lg=this.b.ya().Lg;this.Ke=this.b.ya().Qd();this.sz=this.Yr=0;this.kY=new Map}j(){super.j()}aa(){this.b.aa()}fa(l){this.b.fa(l,null,null)}mC(l,r){b&&l===c&&r===f||(b=new RegExp(l,r),c=l,f=r);b.lastIndex=0;return b}NR(l,r,p){if(l===e&&r===h&&p===g)return a;
const t=this.mC(r,p);a=l.match(t);e=l;h=r;g=p;return a}async iL(l,r){if(r.length){this.Yr+=r.length;var p=[];for(const t of r)p.push(l.GS(t));await d.t9(p,()=>{this.sz++});this.sz++;this.sz===this.Yr&&(this.b.fa(d.A.Pa.F.y8,null,null),this.Yr=this.sz=0)}}sX(l,r){for(const p of r)0===p.L.length&&l.E7(p)}BV(){return m}jha(l){var r=this.b.ya();const p=r.Qd(),t=p.yg(),v=t.ec(),y=v.me();var z=t.kl();const C=p.Xa(v),w=r.Lg,E=w.Xa();if(z)for(z=0;z<l&&!E.Wc;++z)r.Uf(y),E.od(z),v.Qh(t,C),r.nc(y);else for(r=
0;r<l&&!E.Wc;++r)E.od(r),v.Qh(t,C);p.Wa();w.Wa();return!1}*$ca(l){var r=this.b.ya();const p=r.Qd(),t=p.yg(),v=t.ec(),y=v.me();var z=t.kl();const C=p.Xa(v),w=r.Lg,E=w.Xa();if(z)for(z=0;z<l&&!E.Wc;++z)r.Uf(y),E.od(z),yield*v.zh(t,C),r.nc(y);else for(r=0;r<l&&!E.Wc;++r)E.od(r),yield*v.zh(t,C);p.Wa();w.Wa();return!1}qja(){var l=this.b.ya();const r=l.Qd(),p=r.yg(),t=p.ec(),v=t.me();var y=p.kl();const z=r.Xa(t),C=l.Lg,w=C.Xa();if(y)for(y=0;!w.Wc;++y)l.Uf(v),w.od(y),t.Qh(p,z)||w.ah(),l.nc(v);else for(l=
0;!w.Wc;++l)w.od(l),t.Qh(p,z)||w.ah();r.Wa();C.Wa();return!1}*sda(){var l=this.b.ya();const r=l.Qd(),p=r.yg(),t=p.ec(),v=t.me();var y=p.kl();const z=r.Xa(t),C=l.Lg,w=C.Xa();if(y)for(y=0;!w.Wc;++y)l.Uf(v),w.od(y),(yield*t.zh(p,z))||w.ah(),l.nc(v);else for(l=0;!w.Wc;++l)w.od(l),(yield*t.zh(p,z))||w.ah();r.Wa();C.Wa();return!1}cea(l,r,p){var t=this.b.ya();const v=t.Qd(),y=v.yg(),z=y.ec(),C=z.me(),w=y.kl(),E=v.Xa(z),H=t.Lg,M=H.Xa();M.tD(l);if(p<r)if(w)for(l=r;l>=p&&!M.Wc;--l)t.Uf(C),M.od(l),z.Qh(y,E),
t.nc(C);else for(t=r;t>=p&&!M.Wc;--t)M.od(t),z.Qh(y,E);else if(w)for(l=r;l<=p&&!M.Wc;++l)t.Uf(C),M.od(l),z.Qh(y,E),t.nc(C);else for(t=r;t<=p&&!M.Wc;++t)M.od(t),z.Qh(y,E);v.Wa();H.Wa();return!1}*Xca(l,r,p){var t=this.b.ya();const v=t.Qd(),y=v.yg(),z=y.ec(),C=z.me(),w=y.kl(),E=v.Xa(z),H=t.Lg,M=H.Xa();M.tD(l);if(p<r)if(w)for(l=r;l>=p&&!M.Wc;--l)t.Uf(C),M.od(l),yield*z.zh(y,E),t.nc(C);else for(t=r;t>=p&&!M.Wc;--t)M.od(t),yield*z.zh(y,E);else if(w)for(l=r;l<=p&&!M.Wc;++l)t.Uf(C),M.od(l),yield*z.zh(y,E),
t.nc(C);else for(t=r;t<=p&&!M.Wc;++t)M.od(t),yield*z.zh(y,E);v.Wa();H.Wa();return!1}dea(l){var r=this.b.ya();const p=r.Qd(),t=p.yg(),v=t.ec(),y=v.me();var z=t.kl();const C=p.Xa(v),w=r.Lg,E=w.Xa(),H=l.md(),M=l.ea(),N=m.Xa();d.$d(N,M.za());if(z)for(let Q=0,T=N.length;Q<T&&!E.Wc;++Q)r.Uf(y),z=N[Q],l.ea().rl(z),H&&z.Qj(),E.od(Q),v.Qh(t,C),r.nc(y);else{M.uf(!1);l=M.L;d.H(l);l.push(null);for(let Q=0,T=N.length;Q<T&&!E.Wc;++Q)r=N[Q],l[0]=r,H&&r.Qj(),E.od(Q),v.Qh(t,C)}p.Wa();w.Wa();d.H(N);m.Wa();return!1}*Yca(l){var r=
this.b.ya();const p=r.Qd(),t=p.yg(),v=t.ec(),y=v.me();var z=t.kl();const C=p.Xa(v),w=r.Lg,E=w.Xa(),H=l.md(),M=l.ea(),N=m.Xa();d.$d(N,M.za());if(z)for(let Q=0,T=N.length;Q<T&&!E.Wc;++Q)r.Uf(y),z=N[Q],l.ea().rl(z),H&&z.Qj(),E.od(Q),yield*v.zh(t,C),r.nc(y);else{M.uf(!1);l=M.L;d.H(l);l.push(null);for(let Q=0,T=N.length;Q<T&&!E.Wc;++Q)r=N[Q],l[0]=r,H&&r.Qj(),E.od(Q),yield*v.zh(t,C)}p.Wa();w.Wa();d.H(N);m.Wa();return!1}eea(l,r){var p=this.b.ya();const t=p.Qd(),v=p.Vg(),y=t.yg(),z=y.ec(),C=z.me(),w=y.kl(),
E=t.Xa(z),H=p.Lg,M=H.Xa(),N=l.md(),Q=l.ea(),T=m.Xa();d.H(T);const Z=Q.za();for(let V=0,aa=Z.length;V<aa;++V)T.push([Z[V],v.Kx(1,V)]);T.sort(q);1===r&&T.reverse();if(w)for(let V=0,aa=T.length;V<aa&&!M.Wc;++V)p.Uf(C),r=T[V][0],l.ea().rl(r),N&&r.Qj(),M.od(V),z.Qh(y,E),p.nc(C);else{Q.uf(!1);l=Q.L;d.H(l);l.push(null);for(let V=0,aa=T.length;V<aa&&!M.Wc;++V)p=T[V][0],l[0]=p,N&&p.Qj(),M.od(V),z.Qh(y,E)}t.Wa();H.Wa();d.H(T);m.Wa();return!1}*Zca(l,r){var p=this.b.ya();const t=p.Qd(),v=p.Vg(),y=t.yg(),z=y.ec(),
C=z.me(),w=y.kl(),E=t.Xa(z),H=p.Lg,M=H.Xa(),N=l.md(),Q=l.ea(),T=m.Xa();d.H(T);const Z=Q.za();for(let V=0,aa=Z.length;V<aa;++V)T.push([Z[V],v.Kx(1,V)]);T.sort(q);1===r&&T.reverse();if(w)for(let V=0,aa=T.length;V<aa&&!M.Wc;++V)p.Uf(C),r=T[V][0],l.ea().rl(r),N&&r.Qj(),M.od(V),yield*z.zh(y,E),p.nc(C);else{Q.uf(!1);l=Q.L;d.H(l);l.push(null);for(let V=0,aa=T.length;V<aa&&!M.Wc;++V)p=T[V][0],l[0]=p,N&&p.Qj(),M.od(V),yield*z.zh(y,E)}t.Wa();H.Wa();d.H(T);m.Wa();return!1}MD(l,r){let p=this.kY.get(l);if(p)return p;
if(!r)return null;p={Aq:null,LH:new Map};this.kY.set(l,p);return p}tda(l,r,p,t,v){r.Of().e$(p);t&&l.nc(v)}*Vca(l,r,p,t,v){yield*r.Of().e2(p);t&&l.nc(v)}}}"use strict";{const d=self.B;d.A.Pa.$c=class extends d.ua{constructor(b){super();this.W=b;this.b=b.R();this.ej=b.hc()}Gb(){}j(){this.ej=this.b=this.W=null}}}"use strict";{const d=self.B;d.A.Pa.Instance=class extends d.ua{constructor(b){super();this.G=b;this.W=this.G.S();this.Va=this.W.Va;this.b=this.G.R()}j(){this.b=this.Va=this.W=this.G=null}}}"use strict";
{const d=self.B,b=[];d.A.Pa.F={w3(){return!0},ZS(){return!0},E8(){return!0},Y8(){return!0},U8(){return!0},So(){return this.b.So()},bR(){const c=this.b.xg();return c.DM?!1:!c.os},yba(){const c=this.b.Vg().Ih();let f=c.get("TriggerOnce_lastTick");"undefined"===typeof f&&(f=-1,c.set("TriggerOnce_lastTick",-1));const a=this.b.Zl;c.set("TriggerOnce_lastTick",a);return this.b.oN||f!==a-1},Ipa(c){const f=this.b.Vg().Ih(),a=f.get("Every_lastTime")||0,e=this.b.Xe();f.has("Every_seconds")||f.set("Every_seconds",
c);const h=f.get("Every_seconds");if(e>=a+h)return f.set("Every_lastTime",a+h),e>=f.get("Every_lastTime")+.04&&f.set("Every_lastTime",e),f.set("Every_seconds",c),!0;e<a-.1&&f.set("Every_lastTime",e);return!1},Ot(c){return(c=this.b.ya().uR(c))&&c.Ot()},Qt(){return this.b.Qt()},sJ(){return d.lb.sJ},H8(){return!0},e8(){return!0},Apa(){return!0},V8(){return!0},W8(){return!0},$S(){return!0},aT(){return!0},eta(c){return!!this.b.zg(c)},Jra(c){switch(c){case 0:return"browser"===d.lb.cI;case 1:return"iOS"===
d.lb.Vt;case 2:return"Android"===d.lb.Vt;case 8:return"cordova"===d.lb.cI;case 9:return"scirra-arcade"===this.b.sk;case 10:return"nwjs"===d.lb.cI;case 13:return"windows-uwp"===this.b.sk;default:return!1}},Sua(c,f,a){return this.mC(f,a).test(c)},E1(c,f,a){return d.compare(c,f,a)},Noa(c,f,a){return c>=f&&c<=a},H1(c,f,a){return d.compare(c.Ee(),f,a)},F1(c){return!!c.Ee()},Zoa(c,f){const a=this.b.Xe();return 0===c?(c=this.b.Vg().Ih(),!c.get("CompareTime_executed")&&a>=f?(c.set("CompareTime_executed",
!0),!0):!1):d.compare(a,c,f)},Gra(c){return isNaN(c)},U0(c,f,a){return d.yq(d.Ma(c),d.Ma(a))<=d.Ma(f)},G6(c,f){return d.sg(d.Ma(c),d.Ma(f))},E6(c,f,a){c=d.Ma(c);f=d.Ma(f);a=d.Ma(a);return d.sg(a,f)?d.sg(c,f)&&!d.sg(c,a):!(!d.sg(c,f)&&d.sg(c,a))},Ura(c,f){return"number"===typeof c?0===f:1===f},Hpa(c){return!!c},Sta(c,f,a,e){if(!c)return!1;const h=this.BV(),g=h.Xa(),m=c.ea();d.$d(g,m.za());m.Mc&&d.H(m.Kc);const q=this.b.Vg();let l=0;for(let r=0,p=g.length;r<p;++r){const t=g[r];g[l]=t;f=q.Kx(1,r);e=
q.Kx(3,r);d.compare(f,a,e)?++l:m.np(t)}d.zd(g,l);m.Lx(g);f=!!g.length;d.H(g);h.Wa();c.Dc();return f},Tta(c,f){if(!c)return!1;const a=this.BV(),e=a.Xa(),h=c.ea();d.$d(e,h.za());h.Mc&&d.H(h.Kc);const g=this.b.Vg();let m=0;for(let q=0,l=e.length;q<l;++q){const r=e[q];e[m]=r;(f=g.Kx(1,q))?++m:h.np(r)}d.zd(e,m);h.Lx(e);f=!!e.length;d.H(e);a.Wa();c.Dc();return f},Zta(c,f){if(!c)return!1;const a=c.ea(),e=a.za();f=Math.floor(f);if(f>=e.length)return!1;a.Uo(e[f]);c.Dc();return!0},cua(c){if(!c)return!1;const f=
c.ea(),a=f.za(),e=Math.floor(this.b.Nj()*a.length);if(e>=a.length)return!1;f.Uo(a[e]);c.Dc();return!0},Rta(c){if(!c||!c.L.length)return!1;c.ea().uf(!0);c.Dc();return!0},aua(c,f,a){if(!c)return!1;const e=c.ea();var h=e.za();const g=this.b.ec().Me,m=this.b.Vg().Dk;e.Mc?(d.$d(b,h),e.CB(),e.uf(!1)):g?(d.$d(b,e.Kc),d.H(e.Kc)):(d.$d(b,e.L),d.H(e.L));for(let q=0,l=b.length;q<l;++q)h=b[q],d.xor(h.C().Nw(f,a),m)?e.rr(h):e.np(h);c.Dc();return d.xor(!!e.L.length,m)},Yta(c){if(!c)return!1;var f=c.mb;let a=null;
const e=this.b.xn;for(let h=e.length-1;0<=h;--h){const g=e[h];if(f){if(g.S().VH(c)){a=g;break}}else if(g.S()===c){a=g;break}}a||(f=c.za(),f.length&&(a=f[f.length-1]));if(!a)return!1;c.ea().Uo(a);c.Dc();return!0},Yua(c){return this.b.Bf?this.$ca(c):this.jha(c)},Iza(){return this.b.Bf?this.sda():this.qja()},Xpa(c,f,a){return this.b.Bf?this.Xca(c,f,a):this.cea(c,f,a)},Ypa(c){return this.b.Bf?this.Yca(c):this.dea(c)},E3(c,f,a){return this.b.Bf?this.Zca(c,a):this.eea(c,a)},nsa(c){return c?c.pe():!1},jsa(c){return c?
!c.L.length:!1},isa(c,f,a){return c?d.compare(100*c.ld(),f,a):!1},y8(){return!0},Era(){return 0<this.Yr}}}"use strict";
{const d=self.B;function b(g,m){const q=g[0]-m[0];return 0!==q?q:g[1]-m[1]}function c(g,m){return g[1]-m[1]}const f=[],a=[],e=d.D(d.Rect),h=d.D(d.sb);d.A.Pa.oa={Naa(g,m){g.Th(m)},S0(g,m){g.Qo()&&"number"!==typeof m&&(m=parseFloat(m));g.Th(g.Ee()+m)},lba(g,m){g.Qo()&&g.Th(g.Ee()-m)},v$(g,m){g.Th(!!m)},Xya(g){g.Th(!g.Ee())},Mva(){this.b.ya().S9()},TQ(g,m,q,l,r){g&&m&&(q=this.b.HB(g,m,q,l,r))&&(r&&m.rK(q),m=this.b.ya(),m.Kf(!0),q.dE(),m.Kf(!1),g.ea().rl(q),q.md()&&q.Qj())},mpa(g,m,q,l,r){g&&m&&(g=this.b.LI(g))&&
d.A.Pa.oa.TQ.call(this,g,m,q,l,r)},Jx(g,m,q,l,r,p,t,v,y,z){if(g){var C=this.b.gb();if(p&&(C=this.b.Hb.Dt(p),!C))return;p=null;if("number"!==typeof t||0<=t)if(p=C.wa(t),!p)return;e.set(m,q,l,r);m=C.Jx(g,e,p,v,y,z);g.ea().Lx(m);g.Dc()}},xya(){const g=this.Lg;g.pS()&&g.At().ah()},eu(g,m){(g=this.b.ya().uR(g))&&(0===m?g.eu(!1):1===m?g.eu(!0):g.eu(!g.Ot()))},Sxa(g){this.b.lK(g)},Bxa(g,m){0>m&&(m=0);if(g){g=g.ea().za();for(const q of g)q.lK(m)}},Pva(g){if(g){g=g.ea().za();for(const m of g)m.b$()}},EK(g){if(!(0>
g))return this.b.ya().RH().v6(g),!0},Aza(g){this.b.ya().RH().t6(g);return!0},zza(){const g=this.b.ya();g.RH().j6(g.P4());return!0},bya(g){g=g.toLowerCase();for(const m of this.b.ya().qh)m.a7()&&m.uA===g&&m.fK()},async oU(g,m,q,l,r,p){const t=this.b.ra;t&&(this.aa(),await t.oU(0===g?"image/png":"image/jpeg",m/100,q,l,r,p),await this.b.rb(d.A.Pa.F.e8,null))},wwa(g,m){if(!(0>=g||0>=m)){this.b.cy(g,m);var q=this.b.gb();q.wB();for(const l of q.Vd)l.CK();if(q=this.b.ra)"off"!==q.hx()&&this.b.iaa(g,m),q.vc(q.km,
q.jm,!0),this.b.aa()}},Mwa(g){const m=this.b.ra;m&&"off"!==m.hx()&&(m.ST(0!==g?"high":"low"),m.vc(m.km,m.jm,!0))},er(g){this.b.j$(g)},zsa(g){this.b.u7(g)},Asa(g){this.b.xJ(g)},Qwa(){},Nva(){for(const g of this.b.Hb.$j)g.X9()},dU(g){this.b.maa(0!==g)},$T(g){this.b.$T(g)},hya(g,m){if(g){var q=g.ea().za(),l=this.b.gb(),r=g.mb;g=g.uk;for(let t=0,v=q.length;t<v;++t){var p=q[t];const y=p.C();if(!y)continue;let z;z=r?p.Pf(m+p.S().xR(g)):p.Pf(m);f.push([y.wa().Ra(),y.Gm()]);a.push([p,z])}if(f.length){f.sort(b);
a.sort(c);m=!1;for(let t=0,v=f.length;t<v;++t)q=a[t][0],r=l.iC(f[t][0]),g=f[t][1],p=r.L,p[g]!==q&&(p[g]=q,q.C().Dy(r),r.Uh(),m=!0);m&&this.b.aa();d.H(f);d.H(a)}}},c5(g){if(!this.b.Ll){var m=this.b.Hb;m.Pt()||m.AB(g)}},d5(g){if(!this.b.Ll){var m=this.b.Hb;m.Pt()||(g=m.Dt(g))&&m.AB(g)}},M7(g){if(!this.b.Ll){var m=this.b.Hb;if(!m.Pt()){var q=m.$j,l=q.indexOf(m.Sc());g&&0===l||(g||l!==q.length-1)&&m.AB(q[l+(g?-1:1)])}}},a$(){if(!this.b.Ll){var g=this.b.Hb;g.Pt()||(g.AB(g.Sc()),this.b.ya().T9())}},kxa(g,
m){g&&g.re(m)},fxa(g,m){g&&g.qe(m/100)},hxa(g,m){g&&g.jaa(m)},ixa(g,m){g&&g.oaa(m)},$wa(g,m){g&&(m=d.Cc(d.Ma(+m)),g.Hd!==m&&(g.Gc(m),this.aa()))},gxa(g,m,q){g&&g.kaa(m/100,q/100)},lxa(g,m){g&&g.$f(m)},axa(g,m){g&&(h.qB(m),h.ba(),g=g.Sy,g.dt(h)||(g.bt(h),this.aa()))},jxa(g,m){g&&(m=!!m,g.Lp!==m&&(g.Jaa(m),this.aa()))},bxa(g,m){g&&g.yi()!==m&&(g.Wf(m),this.aa())},cxa(g,m,q){g&&(g=g.$a,q=g.zm(q))&&(m=1===m,q.Nb!==m&&(q.$C(m),g.gp(),this.b.aa()))},dxa(g,m,q,l){if(g&&(g=g.$a,m=g.zm(m))&&(g=g.Eh(m.Ra()),
q=Math.floor(q),!(0>q||q>=g.length))){var r=m.Ab.lC(q);if("color"===r){h.qB(l);q=g[q];if(h.dt(q))return;q.bt(h)}else{"percent"===r&&(l/=100);if(g[q]===l)return;g[q]=l}m.Nb&&this.b.aa()}},exa(g,m){g&&(m=!!m,g.kN!==m&&(g.R$(m),this.aa()))},pxa(g){const m=this.b.gb();m.zc!==g&&(m.iu(g),this.aa())},mxa(g){g=d.Cc(d.Ma(+g));const m=this.b.gb();m.ca()!==g&&(m.Gc(g),this.aa())},nxa(g,m){const q=this.b.gb().$a;if(m=q.zm(m))g=1===g,m.Nb!==g&&(m.$C(g),q.gp(),this.b.aa())},oxa(g,m,q){var l=this.b.gb().$a;if(g=
l.zm(g))if(l=l.Eh(g.Ra()),m=Math.floor(m),!(0>m||m>=l.length)){var r=g.Ab.lC(m);if("color"===r){h.qB(q);m=l[m];if(h.dt(m))return;m.bt(h)}else{"percent"===r&&(q/=100);if(l[m]===q)return;l[m]=q}g.Nb&&this.b.aa()}},lwa(g){this.b.gb().ju(g)},mwa(g){this.b.gb().ku(g)},iwa(g,m){const q=this.b.gb();q.ju(g);q.ku(m)},kwa(g){if(g&&(g=g.Bm())&&(g=g.C())){var m=this.b.gb();m.ju(g.I());m.ku(g.J())}},async w7(g){const m=this.b.Sc();m&&g&&!this.b.Ll&&await this.iL(m,g.mb?g.Ur:[g])},async ysa(g){await d.A.Pa.oa.w7.call(this,
this.b.LI(g))},kza(g){const m=this.b.Sc();m&&g&&this.sX(m,g.mb?g.Ur:[g])},zba(g){d.A.Pa.oa.zba.call(this,this.b.LI(g))},lza(){const g=this.b.Sc();if(g){var m=g.zea();this.sX(g,m)}},async wsa(g){const m=this.b.Sc();g&&m&&!this.b.Ll&&await this.iL(m,g.CV())},async xsa(g){const m=this.b.Sc();(g=this.b.Hb.Dt(g))&&m&&!this.b.Ll&&await this.iL(m,g.CV())},hD(g){const m=this.Ke.W3();if(m)switch(m.lY){case 1:"number"===typeof g&&m.hD(g);break;case 2:"string"===typeof g&&m.hD(g);break;case 3:m.hD(g)}},Jsa(g,
m,q){var l=this.MD(g.toLowerCase(),!0);const r=l.LH,p=m.toLowerCase();r.has(p)&&console.warn(`[Construct 3] Function map '${g}' string '${m}' already in map; overwriting entry`);(l=d.first(r.values())||l.Aq)&&0!==l.Un!==(0!==q.Un)?console.error(`[Construct 3] Function map '${g}' string '${m}' function return type not compatible with other functions in the map; entry ignored`):r.set(p,q)},Ksa(g,m){const q=this.MD(g.toLowerCase(),!0);q.Aq&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);
const l=d.first(q.LH.values())||q.Aq;l&&0!==l.Un!==(0!==m.Un)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):q.Aq=m},voa(g,m,q){q=Math.floor(q);var l=this.MD(g.toLowerCase(),!1);if(l){var r=l.LH.get(m.toLowerCase());if(!r)if(l.Aq)r=l.Aq,q=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${m}'; call ignored (consider setting a default)`);return}if(r.Cd())if(0!==
r.Un)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${m}' has a return type so cannot be called`);else{g=this.b;m=g.ya();var p=m.ec();l=p.ne();var t=0<l.length;t&&m.Ph(l);var v=[];if(p=m.mI(p)){p=p.ci;for(let y=q,z=p.length;y<z;++y)v.push(p[y].Ee())}q=r.ci;for(let y=v.length,z=q.length;y<z;++y)v.push(q[y].zb);return g.Bf?this.Vca(m,r,v,t,l):this.tda(m,r,v,t,l)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}"use strict";
{const d=self.B;d.A.Pa.cb={Lla:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},MAa:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},zo(b){return b.toString()},hB(b){return"string"===typeof b?b.length:0},random(b,c){return"undefined"===typeof c?this.b.Nj()*b:this.b.Nj()*(c-b)+b},H_(...b){return b[Math.floor(this.b.Nj()*b.length)]},nCa(){return Math.PI},yBa(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(d.Ma(b))},cos(b){return Math.cos(d.Ma(b))},tan(b){return Math.tan(d.Ma(b))},asin(b){return d.Pd(Math.asin(b))},acos(b){return d.Pd(Math.acos(b))},atan(b){return d.Pd(Math.atan(b))},exp(b){return Math.exp(b)},fma(b){return Math.log(b)},log10(b){return Math.log(b)/Math.LN10},max(...b){let c=b[0];"number"!==typeof c&&(c=0);for(let f=1,a=b.length;f<a;++f){let e=
b[f];"number"===typeof e&&c<e&&(c=e)}return c},min(...b){let c=b[0];"number"!==typeof c&&(c=0);for(let f=1,a=b.length;f<a;++f){let e=b[f];"number"===typeof e&&c>e&&(c=e)}return c},ba(b,c,f){return d.ba(b,c,f)},$A(b,c,f,a){return d.Be(b,c,f,a)},angle(b,c,f,a){return d.Pd(d.uh(b,c,f,a))},le(b,c,f){return d.le(b,c,f)},sQ(b,c,f){return d.sQ(b,c,f)},DH(b,c,f,a){return d.DH(b,c,f,a)},L_(b,c,f,a,e){return d.L_(b,c,f,a,e)},J_(b,c,f){return d.J_(b,c,f)},eAa(b,c){return d.Pd(d.yq(d.Ma(b),d.Ma(c)))},fAa(b,c,
f){return d.Pd(d.pP(d.Ma(b),d.Ma(c),f))},gAa(b,c,f){return d.Pd(d.hH(d.Ma(b),d.Ma(c),d.Ma(f)))},aDa(b,c,f){c|=0;return(b|0)&~(1<<c)|(0!==f?1:0)<<c},jDa(b,c){return(b|0)^1<<(c|0)},rBa(b,c){return(b|0)&1<<(c|0)?1:0},cCa(){return"\n"},rDa(b){return"string"===typeof b?b.toUpperCase():""},UBa(b){return"string"===typeof b?b.toLowerCase():""},left(b,c){return"string"===typeof b?b.substr(0,c):""},mid(b,c,f){return"string"!==typeof b?"":0>f?b.substr(c):b.substr(c,f)},right(b,c){return"string"===typeof b?b.substr(b.length-
c):""},trim(b){return"string"===typeof b?b.trim():""},kDa(b,c,f){if("string"!==typeof b||"string"!==typeof f)return"";b=b.split(f);c=Math.floor(c);return 0>c||c>=b.length?"":b[c]},lDa(b,c){return"string"===typeof b&&"string"===typeof c&&b.length?b.split(c).length:0},find(b,c){return"string"===typeof b&&"string"===typeof c?b.search(new RegExp(d.Sw(c),"i")):-1},LAa(b,c){return"string"===typeof b&&"string"===typeof c?b.search(new RegExp(d.Sw(c),"")):-1},replace(b,c,f){return"string"===typeof b&&"string"===
typeof c&&"string"===typeof f?b.replace(new RegExp(d.Sw(c),"gi"),f):"string"===typeof b?b:""},BCa(b,c,f){c=this.mC(c,f);return b?b.search(c):-1},ACa(b,c,f,a){c=this.mC(c,f);return b?b.replace(c,a):""},zCa(b,c,f){return(b=this.NR(b.toString(),c,f))?b.length:0},yCa(b,c,f,a){a=Math.floor(a);b=this.NR(b.toString(),c,f);return!b||0>a||a>=b.length?"":b[a]},IDa(b,c){let f=0>b?"-":"";0>b&&(b=-b);f+="0".repeat(Math.max(c-b.toString().length,0));return f+b.toString()},tDa(b){return encodeURIComponent(b)},sDa(b){return decodeURIComponent(b)},
yP(){return this.b.ME},hDa(){return this.b.Pe},CDa(){return(Date.now()-this.b.fq)/1E3},oDa(){return Date.now()},time(){return this.b.Xe()},gDa(){return this.b.Zl},fCa(){return this.b.aO},OAa(){return this.b.aF},rAa(){return this.b.aG},tBa(){return this.b.hC()},FDa(){return this.b.ra.Ui},EDa(){return this.b.ra.Ti},kCa(){return this.b.jf},jCa(){return this.b.hf},iCa(){return this.b.jf},hCa(){return this.b.hf},SCa(){return this.b.gb().Yn},TCa(){return this.b.gb().Zn},ama(){return this.b.gb().qa},NBa(){return this.b.gb().zc},
MBa(){return d.Pd(this.b.gb().ca())},bma(){return this.b.gb().M()},$la(){return this.b.gb().N()},yDa(b){return(b=this.b.gb().wa(b))?b.Zd.P:0},ADa(b){return(b=this.b.gb().wa(b))?b.Zd.O:0},zDa(b){return(b=this.b.gb().wa(b))?b.Zd.V:0},wDa(b){return(b=this.b.gb().wa(b))?b.Zd.U:0},BDa(b){return(b=this.b.gb().wa(b))?b.Zd.width():0},xDa(b){return(b=this.b.gb().wa(b))?b.Zd.height():0},bla(b,c,f){return(b=this.b.gb().wa(b))?b.Bo(c,f)[0]:0},cla(b,c,f){return(b=this.b.gb().wa(b))?b.Bo(c,f)[1]:0},Yla(b,c,f){return(b=
this.b.gb().wa(b))?b.St(c,f)[0]:0},Zla(b,c,f){return(b=this.b.gb().wa(b))?b.St(c,f)[1]:0},JBa(b){return(b=this.b.gb().wa(b))?b.zc:0},EBa(b){return(b=this.b.gb().wa(b))?d.Pd(b.Hd):0},GBa(b){return(b=this.b.gb().wa(b))?100*b.ld():0},KBa(b){return(b=this.b.gb().wa(b))?b.Nk:0},HBa(b){return(b=this.b.gb().wa(b))?100*b.jg:0},IBa(b){return(b=this.b.gb().wa(b))?100*b.kg:0},LBa(b){return(b=this.b.gb().wa(b))?b.kb():0},FBa(b){return(b=this.b.gb().wa(b))?b.Ra():-1},nAa(){const b=this.b.ra;return b?b.HO:""},
TBa(b){const c=this.Lg;return c.pS()?b?(b=c.C3(b))?b.Ra():0:c.At().Ra():0},QCa(){return this.b.ts},mAa(b,c,...f){var a=this.MD(b.toLowerCase(),!1);if(!a)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),0;var e=a.LH.get(c.toLowerCase());if(!e)if(a.Aq)e=a.Aq;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${c}'; returning 0 (consider setting a default)`),0;a=e.Un;const h=e.ix();if(0===a)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${c}' has no return type so cannot be called from an expression; returning 0`),
0;if(!e.Cd())return h;b=this.b.ya();c=b.ec().ne();const g=0<c.length;g&&b.Ph(c);const m=e.ci;for(let q=f.length,l=m.length;q<l;++q)f.push(m[q].zb);e=e.Of();f=e.SJ(e.ne(),a,h,...f);g&&b.nc(c);return f},SBa(){return this.b.Mb.SF},wBa(){return 0===this.Yr?1:this.sz/this.Yr},ug(){return"webgl"},ECa(){return this.b.oe().NA},xBa(){let b=this.b.oe().a4();return Math.round(100*b/1048576)/100},FCa(b,c,f){return d.f9(b,c,f)},ICa(b,c,f){return d.hT(b/100,c/100,f/100)},GCa(b,c,f,a){return d.TC(b/100,c/100,f/
100,a/100)},JCa(b,c,f){return d.hT(b/255,c/255,f/255)},HCa(b,c,f,a){return d.TC(b/255,c/255,f/255,a/255)},sCa(){return this.b.qG},tCa(){return this.b.LZ},xAa(){return this.b.ec().Kd.qa},wAa(){return this.b.ec().Xu}}}"use strict";{const d=self.B;d.A.jb=class extends d.Rh{constructor(b){super(b)}j(){super.j()}}}"use strict";
{const d=self.B;d.A.jb.$c=class extends d.Pj{constructor(b){super(b);this.Ge=b.Ge}j(){d.H(this.Ge);super.j()}Gb(){for(const b of this.Ge)b.p7(this.b)}Mm(b){const c={Jf:this.b.Lc};return Promise.all(this.Ge.map(f=>f.q7(b,c)))}ml(){for(const b of this.Ge)b.E9()}Cx(){this.vX()}vX(){for(const b of this.W.U_())b.ia.NL()}Ww(b){d.A.jb.Sda(this,b)}}}"use strict";
{const d=self.B,b=d.D(d.Rect),c=d.D(d.Td),f=d.D(d.BD);d.A.jb.Instance=class extends d.au{constructor(e,h){super(e);let g=!0,m="",q=0,l=!0;h&&(g=!!h[0],m=h[1],q=h[2],l=h[3]);this.rc=this.W.lR(m)||this.W.Ge[0];this.Vb=d.ba(q,0,this.rc.Le.length-1);this.eg=this.rc.Go(this.Vb);h=this.eg.fc();this.Ru=h.Rd();this.ez=h.Yg();this.g5();e.Nx(2,!0);e.Nx(1,0<=this.rc.Fm());this.Dl=Math.abs(this.rc.Fm());this.Pu=this.rc.UZ;this.oE=d.D(d.zx);this.Bl=this.xk=0;this.IX="";this.Zy=-1;this.Ku="";this.NX=0;e=this.C();
this.Fja=e.Co();e.re(g);e.Mx(l);e.fu(this.eg.bl());e.gu(this.eg.cl());e.hK(this.eg.Lr);e.T();1===this.W.Ge.length&&1===this.W.Ge[0].Le.length||0===this.Dl||this.cd()}j(){this.oE=this.Ru=this.eg=this.rc=null;super.j()}de(){return this.eg.fc()}Ro(){return!0}Xt(){this.Ru=null}gT(){this.NL()}Ec(e){var h=this.Ru;null!==h&&(e.Yf(h),h=this.C(),h.Jh()?this.YK(h,e):this.ZK(h,e))}ZK(e,h){let g=this.Fja;this.b.Ek&&(g=e.Fx(g));h.Pm(g,this.ez)}YK(e,h){const g=e.ZR();if(e.tS()){e.yB(b,c,!1);let m=c;this.b.Ek&&
(m=e.Fx(m));g.HQ(e.il(),m,this.ez);e.sD(!1)}g.Ec(h)}Zw(){return this.oE.ja()}BC(){return this.G.DI(2)}bu(e){this.G.Nx(2,e)}HC(){return this.G.DI(1)}Vx(e){this.G.Nx(1,e)}pJ(){return this.G.DI(4)}UT(e){this.G.Nx(4,e)}oc(){this.Ku&&this.gV();0<=this.Zy&&this.XK();const e=this.Dl;if(this.BC()&&0!==e){this.oE.Qc(this.b.Wg(this.G));var h=this.Zw(),g=this.eg,m=g.$X/e;if(!(h<this.xk+m)){var q=this.rc,l=this.Pu,r=q.Le.length,p=q.Ho(),t=q.EF,v=q.eka;this.HC()?this.Vb++:this.Vb--;this.xk+=m;this.Vb>=r&&(v?(this.Vx(!1),
this.Vb=r-2):t?this.Vb=l:(this.Bl++,this.Bl>=p?this.aL(!1):this.Vb=l));0>this.Vb&&(v?(this.Vb=1,this.Vx(!0),t||(this.Bl++,this.Bl>=p&&this.aL(!0))):t?this.Vb=l:(this.Bl++,this.Bl>=p?this.aL(!0):this.Vb=l));this.Vb=d.ba(this.Vb,0,r-1);m=q.Go(this.Vb);h>this.xk+m.$X/e&&(this.xk=h);this.UD(g,m)}}else this.Wh()}aL(e){this.Vb=e?0:this.rc.Le.length-1;this.bu(!1);this.IX=this.rc.qa;this.UT(!0);this.fa(d.A.jb.F.Z7);this.fa(d.A.jb.F.Y7);this.UT(!1);this.Bl=0}UD(e,h){if(e!==h){var g=this.C(),m=e.fc();e=h.fc();
var q=m.M();m=m.N();var l=e.M(),r=e.N();q!==l&&g.Ze(g.M()*(l/q));m!==r&&g.Ye(g.N()*(r/m));g.fu(h.bl());g.gu(h.cl());g.hK(h.Lr);g.T();this.eg=h;this.Ru=e.Rd();this.ez=e.Yg();h=this.Na().Id;for(let p=0,t=h.length;p<t;++p);this.fa(d.A.jb.F.r8);this.b.aa()}}Via(e){this.bu(!0);this.xk=this.Zw();1===e&&0!==this.Vb&&(this.Zy=0,this.pJ()||this.XK());this.cd()}Sha(e,h){this.Ku=e;this.NX=h;this.cd();this.pJ()||this.gV()}zV(){return this.Ku?this.Ku:this.rc.qa}Tha(e){isFinite(e)&&(this.Zy=e,this.pJ()||this.XK())}Vha(e){this.Dl=
Math.abs(e);this.Vx(0<=e);0<this.Dl&&this.cd()}vV(){return this.HC()?this.Dl:-this.Dl}Uha(e){this.Pu=e=d.ba(Math.floor(e),0,this.rc.Le.length-1)}gV(){const e=this.eg;var h=this.W.lR(this.Ku);this.Ku="";!h||h===this.rc&&this.BC()||(this.rc=h,this.Vx(0<=h.Fm()),this.Dl=Math.abs(h.Fm()),this.Pu=h.UZ,this.Vb=d.ba(this.Vb,0,this.rc.Le.length-1),1===this.NX&&(this.Vb=0),this.bu(!0),this.xk=this.Zw(),h=this.rc.Go(this.Vb),this.UD(e,h))}XK(){const e=this.eg;var h=this.Vb;this.Vb=d.ba(Math.floor(this.Zy),
0,this.rc.Le.length-1);this.Zy=-1;h!==this.Vb&&(h=this.rc.Go(this.Vb),this.UD(e,h),this.xk=this.Zw())}NL(){const e=this.eg.fc();this.Ru=e.Rd();this.ez=e.Yg();this.C().sD(!0)}Rd(){return this.Ru}Yg(){return this.ez}FI(){return this.eg.FI()}Cm(e){const h=this.eg,g=this.C();if("string"===typeof e)e=h.t4(e);else if("number"===typeof e)e=h.s4(e-1);else throw new TypeError("expected string or number");if(!e)return[g.I(),g.J()];f.Ga(e.oO);if(g.Jh()){const [m,q]=g.il().yU(f.Y,f.X);f.set(m,q)}f.offset(-h.bl(),
-h.cl());f.scale(g.M(),g.N());f.rotate(g.ca());f.offset(g.I(),g.J());return[f.Y,f.X]}T3(){return this.C().Lo().h0()}qR(e){e=Math.floor(e);const h=this.C();var g=h.Lo();const m=g.h0();e===m&&(e=0);if(0>e||e>=m)return[0,0];g=g.je;return[g[2*e]+h.I(),g[2*e+1]+h.J()]}Tb(){const e={a:this.rc.wb};0!==this.xk&&(e.fs=this.xk);var h=this.Zw();0!==h&&(e.at=h);0!==this.Vb&&(e.f=this.Vb);0!==this.Dl&&(e.cas=this.Dl);1!==this.Bl&&(e.ar=this.Bl);0!==this.Pu&&(e.rt=this.Pu);this.BC()||(e.ap=this.BC());this.HC()||
(e.af=this.HC());h=this.C();h.Mh()&&(e.ce=h.Mh());return e}Qb(e){var h=this.S().K3(e.a);h&&(this.rc=h);this.xk=e.hasOwnProperty("fs")?e.fs:0;this.oE.Set(e.hasOwnProperty("at")?e.at:0);h=e.hasOwnProperty("f")?e.f:0;this.Vb=d.ba(h,0,this.rc.Le.length-1);this.Dl=e.hasOwnProperty("cas")?e.cas:0;this.Bl=e.hasOwnProperty("ar")?e.ar:1;h=e.hasOwnProperty("rt")?e.rt:0;this.Pu=d.ba(h,0,this.rc.Le.length-1);this.bu(e.hasOwnProperty("ap")?!!e.ap:!0);this.Vx(e.hasOwnProperty("af")?!!e.af:!0);this.eg=h=this.rc.Go(this.Vb);
this.NL();const g=this.C();g.fu(h.bl());g.gu(h.cl());g.hK(h.Lr);g.Mx(!!e.ce)}Lb(e){const h=this.C();switch(e){case 3:return h.Mh();case 2:return d.ba(this.Vb,0,this.rc.Le.length-1)}}Ed(e,h){var g=this.C();switch(e){case 3:g.Mx(!!h);break;case 2:this.bu(!1);e=this.rc.Le.length-1;g=h=d.ba(h,0,e);h=this.rc.Go(this.Vb);const m=this.rc.Go(g);this.UD(h,m);this.Vb=d.ba(g,0,e)}}Sf(){return self.K5}};const a=new WeakMap;self.K5=class extends self.Lt{constructor(){super();a.set(this,self.Tq.Tj().ia)}get animationName(){return a.get(this).zV()}get imageWidth(){return a.get(this).de().M()}get imageHeight(){return a.get(this).de().N()}}}"use strict";
{const d=self.B,b=d.D(d.Rect),c=[],f=[];let a=!1,e=null,h=!1;const g=new Set;function m(p,t,v,y){t.lc<v.lc?p.Set(t,v,y):p.Set(v,t,y)}function q(p,t,v){t.lc<v.lc?p.Jq(t,v):p.Jq(v,t)}function l(p,t,v){return t.lc<v.lc?p.ja(t,v):p.ja(v,t)}function r(p,t,v,y){if(!t)return!1;p=p.Na();const z=0!==v||0!==y,C=p.C(),w=p.R(),E=w.wc;var H=w.Vg();const M=H.Of().Me;var N=H.S();H=H.Dk;const Q=t.ea();N=N!==t;e=t;a=N&&!H;h=!1;let T=0,Z=0,V=!1;Q.Mc?(b.Ga(C.ub()),b.offset(v,y),E.aC(C.wa(),t,b,f),t=f):M?w.J6()&&!Q.Kc.length&&
Q.L.length?t=Q.L:(t=Q.Kc,h=!0):t=Q.L;z&&(T=C.I(),Z=C.J(),C.Dd(v,y),C.T());for(const aa of t)if(E.te(p,aa)){V=!0;if(H)break;N&&g.add(aa)}z&&(C.ib(T,Z),C.T());d.H(f);return V}d.A.jb.Sda=function(p,t){if(a){if(t){{p=p.R().ec().Me;t=e.ea();const v=t.L,y=t.Kc;t.Mc?(t.Yx(g),p&&(d.H(y),t.xQ(g,e.za()))):p?h?t.vba(g):(t.xQ(g,v),t.Yx(g)):t.Yx(g);e.Dc()}}g.clear();e=null;a=!1}};d.A.jb.F={g8(p){if(this.b.Bf)return d.A.jb.F.b2.call(this,p);if(!p)return!1;var t=this.b;const v=t.wc,y=t.ya(),z=y.Qd();var C=y.Vg();
const w=C.S();var E=C.Ih(),H=C.Kt();C=z.yg();const M=t.Zl,N=M-1,Q=C.ec(),T=z.Xa(Q);let Z=E.get("collmemory");Z||(Z=d.D(d.Ex),E.set("collmemory",Z));H.get("spriteCreatedDestroyCallback")||(H.set("spriteCreatedDestroyCallback",!0),t.Eb().addEventListener("instancedestroy",oa=>{Z.YQ(oa.instance)}));t=p.ea();E=w.ea().za();H=null;for(let oa=0;oa<E.length;++oa){const Y=E[oa];t.Mc?(v.aC(Y.C().wa(),p,Y.C().ub(),c),H=c,v.yQ(Y,p,H)):H=t.za();for(let ma=0;ma<H.length;++ma){const da=H[ma];if(v.te(Y,da)||v.LQ(Y,
da)){var V=l(Z,Y,da),aa=!1,ha=-2;"number"===typeof V&&(aa=!0,ha=V);V=!aa||ha<N;m(Z,Y,da,M);V&&(V=Q.me(),y.Uf(V),ha=w.ea(),aa=p.ea(),ha.uf(!1),aa.uf(!1),w===p?(aa=ha.L,d.H(aa),aa.push(Y),aa.push(da),w.Dc()):(ha=ha.L,aa=aa.L,d.H(ha),d.H(aa),ha.push(Y),aa.push(da),w.Dc(),p.Dc()),Q.Qh(C,T),y.nc(V))}else q(Z,Y,da)}d.H(c)}z.Wa();return!1},*b2(p){if(!p)return!1;var t=this.b;const v=t.wc,y=t.ya(),z=y.Qd(),C=z.yg(),w=t.Zl,E=w-1,H=C.ec(),M=z.Xa(H);var N=y.Vg();const Q=N.S();var T=N.Ih();N=N.Kt();let Z=T.get("collmemory");
Z||(Z=d.D(d.Ex),T.set("collmemory",Z));N.get("spriteCreatedDestroyCallback")||(N.set("spriteCreatedDestroyCallback",!0),t.Eb().addEventListener("instancedestroy",oa=>{Z.YQ(oa.instance)}));t=p.ea();T=Q.ea().za();N=null;for(let oa=0;oa<T.length;++oa){const Y=T[oa];t.Mc?(v.aC(Y.C().wa(),p,Y.C().ub(),c),N=c,v.yQ(Y,p,N)):N=t.za();for(let ma=0;ma<N.length;++ma){const da=N[ma];if(v.te(Y,da)||v.LQ(Y,da)){var V=l(Z,Y,da),aa=!1,ha=-2;"number"===typeof V&&(aa=!0,ha=V);V=!aa||ha<E;m(Z,Y,da,w);V&&(V=H.me(),y.Uf(V),
ha=Q.ea(),aa=p.ea(),ha.uf(!1),aa.uf(!1),Q===p?(aa=ha.L,d.H(aa),aa.push(Y),aa.push(da),Q.Dc()):(ha=ha.L,aa=aa.L,d.H(ha),d.H(aa),ha.push(Y),aa.push(da),Q.Dc(),p.Dc()),yield*H.zh(C,M),y.nc(V))}else q(Z,Y,da)}d.H(c)}z.Wa();return!1},U6(p){return r(this,p,0,0)},V6(p,t,v){return r(this,p,t,v)},cra(p){return d.vh(this.zV(),p)},G1(p,t){return d.compare(this.Vb,p,t)},Loa(p,t){return d.compare(this.vV(),p,t)},Y7(p){return d.vh(this.IX,p)},Z7(){return!0},r8(){return!0},P6(){return 0>this.C().M()},vra(){return 0>
this.C().N()},Wt(){return!0},Dx(){return!0},Mh(){return this.C().Mh()}}}"use strict";
{const d=self.B;d.A.jb.oa={bba(b,c,f,a){if(b&&c){var [e,h]=this.Cm(f);if(f=this.b.HB(b,c,e,h,a)){a&&c.rK(f);b.hc().Rt()&&(c=f.C(),c.Gc(this.C().ca()),c.T());c=this.b.ya();c.Kf(!0);f.dE();c.Kf(!1);a=this.b.gx().Ih();c=!1;if(!a.has("Spawn_LastExec")||a.get("Spawn_LastExec")<this.b.bv)c=!0,a.set("Spawn_LastExec",this.b.bv);if(b!==this.S()&&(b=b.ea(),b.uf(!1),b=b.L,c&&d.H(b),b.push(f),f.md()))for(const g of f.siblings())f=g.S().ea(),c?f.rl(g):(f.uf(!1),f.rr(g))}}},vya(){this.bu(!1)},sya(b){this.Via(b)},
q$(b,c){this.Sha(b,c)},r$(b){this.Tha(b)},qwa(b){this.Vha(b)},pwa(b){this.Uha(b)},gaa(b){const c=this.C(),f=c.M();b=Math.abs(f)*(0===b?-1:1);f!==b&&(c.Ze(b),c.T())},Kwa(b){const c=this.C(),f=c.N();b=Math.abs(f)*(0===b?-1:1);f!==b&&(c.Ye(b),c.T())},iu(b){const c=this.eg.fc(),f=this.C();var a=0>f.M()?-1:1;const e=0>f.N()?-1:1;a*=c.M()*b;b=c.N()*b*e;if(f.M()!==a||f.N()!==b)f.vc(a,b),f.T()},async ES(b,c){const f=this.eg.fc(),a=this.C(),e=this.b;if(f.pi===b)0===c&&(a.vc(f.M(),f.N()),a.T()),this.fa(d.A.jb.F.Wt);
else{var h=d.D(d.Mt);try{await h.wJ(e,b);if(!h.yx())throw Error("image failed to load");await h.Kj(e.oe(),{Jf:this.b.Lc})}catch(g){console.error("Load image from URL failed: ",g);this.fa(d.A.jb.F.Dx);return}f.Q9(h);this.Va.vX();this.hp()||0!==c||(a.vc(f.M(),f.N()),a.T());e.aa();this.hp()||await this.rb(d.A.jb.F.Wt)}},zwa(b){this.C().Mx(b)},gK(b,c){this.C().gK(0===b,c)},aK(b){this.C().Wf(b);this.b.aa()}}}"use strict";
self.B.A.jb.cb={Jna(){return this.Vb},Kna(){return this.rc.Le.length},Lna(){return this.rc.qa},Mna(){return this.vV()},zta(){return this.rc.Fm()},S5(d){return this.Cm(d)[0]},T5(d){return this.Cm(d)[1]},Pqa(){return this.FI()},U5(){return this.de().M()},Q5(){return this.de().N()},uua(d){return this.qR(d)[0]},vua(d){return this.qR(d)[1]},tua(){return this.T3()}};"use strict";{const d=self.B;d.A.$q=class extends d.Rh{constructor(b){super(b)}j(){super.j()}}}"use strict";
{const d=self.B;d.A.$q.$c=class extends d.Pj{constructor(b){super(b)}j(){super.j()}Gb(){this.fc().Tt(this.b)}Mm(b){return this.fc().Kj(b,{Jf:this.b.Lc})}ml(){this.fc().Eg()}}}"use strict";
{const d=self.B,b=d.D(d.Rect);d.A.$q.Instance=class extends d.au{constructor(c,f){super(c);this.Kl=!0;this.Qa=c=d.D(self.i9);c.wH=()=>this.qga();this.EG=null;this.FZ=(e,h,g,m,q,l)=>this.uga(e,h,g,m,q,l);this.DZ=e=>this.tga(e);this.RM=!0;f&&(c.Wx(f[0]),c.$x(d.Ma(f[1])),c.jK(f[2]?"one-shot":"continuous-spray"),this.DL(this.b.mx(f[3])),c.Sx(f[4]),c.Rx(f[5]),c.Qx(f[6]/100),c.Px(f[7]),c.lD(f[8]),c.mD(f[9]),c.kD(f[10]),c.jD(f[11]),c.iD(f[12]),c.fr(f[13]),c.hr(f[14]),c.nD(f[15]),c.pD(f[16]),c.oD(f[17]),
c.$J(f[18]),c.by(f[19]));this.yX();this.EG&&(this.RM=!1);"one-shot"===c.cq?c.W1():c.uD(!0);const a=this.C();a.KT(!0);this.G.Eb().addEventListener("bboxchange",()=>{a.e9(this.Qa.ub())});this.cd()}j(){this.Qa.j();this.DZ=this.FZ=this.Qa=null;super.j()}DL(c){c===this.S()&&(c=null);this.EG=c;this.Qa.xH=c?f=>this.sga(f):null;this.EG||(this.RM=!0)}yX(){const c=this.Qa,f=this.C();c.daa(f.ld());c.dU(this.b.Ek);c.saa(f.I());c.taa(f.J());c.raa(f.ca());c.W$(f.OR())}qga(){this.b.Ah(this.G)}Ec(c){if(this.RM){var f=
this.W.fc(),a=f.Rd();if(a){var e=this.C(),h=e.wa();h.uC(e.Ci(),b);c.Yf(a);a=h.UB(e.Ci());this.Qa.laa(h.Em()*a);this.Qa.Ec(c,f.Yg(),b)}}}Tb(){const c=this.Qa;return{r:c.Qv,sc:c.AA,st:c.cq,isp:c.xz,isz:c.wz,io:c.vz,gr:c.lz,xr:c.VA,yr:c.WA,spr:c.yz,szr:c.qF,grnd:c.kz,acc:c.Ly,g:c.jz,lar:c.Pz,lsr:c.Rz,lor:c.Qz,dm:c.Wu,to:c.mj,s:c.JC(),pcc:c.Nr,ft:this.Kl,p:c.gi.map(f=>f.toJSON())}}Qb(c){var f=this.Qa;f.Wx(c.r);f.$x(c.sc);f.jK(c.st);f.Sx(c.isp);f.Rx(c.isz);f.Qx(c.io);f.Px(c.gr);f.lD(c.xr);f.mD(c.yr);f.kD(c.spr);
f.jD(c.szr);f.iD(c.grnd);f.fr(c.acc);f.hr(c.g);f.nD(c.lar);f.pD(c.lsr);f.oD(c.lor);f.$J(c.dm);f.by(c.to);f.uD(c.s);f.bia(c.pcc);this.Kl=c.ft;c=c.p;f.bU(c.length);f=f.gi;for(let a=0,e=f.length;a<e;++a)f[a].qm(c[a])}oc(){const c=this.b.Wg(this.G);this.yX();this.Kl&&"one-shot"===this.Qa.cq&&this.Qa.C9();this.Qa.oc(c);this.Qa.JC()&&this.b.aa();this.C().T();this.Kl=!1}sga(c){const f=this.b.HB(this.EG,this.C().wa(),c.I(),c.J()),a=f.C();a.vc(c.Jj(),c.Jj());a.Gc(c.ca());a.qe(c.ld());a.nK(this.C().pb);a.T();
a.LU(this.Na(),!0);f.KL();c.Maa(this.FZ);c.B$(this.DZ);return f}uga(c,f,a,e,h,g){c.wx()||(c=c.C(),c.Dd(f,a),c.vc(c.M()+e,c.N()+e),c.Gc(c.ca()+h),c.qe(c.ld()+g),c.T())}tga(c){c.wx()||this.b.Ah(c)}Lb(c){const f=this.Qa;switch(c){case 0:return f.Qv;case 1:return d.Pd(f.AA);case 2:return"one-shot"===f.cq?1:0;case 4:return f.xz;case 5:return f.wz;case 6:return 100*f.vz;case 7:return f.lz;case 8:return f.VA;case 9:return f.WA;case 10:return f.yz;case 11:return f.qF;case 12:return f.kz;case 13:return f.Ly;
case 14:return f.jz;case 15:return f.Pz;case 16:return f.Rz;case 17:return f.Qz;case 18:return f.Wu;case 19:return f.mj}}Ed(c,f){const a=this.Qa;switch(c){case 0:a.Wx(f);break;case 1:a.$x(d.Ma(f));break;case 2:a.jK(f?"one-shot":"continuous-spray");break;case 4:a.Sx(f);break;case 5:a.Rx(f);break;case 6:a.Qx(f/100);break;case 7:a.Px(f);break;case 8:a.lD(f);break;case 9:a.mD(f);break;case 10:a.kD(f);break;case 11:a.jD(f);break;case 12:a.iD(f);break;case 13:a.fr(f);break;case 14:a.hr(f);break;case 15:a.nD(f);
break;case 16:a.pD(f);break;case 17:a.oD(f);break;case 18:a.$J(f);break;case 19:a.by(f)}}}}"use strict";self.B.A.$q.F={JC(){return this.Qa.JC()}};"use strict";
{const d=self.B;d.A.$q.oa={uD(b){this.Qa.uD(0!==b)},Wx(b){this.Qa.Wx(b);"one-shot"===this.Qa.cq&&this.Kl&&this.Qa.bU(b)},Exa(b){this.DL(b)},nza(){this.DL(null)},$x(b){this.Qa.$x(d.Ma(b))},Sx(b){this.Qa.Sx(b)},Rx(b){this.Qa.Rx(b)},Qx(b){this.Qa.Qx(b/100)},Px(b){this.Qa.Px(b)},Zxa(b){this.Qa.lD(b)},$xa(b){this.Qa.mD(b)},Mxa(b){this.Qa.kD(b)},Lxa(b){this.Qa.jD(b)},Owa(b){this.Qa.iD(b)},Dxa(b){this.Qa.fr(b)},hr(b){this.Qa.hr(b)},owa(b){this.Qa.nD(b)},qxa(b){this.Qa.pD(b)},Cxa(b){this.Qa.oD(b)},by(b){this.Qa.by(b)},
aK(b){this.C().Wf(b);this.b.aa()}}}"use strict";{const d=self.B;d.A.$q.cb={Eta(){return this.Qa.gi.length},Lua(){return this.Qa.Qv},mya(){return d.Pd(this.Qa.AA)},Yqa(){return this.Qa.xz},Xqa(){return this.Qa.wz},Vqa(){return 100*this.Qa.vz},Uqa(){return this.Qa.lz},Uza(){return this.Qa.VA},Xza(){return this.Qa.WA},Zqa(){return this.Qa.yz},Tqa(){return this.Qa.kz},Cta(){return this.Qa.Ly},$R(){return this.Qa.jz},Dta(){return this.Qa.Pz},Gta(){return this.Qa.Rz},Fta(){return this.Qa.Qz},Vya(){return this.Qa.mj}}}"use strict";
{const d=self.B,b=[],c=new Set(["continuous-spray","one-shot"]),f=["fade-to-invisible","timeout-expired","particle-stopped"];self.i9=class{constructor(){this.AA=this.Qv=0;this.cq="continuous-spray";this.hs=!1;this.RN=0;this.RY=!1;this.wz=this.xz=this.h_=this.GG=this.FG=0;this.JY=1;this.Nr=this.mj=this.Wu=this.Qz=this.Rz=this.Pz=this.jz=this.Ly=this.kz=this.qF=this.yz=this.WA=this.VA=this.lz=this.vz=0;this.EZ=1;this.xH=this.wH=null;this.gi=[];this.dn=new d.Rect;this.pb=new d.sb}j(){this.YH();d.H(this.gi);
this.pb=this.dn=this.xH=this.wH=this.gi=null}YH(){const a=this.gi;for(let e=0,h=a.length;e<h;++e)a[e].Pw();d.mm(b,a);d.H(a);1E3<b.length&&d.zd(b,1E3);this.hs=!1}W1(){for(let a=0,e=this.Qv;a<e;++a)this.OK();this.gi.length&&(this.hs=!0)}OK(){let a;b.length?(a=b.pop(),a.J$(this)):a=d.D(self.h9,this);this.gi.push(a);a.Tf(this.xH)}C9(){const a=this.gi,e=this.xH;for(let h=0,g=a.length;h<g;++h)a[h].Tf(e)}bU(a){var e=this.gi;if(a<e.length){a=e.length-a;for(let h=0;h<a;++h){const g=e.pop();g.Pw();b.push(g)}1E3<
b.length&&d.zd(b,1E3)}else if(a>e.length)for(e=a-e.length,a=0;a<e;++a)this.OK()}oc(a){this.Uia(a);this.$ia(a);this.Kfa()}Uia(a){if("continuous-spray"===this.cq&&this.hs){this.Nr+=a*this.Qv;a=Math.floor(this.Nr);this.Nr-=a;for(let e=0;e<a;++e)this.OK()}}bia(a){this.Nr=a}$ia(a){const e=this.dn;e.set(this.FG,this.GG,this.FG,this.GG);const h=this.gi;let g=0;for(let m=0,q=h.length;m<q;++m){const l=h[m];h[g]=l;l.oc(a);l.Nb?(++g,e.wla(l.ub())):(l.Pw(),b.push(l))}d.zd(h,g);1E3<b.length&&d.zd(b,1E3)}Kfa(){"one-shot"===
this.cq&&0===this.gi.length&&this.hs&&(this.wH&&this.wH(),this.hs=!1)}Ec(a,e,h){a.hba(e);this.pb.Ga(a.cx());const g=this.gi;for(let m=0,q=g.length;m<q;++m){const l=g[m];h.eB(l.ub())&&l.Ec(a,e)}}cx(){return this.pb}Wx(a){this.Qv=+a}$x(a){this.AA=+a}jK(a){if(!c.has(a))throw Error("invalid spray type");this.cq=a}uD(a){this.hs=!!a}JC(){return this.hs}daa(a){this.RN=+a}dU(a){this.RY=!!a}saa(a){this.FG=+a}taa(a){this.GG=+a}raa(a){this.h_=+a}Sx(a){this.xz=+a}Rx(a){this.wz=+a}W$(a){this.JY=+a}Qx(a){this.vz=
+a}Px(a){this.lz=+a}lD(a){this.VA=+a}mD(a){this.WA=+a}kD(a){this.yz=+a}jD(a){this.qF=+a}iD(a){this.kz=+a}fr(a){this.Ly=+a}hr(a){this.jz=+a}nD(a){this.Pz=+a}pD(a){this.Rz=+a}oD(a){this.Qz=+a}C$(a){a=f.indexOf(a);if(-1===a)throw Error("invalid destroy mode");this.Wu=a}$J(a){this.C$(f[a])}by(a){this.mj=+a}laa(a){this.EZ=+a}ub(){return this.dn}}}"use strict";
{const d=self.B;function b(h){return Math.random()*h-h/2}const c=new d.Td,f=new d.sb,a=self.devicePixelRatio||1;let e=!1;self.h9=class{constructor(h){this.SE=h;this.Nb=!1;this.Hd=this.qc=this.X=this.Y=0;this.Nn=1;this.pp=this.hv=this.jF=this.Oe=this.iF=this.yN=0;this.qp=new d.Rect;this.LE=this.YG=this.Xs=null}J$(h){this.SE=h}Tf(h){const g=this.SE;this.Nb=!0;this.Y=g.FG+b(g.VA);this.X=g.GG+b(g.WA);this.qc=g.xz+b(g.yz);this.Hd=g.h_+b(g.AA);this.yN=this.Nn=g.vz;this.Oe=(g.wz+b(g.qF))*g.JY;this.jF=this.Oe/
2;this.iF=g.lz+b(g.kz);this.pp=this.hv=0;this.LL();h?this.Xs||(this.Xs=h(this)):this.LE=this.YG=this.Xs=null}Maa(h){this.YG=h}B$(h){this.LE=h}Pw(){const h=this.LE;h&&h(this.Xs);this.LE=this.YG=this.Xs=null}toJSON(){return[this.Y,this.X,this.qc,this.Hd,this.Nn,this.iF,this.Oe,this.hv,this.pp]}qm(h){this.Y=h[0];this.X=h[1];this.qc=h[2];this.Hd=h[3];this.Nn=h[4];this.iF=h[5];this.Oe=h[6];this.hv=h[7];this.pp=h[8];this.jF=this.Oe/2;this.LL()}oc(h){var g=this.SE,m=this.qc*h,q=this.Hd;const l=Math.cos(q)*
m;m=Math.sin(q)*m+this.hv*h;this.Y+=l;this.X+=m;q=this.iF*h;this.Oe+=q;this.jF=this.Oe/2;this.qc+=g.Ly*h;this.hv+=g.jz*h;this.pp+=h;this.LL();var r=g.Pz,p=g.Rz;const t=g.Qz;let v=0;0!==r&&(v=b(r*h),this.Hd+=v);0!==p&&(this.qc+=b(p*h));0!==t&&(this.Nn=d.ba(this.Nn+b(t*h),0,1));h=1<=this.Oe&&(2===g.Wu?0<this.qc:this.pp<g.mj);(r=this.YG)&&h&&(p=g.RN*this.Nn,0===g.Wu&&(p*=1-this.pp/g.mj),g=p-this.yN,this.yN=p,r(this.Xs,l,m,q,v,g));this.Nb=h}ub(){return this.qp}LL(){const h=this.Y,g=this.X,m=this.jF;this.qp.set(h-
m,g-m,h+m,g+m)}Ec(h,g){if(!this.Xs){var m=this.SE,q=m.RN*this.Nn;0===m.Wu&&(q*=1-this.pp/m.mj);if(!(0>=q)){var l=this.Oe*m.EZ*a;if(!(1>l)){var r=this.Y,p=this.X;m.RY&&(r=r+.5|0,p=p+.5|0);l>h.bG||l<h.sZ?(f.Ga(m.cx()),f.jma(q),h.Ii(f),e=!0,c.wj(this.qp),h.Pm(c,g)):(e&&(h.Ii(m.cx()),e=!1),h.o9(r,p,l,q))}}}}I(){return this.Y}J(){return this.X}Jj(){return this.Oe}ca(){return this.Hd}ld(){return this.Nn}}}"use strict";{const d=self.B;d.A.Li=class extends d.Rh{constructor(b){super(b)}j(){super.j()}}}"use strict";
{const d=self.B;d.A.Li.$c=class extends d.Pj{constructor(b){super(b);this.Jb=d.D(self.cba)}j(){super.j()}Gb(){this.fc().Tt(this.b)}Mm(b){return this.fc().Kj(b,{Jf:this.b.Lc})}ml(){this.fc().Eg()}Fba(b,c,f,a){const e=this.fc(),h=this.Jb;h.Ze(e.M());h.Ye(e.N());h.cD(b);h.XJ(c);h.YJ(f);h.iK(a);h.BU()}}}"use strict";
{const d=self.B,b=self.yh,c=["left","center","right"],f=["top","center","bottom"];d.A.Li.Instance=class extends d.au{constructor(h,g){super(h);this.Ac="";this.Dp=!0;this.fh=this.bg=16;this.yp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";h="";this.hk=1;this.Qe=this.ef=this.Xc=this.ik=0;this.oo=!0;this.nf=null;this.fm=this.iw=-1;this.MA=0;g&&(this.Ac=g[0],this.Dp=g[1],this.bg=g[2],this.fh=g[3],this.yp=g[4],h=g[5],this.hk=g[6],this.ik=
g[7],this.Xc=g[8],this.ef=g[9],this.Qe=g[10],this.oo=0===g[11],this.C().re(g[12]));this.Va.Fba(this.bg,this.fh,this.yp,h);this.nf=d.D(self.eba,this.Va.Jb);g=this.C();this.nf.vc(g.M(),g.N());this.Xh()}j(){this.kp();this.nf.j();this.nf=null;super.j()}Xh(){const h=this.nf;h&&(h.JT(this.Dp),h.mu(this.Ac),h.mU(this.oo?"word":"character"),h.U$(c[this.ef]),h.Qaa(f[this.Qe]),h.jU(this.ik),h.qD(this.Xc))}Ec(h){const g=this.W.fc();var m=g.Rd();if(m){h.Yf(m);m=this.C();var q=m.Co(),l=this.nf;l.iu(this.hk*m.OR());
this.b.Ek&&(q=m.Fx(q));l.vc(m.M(),m.N());l.Jb.xaa(g.Yg());l.Ii(m.pb);l.Ec(h,q.jc,q.kc,m.ca())}}Tb(){const h={t:this.Ac,ebbc:this.Dp,csc:this.hk,csp:this.ik,lh:this.Xc,ha:this.ef,va:this.Qe,w:this.oo,cw:this.Va.Jb.bg,ch:this.Va.Jb.fh,cs:this.Va.Jb.yp,sd:this.Va.Jb.Wv};-1!==this.fm&&(h.tw={st:this.iw,en:this.fm,l:this.MA});return h}Qb(h){this.kp();this.Ac=h.t;this.Dp=h.ebbc;this.hk=h.csc;this.ik=h.csp;this.Xc=h.lh;this.ef=h.ha;this.Qe=h.va;this.oo=h.w;if(h.hasOwnProperty("tw")){var g=h.tw;this.iw=g.st;
this.fm=g.en;this.MA=h.l}g=this.Va.Jb;g.cD(h.cw);g.XJ(h.ch);g.YJ(h.cs);g.iK(h.sd);this.Xh();-1!==this.fm&&this.cd()}Lb(h){switch(h){case 0:return this.Ac;case 1:return this.Dp;case 2:return this.Va.Jb.bg;case 3:return this.Va.Jb.fh;case 4:return this.Va.Jb.yp;case 5:return this.Va.Jb.Wv;case 6:return this.hk;case 7:return this.ik;case 8:return this.Xc;case 9:return this.ef;case 10:return this.Qe;case 11:return this.oo?1:0}}Ed(h,g){switch(h){case 0:if(this.Ac===g)break;this.Ac=g;this.Xh();break;case 1:if(this.Dp===
!!g)break;this.Dp=!!g;this.Xh();break;case 2:this.Va.Jb.cD(g);break;case 3:this.Va.Jb.XJ(g);break;case 4:this.Va.Jb.YJ(g);break;case 5:this.Va.Jb.iK(g);break;case 6:if(this.hk===g)break;this.hk=g;this.Xh();break;case 7:if(this.ik===g)break;this.ik=g;this.Xh();break;case 8:if(this.Xc===g)break;this.Xc=g;this.Xh();break;case 9:if(this.ef===g)break;this.ef=g;this.Xh();break;case 10:if(this.Qe===g)break;this.Qe=g;this.Xh();break;case 11:this.oo!==(0===g)&&(this.oo=0===g,this.Xh())}}$D(h){this.Ac!==h&&
(this.Ac=h,this.nf.mu(h),this.b.aa())}Wia(h,g){this.$D(h);this.iw=this.b.$I();this.fm=this.iw+g/this.Na().I3();this.MA=d.tm.sU(h).length;this.nf.fD(0);this.cd()}kp(){this.fm=this.iw=-1;this.MA=0;this.nf.fD(-1);this.Wh()}Tda(){-1!==this.fm&&(this.kp(),this.fa(d.A.Li.F.fT),this.b.aa())}Cia(h){this.hk!==h&&(this.hk=h,this.nf.iu(this.hk),this.b.aa())}$ha(h){this.ik!==h&&(this.ik=h,this.nf.jU(this.ik),this.b.aa())}bX(h){this.Xc!==h&&(this.Xc=h,this.nf.qD(this.Xc),this.b.aa())}lia(h){this.ef!==h&&(this.ef=
h,this.Xh(),this.b.aa())}kX(h){this.Qe!==h&&(this.Qe=h,this.Xh(),this.b.aa())}Oia(h){h=!!h;this.oo!==h&&(this.oo=h,this.Xh(),this.b.aa())}oc(){var h=this.b.$I();h>=this.fm?(this.kp(),this.fa(d.A.Li.F.fT),this.b.aa()):(h=d.xma(this.iw,this.fm,h,this.MA),h=Math.floor(h),h!==this.nf.ai&&(this.nf.fD(h),this.b.aa()))}Sf(){return self.J5}};const a=new WeakMap,e=new Map([["top",0],["center",1],["bottom",2]]);self.J5=class extends self.Lt{constructor(){super();a.set(this,self.Tq.Tj().ia)}get text(){return a.get(this).Ac}set text(h){b.Vf(h);
const g=a.get(this);g.kp();g.$D(h)}set lineHeight(h){b.Qm(h);a.get(this).bX(h)}get lineHeight(){return a.get(this).Xc}set verticalAlign(h){b.Vf(h);h=e.get(h);if("undefined"===typeof h)throw Error("invalid mode");a.get(this).kX(h)}get verticalAlign(){return f[a.get(this).Qe]}}}"use strict";{const d=self.B;d.A.Li.F={Woa(b,c){return c?this.Ac===b:d.vh(this.Ac,b)},Qra(){return-1!==this.fm},fT(){return!0}}}"use strict";
self.B.A.Li.oa={mu(d){this.kp();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.$D(d.toString())},Nna(d){this.kp();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.$D(this.Ac+d)},eza(d,b){this.kp();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.Wia(d.toString(),b)},dza(){this.Tda()},iu(d){this.Cia(d)},ywa(d){this.$ha(d)},qD(d){this.bX(d)},cD(d,b){let c=!1;const f=this.Va.Jb;for(const a of d)if(" "===a)f.qaa(b),c=!0;else if(d=f.ZB(a))d.QT(b),
c=!0;c&&f.x$();this.b.aa()},aK(d){this.C().Wf(d);this.b.aa()},Pwa(d){this.lia(d)},Uxa(d){this.kX(d)},Yxa(d){this.Oia(0===d)}};"use strict";{const d=self.B;d.A.Li.cb={Boa(b){return(b=this.Va.Jb.ZB(b))?b.xI():this.Va.Jb.bg},yoa(){return this.fh},zoa(){return this.hk},Aoa(){return this.ik},usa(){return this.Xc},Text(){return this.Ac},iua(){return this.Dp?d.tm.sU(this.Ac):this.Ac},Pya(){const b=this.C();this.nf.vc(b.M(),b.N());return this.nf.UR()},Oya(){const b=this.C();this.nf.vc(b.M(),b.N());return this.nf.TR()}}}"use strict";
{const d=self.B;self.dba=class{constructor(b,c,f,a){c=b.bg;let e=b.fh;this.Jb=b;this.NZ=new d.Rect(f,a,f+c,a+e);this.Yl=new d.Rect;this.zM=-1;this.CX()}j(){this.Yl=this.NZ=this.Jb=null}CX(){let b=this.Jb.M(),c=this.Jb.N();this.Yl.Ga(this.NZ);this.Yl.Sk(b,c);this.Yl.dma(this.Jb.Yg())}Yg(){return this.Yl}QT(b){this.zM=b}xI(){return 0>this.zM?this.Jb.bg:this.zM}}}"use strict";
{const d=self.B,b=new d.Rect,c=new d.Td,f=new d.sb,a=new Set(["left","center","right"]),e=new Set(["top","center","bottom"]),h=new Set(["word","character"]);self.eba=class{constructor(g){this.Jb=g;this.ln=this.dg=0;this.Ac="";this.Af=!1;this.bk=null;this.rg=d.D(d.hy);this.Zs="word";this.nP=!1;this.ef="left";this.Qe="top";this.zc=1;this.Xc=this.Ks=0;this.pb=d.D(d.sb);this.ai=-1;this.$h=0;this.Zz=(m,q)=>this.vy(m,q);this.Jb.ica(this)}j(){this.Jb.iha(this);this.Zz=this.pb=null;this.rg.Bd();this.bk=this.Jb=
this.rg=null}vy(g,m){var q=this.Fd(m,"scale"),l=q?parseFloat(q.param):this.zc;q=this.Fd(m,"scalex");q=(q?parseFloat(q.param):1)*l;m=this.Fd(m,"scaley");m=this.Jb.fh*(m?parseFloat(m.param):1)*l+this.Xc;const r=this.Jb;l=r.bg*q;const p=this.Ks;if(r.jv){let v=0,y=0;for(var t of g){g=l;const z=r.ZB(t);z?g=z.xI()*q:" "===t&&(g=r.RR()*q);y+=g;++v}return{width:y+v*p,height:m}}t=[...g].length;return{width:l*t+Math.max(t,0)*p,height:m}}an(){this.nP=!0;this.rg.Bd()}vc(g,m){0>=g||0>=m||this.dg===g&&this.ln===
m||(this.dg!==g&&this.an(),this.dg=g,this.ln=m)}fD(g){this.ai=Math.floor(g)}Fd(g,m){for(let q=g.length-1;0<=q;--q){const l=g[q];if(l.tag===m)return l}return null}lp(g,m){return!!this.Fd(g,m)}qr(){if(this.nP){!this.Af||this.bk&&this.bk.toString()===this.Ac||(this.bk=new d.tm(this.Ac,{b0:!0}));var g=-this.Ks;this.rg.hy(this.Af?this.bk.r0():this.Ac,this.Zz,this.dg,this.Zs,g);this.nP=!1}}Ec(g,m,q,l){this.qr();let r=this.$h=0;const p=this.Xc,t=d.iH(this.rg.Rl),v=Math.sin(l);l=Math.cos(l);var y=t.reduce((z,
C)=>z+C.height,0)-p;"center"===this.Qe?r=Math.max(Math.floor(this.ln/2-y/2),0):"bottom"===this.Qe&&(r=Math.floor(this.ln-y));for(let z=0,C=t.length;z<C;++z){y=t[z];const w=y.height;if(0<z&&r>this.ln-(w-p))break;0<=r&&this.Gda(g,y,m,q,r,v,l);r+=w}}Gda(g,m,q,l,r,p,t){const v=m.height;let y=0;"center"===this.ef?y=Math.max(Math.floor((this.dg-m.width)/2),0):"right"===this.ef&&(y=Math.max(Math.floor(this.dg-m.width),0));for(const z of m.BP)this.yda(g,z,q,l,y,r,p,t,v),y+=z.width}yda(g,m,q,l,r,p,t,v,y){var z=
m.text,C=m.width,w=m.Od;if(-1!==this.ai){if(this.$h>=this.ai)return;this.$h+z.length>this.ai&&(z=z.substr(0,this.ai-this.$h),C=this.vy(z,w).width);this.$h+=z.length}var E=this.Fd(w,"background");if(!(d.KC(z)&&!E||this.lp(w,"hide"))){var H=(m=this.Fd(w,"scale"))?parseFloat(m.param):this.zc;m=this.Fd(w,"scalex");m=(m?parseFloat(m.param):1)*H;var M=this.Fd(w,"scaley");H*=this.Jb.fh*(M?parseFloat(M.param):1);p+=y-this.Xc-H;y=this.Fd(w,"offsetx");r+=y?parseFloat(y.param):0;y=this.Fd(w,"offsety");p+=y?
parseFloat(y.param):0;E&&(g.ZJ(),f.g0(E.param),f.vj(1),g.Ii(f),b.set(r,p,r+C,p+H),b.V>this.dg&&b.n0(this.dg),c.GH(b,t,v),c.offset(q,l),g.Td(c),g.Ki());(C=this.Fd(w,"color"))?(f.g0(C.param),f.vj(this.pb.Ya)):f.Ga(this.pb);(C=this.Fd(w,"opacity"))&&f.vj(f.Ya*parseFloat(C.param)/100);f.CH();g.Ii(f);C=this.Jb.bg*m;w=Math.abs(this.Ks);for(const N of z)if(z=this.Jb.ZB(N)){E=z.xI()*m;if(r+E>this.dg+w+1E-5)break;b.set(r,p,r+C,p+H);c.GH(b,t,v);c.offset(q,l);g.Pm(c,z.Yg());r+=E+this.Ks}else r+=this.Jb.RR()*
m+this.Ks}}JT(g){g=!!g;this.Af!==g&&(this.Af=g,this.an())}mu(g){this.Ac!==g&&(this.Ac=g,this.an())}mU(g){if(!h.has(g))throw Error("invalid word wrap mode");this.Zs!==g&&(this.Zs=g,this.an())}U$(g){if(!a.has(g))throw Error("invalid alignment");this.ef=g}Qaa(g){if(!e.has(g))throw Error("invalid alignment");this.Qe=g}iu(g){this.zc!==g&&(this.zc=g,this.an())}jU(g){this.Ks!==g&&(this.Ks=g,this.an())}qD(g){this.Xc=g;this.an()}qe(g){g=d.ba(g,0,1);this.pb.wq=g}Ii(g){this.pb.jd(g)||this.pb.Ga(g)}cx(){return this.pb}UR(){this.qr();
return this.rg.FR()}TR(){this.qr();const g=this.Xc;return this.rg.Rl.length*(this.Jb.fh*this.zc+g)-g}}}"use strict";
{const d=self.B,b={width:256,height:256,G_:16,F_:16,characterSet:""};self.cba=class{constructor(c){c=Object.assign({},b,c);if(0>=c.width||0>=c.height||0>=c.G_||0>=c.F_)throw Error("invalid size");this.$=c.width;this.Z=c.height;this.bg=c.G_;this.fh=c.F_;this.yp=c.characterSet;this.Wv="";this.zA=null;this.jv=!1;this.Js=-1;this.Yl=new d.Rect(0,0,1,1);this.Kr=new Map;this.Tp=!0;this.Gr=new Set}j(){this.Yl=null;this.xW();this.Kr=null;this.Gr&&this.Gr.clear();this.Gr=null}xW(){for(let c of this.Kr.values())c.j();
this.Kr.clear()}ica(c){this.Gr.add(c)}iha(c){this.Gr.delete(c)}BU(){if(this.Tp){this.xW();var c=[...this.yp],f=Math.floor(this.$/this.bg),a=f*Math.floor(this.Z/this.fh);for(let e=0,h=c.length;e<h&&!(e>=a);++e){let g=c[e];this.Kr.set(g,d.D(self.dba,this,g,e%f*this.bg,Math.floor(e/f)*this.fh))}this.jv=!1;this.Js=-1;if(Array.isArray(this.zA))for(let e of this.zA)if(Array.isArray(e)&&2===e.length&&(c=e[0],f=e[1],"number"===typeof c&&isFinite(c)&&"string"===typeof f&&c!==this.bg))for(let h of f)(f=this.Kr.get(h))?
(f.QT(c),this.jv=!0):" "===h&&(this.Js=c,this.jv=!0);this.Tp=!1;for(let e of this.Gr)e.an()}}x$(){this.jv=!0;for(const c of this.Gr)c.an()}ZB(c){this.BU();return this.Kr.get(c)||null}Ze(c){c=Math.floor(c);if(0>=c)throw Error("invalid size");this.$!==c&&(this.$=c,this.Tp=!0)}M(){return this.$}Ye(c){c=Math.floor(c);if(0>=c)throw Error("invalid size");this.Z!==c&&(this.Z=c,this.Tp=!0)}N(){return this.Z}xaa(c){if(!this.Yl.jd(c)){this.Yl.Ga(c);for(const f of this.Kr.values())f.CX()}}Yg(){return this.Yl}cD(c){c=
Math.floor(c);if(0>=c)throw Error("invalid size");this.bg!==c&&(this.bg=c,this.Tp=!0)}XJ(c){c=Math.floor(c);if(0>=c)throw Error("invalid size");this.fh!==c&&(this.fh=c,this.Tp=!0)}YJ(c){this.yp!==c&&(this.yp=c,this.Tp=!0)}iK(c){if(this.Wv!==c&&(this.Wv=c,this.Tp=!0,this.zA=null,this.Wv.length))try{this.zA=JSON.parse(this.Wv)}catch(f){this.zA=null}}qaa(c){0>c&&(c=-1);this.Js!==c&&(this.Js=c,0<=this.Js&&(this.jv=!0))}RR(){return 0>this.Js?this.bg:this.Js}}}"use strict";
{const d=self.B;d.A.Keyboard=class extends d.Rh{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.A.Keyboard.$c=class extends d.Pj{constructor(b){super(b)}j(){super.j()}Gb(){}Sf(){return self.C5}};self.C5=class extends self.yC{constructor(b){super(b);b.R().az.keyboard=this}}}"use strict";
{const d=self.B;d.A.Keyboard.Instance=class extends d.Zo{constructor(b){super(b);this.vv=new Set;this.wv=new Set;this.em=0;this.LA=this.WG="";b=this.R().Eb();this.ge=new d.Uk(d.Pb.mc(b,"keydown",c=>this.mL(c.data)),d.Pb.mc(b,"keyup",c=>this.nL(c.data)),d.Pb.mc(b,"window-blur",()=>this.zu()),d.Pb.mc(b,"keyboard-blur",()=>this.zu()))}j(){super.j()}mL(b){const c=b.which,f=b.code||c.toString();b=b.key;this.vv.has(f)||(this.vv.add(f),this.wv.add(c),this.WG=f,this.em=c,this.LA=b,this.fa(d.A.Keyboard.F.b8),
this.fa(d.A.Keyboard.F.VS),this.fa(d.A.Keyboard.F.F8),this.fa(d.A.Keyboard.F.C8))}nL(b){const c=b.which,f=b.code||c.toString();b=b.key;this.vv.delete(f);this.wv.delete(c);this.WG=f;this.em=c;this.LA=b;this.fa(d.A.Keyboard.F.OS);this.fa(d.A.Keyboard.F.XS);this.fa(d.A.Keyboard.F.G8);this.fa(d.A.Keyboard.F.WS)}zu(){for(const b of this.wv)this.wv.delete(b),this.em=b,this.fa(d.A.Keyboard.F.OS),this.fa(d.A.Keyboard.F.XS),this.fa(d.A.Keyboard.F.WS);this.vv.clear()}sS(b){return this.vv.has(b)}Tb(){return{tk:this.em,
tkk:this.LA}}Qb(b){this.em=b.tk;b.hasOwnProperty("tkk")&&(this.LA=b.tkk)}}}"use strict";{const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.B.A.Keyboard.F={sS(b){return this.wv.has(b)},VS(b){return this.em===b},b8(){return!0},OS(){return!0},XS(b){return this.em===b},Bra(b){b=Math.floor(b);return this.wv.has(b)},C8(b){return this.em===b},WS(b){return this.em===b},F8(b){return this.WG===d[b]},G8(b){return this.WG===d[b]},Cra(b){return this.vv.has(d[b])}}}"use strict";
self.B.A.Keyboard.oa={};"use strict";
{function d(b){b=Math.floor(b);switch(b){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";case 92:return"right window key";
case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";case 115:return"F4";case 116:return"F5";
case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(b)}}self.B.A.Keyboard.cb={hsa(){return this.em},
Aya(b){return d(b)},cza(){return this.LA}}}"use strict";{const d=self.B;d.A.nm=class extends d.Rh{constructor(b){super(b);this.UY=!1;this.b.QH(this.b.Vo("gamepad","is-supported").then(c=>this.UY=!!c))}j(){super.j()}}}"use strict";{const d=self.B;d.A.nm.$c=class extends d.Pj{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B;class b{constructor(f,a){this.bb=f;this.Ld=a;this.kj=new c;this.bO=new c;this.Uy=[];this.Vy=[]}tf(f,a){const e=this.bO;this.bO=this.kj;this.kj=e;this.kj.tf(f,a);d.EH(this.Uy,this.kj.Xk(),!1);d.EH(this.Vy,this.kj.Xk(),!1);for(let h=0,g=this.kj.Xk();h<g;++h)f=this.bO.Do(h),a=this.kj.Do(h),.5<=a&&.5>f&&(this.Uy[h]=!0),.5>a&&.5<=f&&(this.Vy[h]=!0)}Xk(){return this.kj.Xk()}WB(){return this.kj.WB()}wC(f){f=Math.floor(f);return 0>f||f>=this.Uy.length?!1:this.Uy[f]}cJ(f){f=Math.floor(f);return 0>
f||f>=this.Vy.length?!1:this.Vy[f]}U9(){this.Uy.fill(!1);this.Vy.fill(!1)}Do(f){return this.kj.Do(f)}CC(f){return.5<=this.kj.Do(f)}Wk(f){return this.kj.Wk(f)}}class c{constructor(){this.zE=[];this.tE=[]}tf(f,a){const e=this.zE;let h=0;for(let g=f.length;h<g;++h){const m=f[h];h===e.length?e.push(m.value):e[h]=m.value}h<e.length&&d.zd(e,h);d.$d(this.tE,a)}Xk(){return this.zE.length}WB(){return this.tE.length}Do(f){f=Math.floor(f);return 0>f||f>=this.zE.length?0:this.zE[f]}Wk(f){f=Math.floor(f);return 0>
f||f>=this.tE.length?0:this.tE[f]}}d.A.nm.Instance=class extends d.Zo{constructor(f,a){super(f,"gamepad");this.vM=25;this.Nl=0;this.Nz=-1;this.tn=new Map;a&&(this.vM=a[0]);this.ot("gamepad-connected",e=>this.oW(e));this.ot("gamepad-disconnected",e=>this.hga(e));this.ot("input-update",e=>this.kga(e));f=this.R().Eb();this.ge=new d.Uk(d.Pb.mc(f,"tick2",()=>this.xy()));this.eb("ready")}j(){super.j()}oW(f){const a=f.index;this.Nz=a;f=f.id;this.tn.has(a)||(this.tn.set(a,new b(a,f)),this.fa(d.A.nm.F.s8),
this.Nz=-1)}hga(f){this.Nz=f=f.index;this.fa(d.A.nm.F.t8);this.tn.delete(f);this.Nz=-1}kga(f){for(const a of f)this.iga(a)}iga(f){var a=f.index;this.tn.has(a)||this.oW(f);a=this.tn.get(a);a.tf(f.buttons,f.axes);for(let e=0,h=a.Xk();e<h;++e)a.wC(e)&&(this.Nl=e)}bf(f){return this.tn.get(Math.floor(f))||null}xy(){for(const f of this.tn.values())f.U9()}}}"use strict";
{const d=self.B;d.A.nm.F={Lya(){return this.hc().UY},s8(){return!0},t8(){return!0},CC(b,c){b=this.bf(b);if(!b)return!1;if(b=b.CC(c))this.Nl=c;return b},d8(b,c){b=this.bf(b);if(!b)return!1;if(b=b.wC(c))this.Nl=c;return b},mta(b,c){b=this.bf(b);if(!b)return!1;if(b=b.cJ(c))this.Nl=c;return b},Bqa(){return 0<this.tn.size},Moa(b,c,f,a){c=Math.floor(c);const e=this.bf(b);if(!e)return!1;b=e.Wk(c);c=0===c%2?e.Wk(c+1):e.Wk(c-1);b*=100;Math.hypot(b,100*c)<=this.vM&&(b=0);return d.compare(b,f,a)},fta(b){b=this.bf(b);
if(!b)return!1;for(let c=0,f=b.Xk();c<f;++c)if(b.wC(c))return this.Nl=c,!0;return!1},gta(b){b=this.bf(b);if(!b)return!1;for(let c=0,f=b.Xk();c<f;++c)if(b.cJ(c))return this.Nl=c,!0;return!1},hra(b,c){c=Math.floor(c);b=this.bf(b);if(!b)return!1;if(b=b.CC(c))this.Nl=c;return b},kta(b,c){c=Math.floor(c);b=this.bf(b);if(!b)return!1;if(b=b.wC(c))this.Nl=c;return b},lta(b,c){c=Math.floor(c);b=this.bf(b);if(!b)return!1;if(b=b.cJ(c))this.Nl=c;return b}}}"use strict";
{const d=self.B;d.A.nm.oa={Iba(b,c,f,a){this.eb("vibrate",{index:b,duration:c,weakMag:d.ba(f/100,0,1),strongMag:d.ba(a/100,0,1)})},Ova(b){this.eb("reset-vibrate",{index:b})}}}"use strict";
self.B.A.nm.cb={dqa(){return this.tn.size},eqa(d){return(d=this.bf(d))?d.Ld:""},fqa(){return this.Nz},bqa(d){d=this.bf(d);if(!d)return"";let b="";for(let c=0,f=d.WB();c<f;++c)b+=`Axis ${c}: ${Math.round(100*d.Wk(c))}\n`;return b},cqa(d){d=this.bf(d);if(!d)return"";let b="";for(let c=0,f=d.Xk();c<f;++c)b+=`Button ${c}: ${Math.round(100*d.Do(c))}\n`;return b},Oua(d,b){return(d=this.bf(d))?d.Do(Math.floor(b)):0},Mua(d,b){return(d=this.bf(d))?d.Wk(Math.floor(b)):0},Pua(d){return(d=this.bf(d))?d.Xk():
0},Nua(d){return(d=this.bf(d))?d.WB():0},qoa(d,b){return(d=this.bf(d))?100*d.Do(Math.floor(b)):0},Qna(d,b){b=Math.floor(b);const c=this.bf(d);if(!c)return 0;d=c.Wk(b);b=0===b%2?c.Wk(b+1):c.Wk(b-1);d*=100;Math.hypot(d,100*b)<=this.vM&&(d=0);return d},gsa(){return this.Nl}};"use strict";{const d=self.B;d.A.Touch=class extends d.Rh{constructor(b){super(b)}j(){super.j()}}}"use strict";
{const d=self.B,b=self.yh;d.A.Touch.$c=class extends d.Pj{constructor(f){super(f)}j(){super.j()}Gb(){}Sf(){return self.N5}};let c=null;self.N5=class extends self.yC{constructor(f){super(f);c=f;f.R().az.pQ=this}requestPermission(f){b.Vf(f);const a=c.hl().ia;if("orientation"===f)return a.sL(0);if("motion"===f)return a.sL(1);throw Error("invalid type");}}}"use strict";
{const d=self.B;d.A.Touch.Instance=class extends d.Zo{constructor(b,c){super(b,"touch");this.Xd=new Map;this.FF=this.t_=!1;this.eF=this.Wi=this.Vi=this.VO=this.VG=this.hw=this.SL=this.RL=this.QL=this.VL=this.UL=this.TL=this.eO=this.dO=this.cO=this.hG=0;this.jG=[];c&&(this.t_=c[0]);this.ot("permission-result",f=>this.vga(f));b=this.R().Eb();this.ge=new d.Uk(d.Pb.mc(b,"pointerdown",f=>this.wga(f.data)),d.Pb.mc(b,"pointermove",f=>this.xga(f.data)),d.Pb.mc(b,"pointerup",f=>this.sW(f.data,!1)),d.Pb.mc(b,
"pointercancel",f=>this.sW(f.data,!0)),d.Pb.mc(b,"deviceorientation",f=>this.aga(f.data)),d.Pb.mc(b,"deviceorientationabsolute",f=>this.bga(f.data)),d.Pb.mc(b,"devicemotion",f=>this.$fa(f.data)),d.Pb.mc(b,"tick2",()=>this.xy()))}j(){this.Xd.clear();super.j()}wga(b){if("mouse"===b.pointerType)if(this.t_)this.FF=!0;else return;const c=b.pointerId;if(!this.Xd.has(c)){var f=b.pageX-this.b.ax();b=b.pageY-this.b.bx();var a=performance.now(),e=this.Xd.size;this.hw=e;this.VG=c;var h=d.D(d.A.Touch.uba);h.Tf(a,
f,b,c,e);this.Xd.set(c,h);this.fa(d.A.Touch.F.K8);this.fa(d.A.Touch.F.eT);this.Vi=f;this.Wi=b;this.fa(d.A.Touch.F.dT)}}xga(b){if("mouse"!==b.pointerType||this.FF){var c=this.Xd.get(b.pointerId);if(c){var f=performance.now();2>f-c.Oa()||c.tf(f,b.pageX-this.b.ax(),b.pageY-this.b.bx(),b.width,b.height,b.pressure)}}}sW(b,c){if("mouse"===b.pointerType)if(this.FF)this.FF=!1;else return;const f=performance.now();b=b.pointerId;const a=this.Xd.get(b);a&&(this.hw=a.mg,this.VG=a.Dj(),this.fa(d.A.Touch.F.J8),
this.fa(d.A.Touch.F.cT),c||(c=a.Waa(f),"single-tap"===c?(this.fa(d.A.Touch.F.Z8),this.Vi=a.I(),this.Wi=a.J(),this.fa(d.A.Touch.F.a9)):"double-tap"===c&&(this.fa(d.A.Touch.F.k8),this.Vi=a.I(),this.Wi=a.J(),this.fa(d.A.Touch.F.l8))),a.j(),this.Xd.delete(b))}sL(b){this.Zm("request-permission",{type:b});return new Promise((c,f)=>{this.jG.push({type:b,resolve:c,reject:f})})}vga(b){const c=b.result,f=b.type;this.VO=f;b=this.jG.filter(a=>a.type===f);for(const a of b)a.resolve(c?"granted":"denied");this.jG=
this.jG.filter(a=>a.type!==f);c?(this.fa(d.A.Touch.F.S8),0===f?this.b.Zt():this.b.Xo()):this.fa(d.A.Touch.F.Q8)}aga(b){"number"===typeof b.webkitCompassHeading?this.hG=b.webkitCompassHeading:b.absolute&&(this.hG=b.alpha);this.cO=b.alpha;this.dO=b.beta;this.eO=b.gamma}bga(b){this.hG=b.alpha}$fa(b){const c=b.acceleration;c&&(this.TL=c.x,this.UL=c.y,this.VL=c.z);if(b=b.accelerationIncludingGravity)this.QL=b.x,this.RL=b.y,this.SL=b.z}xy(){const b=performance.now();let c=0;for(const f of this.Xd.values())f.Oa()<=
b-50&&f.tia(b),f.Vaa(b)&&(this.hw=f.mg,this.VG=f.Dj(),this.eF=c,this.fa(d.A.Touch.F.w8),this.Vi=f.I(),this.Wi=f.J(),this.fa(d.A.Touch.F.x8),this.eF=0),++c}Vj(b){b=Math.floor(b);for(const c of this.Xd.values()){if(0===b)return c;--b}return null}qy(b,c){return 0<=b&&0<=c&&b<this.b.S3()&&c<this.b.R3()}}}"use strict";
{const d=self.B,b=[];d.A.Touch.F={eT(){return!0},cT(){return!0},yra(){return 0<this.Xd.size},dT(c){return c&&this.qy(this.Vi,this.Wi)?this.b.wc.vD(c,this.Vi,this.Wi):!1},e7(c){if(!c)return!1;const f=c.ea();var a=f.za();for(const e of a){a=e.C();const h=a.wa();for(const g of this.Xd.values()){if(!this.qy(g.I(),g.J()))continue;const [m,q]=h.Bo(g.I(),g.J(),a.Ci());if(a.Nw(m,q)){b.push(e);break}}}return b.length?(f.Lx(b),c.Dc(),d.H(b),!0):!1},$oa(c,f,a){return(c=this.Vj(c))?d.compare(c.Fm(),f,a):!1},
yta(){return!0},Qsa(){return!0},Uoa(c,f,a){this.b.Zt();return d.compare(0===c?this.cO:1===c?this.dO:this.eO,f,a)},Koa(c,f,a){this.b.Xo();return d.compare(0===c?this.QL:1===c?this.RL:2===c?this.SL:3===c?this.TL:4===c?this.UL:this.VL,f,a)},K8(c){c=Math.floor(c);return c===this.hw},J8(c){c=Math.floor(c);return c===this.hw},Dqa(c){c=Math.floor(c);return this.Xd.size>=c+1},w8(){return!0},Z8(){return!0},k8(){return!0},x8(c){return c&&this.qy(this.Vi,this.Wi)?this.b.wc.vD(c,this.Vi,this.Wi):!1},a9(c){return c&&
this.qy(this.Vi,this.Wi)?this.b.wc.vD(c,this.Vi,this.Wi):!1},l8(c){return c&&this.qy(this.Vi,this.Wi)?this.b.wc.vD(c,this.Vi,this.Wi):!1},S8(c){return this.VO===c},Q8(c){return this.VO===c}}}"use strict";self.B.A.Touch.oa={ava(d){this.sL(d)}};"use strict";
{const d=self.B;d.A.Touch.cb={Zya(){return this.Xd.size},GK(b){const c=this.Vj(this.eF);return c?c.Ht(this.b.gb(),b,!0):0},HK(b){const c=this.Vj(this.eF);return c?c.Ht(this.b.gb(),b,!1):0},Sza(b,c){return(b=this.Vj(b))?b.Ht(this.b.gb(),c,!0):0},Vza(b,c){return(b=this.Vj(b))?b.Ht(this.b.gb(),c,!1):0},Tza(b,c){return(b=this.Xd.get(b))?b.Ht(this.b.gb(),c,!0):0},Wza(b,c){return(b=this.Xd.get(b))?b.Ht(this.b.gb(),c,!1):0},Wma(){const b=this.Vj(0);return b?b.I():0},Zma(){const b=this.Vj(0);return b?b.J():
0},Xma(b){return(b=this.Vj(b))?b.I():0},$ma(b){return(b=this.Vj(b))?b.J():0},Yma(b){return(b=this.Xd.get(b))?b.I():0},ana(b){return(b=this.Xd.get(b))?b.J():0},iya(b){return(b=this.Vj(b))?b.Fm():0},jya(b){return(b=this.Xd.get(b))?b.Fm():0},Gna(b){return(b=this.Vj(b))?d.Pd(b.ca()):0},Hna(b){return(b=this.Xd.get(b))?d.Pd(b.ca()):0},gpa(){this.b.Zt();return this.hG},Ana(){this.b.Zt();return this.cO},$na(){this.b.Zt();return this.dO},gqa(){this.b.Zt();return this.eO},cna(){this.b.Xo();return this.QL},
ena(){this.b.Xo();return this.RL},gna(){this.b.Xo();return this.SL},bna(){this.b.Xo();return this.TL},dna(){this.b.Xo();return this.UL},fna(){this.b.Xo();return this.VL},aza(){return this.hw},$ya(){return this.VG},Lza(b){return(b=this.Xd.get(b))?b.M():0},Gqa(b){return(b=this.Xd.get(b))?b.N():0},Dua(b){return(b=this.Xd.get(b))?b.KZ:0}}}"use strict";
{const d=self.B;let b=-1E3,c=-1E3,f=-1E4;d.A.Touch.uba=class extends d.ua{constructor(){super();this.KZ=this.Z=this.$=this.Pl=this.Ol=this.X=this.Y=this.MG=this.LG=this.VF=this.yd=this.fq=this.mg=this.IZ=0;this.NF=this.VM=!1}j(){}Tf(a,e,h,g,m){this.IZ=g;this.mg=m;this.fq=this.VF=this.yd=a;this.LG=e;this.MG=h;this.Y=e;this.X=h;this.Ol=e;this.Pl=h}tf(a,e,h,g,m,q){this.VF=this.yd;this.yd=a;this.Ol=this.Y;this.Pl=this.X;this.Y=e;this.X=h;this.$=g;this.Z=m;this.KZ=q;!this.NF&&15<=d.Be(this.LG,this.MG,
this.Y,this.X)&&(this.NF=!0)}Dj(){return this.IZ}Oa(){return this.yd}tia(a){this.VF=a}I(){return this.Y}J(){return this.X}Fm(){const a=d.Be(this.Y,this.X,this.Ol,this.Pl),e=(this.yd-this.VF)/1E3;return 0<e?a/e:0}ca(){return d.uh(this.Ol,this.Pl,this.Y,this.X)}M(){return this.$}N(){return this.Z}Vaa(a){return this.VM?!1:500<=a-this.fq&&!this.NF&&15>d.Be(this.LG,this.MG,this.Y,this.X)?this.VM=!0:!1}Waa(a){if(this.VM)return"";if(333>=a-this.fq&&!this.NF&&15>d.Be(this.LG,this.MG,this.Y,this.X)){if(666>=
a-f&&25>d.Be(b,c,this.Y,this.X))return c=b=-1E3,f=-1E4,"double-tap";b=this.Y;c=this.X;f=a;return"single-tap"}return""}Ht(a,e,h){return"undefined"===typeof e?a.iC(0).q1(this.Y,this.X)[h?0:1]:(a=a.wa(e))?a.Bo(this.Y,this.X)[h?0:1]:0}}}"use strict";{const d=self.B;d.A.Audio=class extends d.Rh{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.A.Audio.$c=class extends d.Pj{constructor(b){super(b)}j(){super.j()}Gb(){}Sf(){return self.z5}};self.z5=class extends self.yC{constructor(b){super(b)}}}"use strict";
{const d=self.B,b=["interactive","balanced","playback"];d.A.Audio.Instance=class extends d.Zo{constructor(c,f){super(c,"audio");this.fi=0;this.WO="";this.nA=this.r_=0;this.lO=!1;this.XX=this.CZ=1;this.Pp=this.b.rj/2;this.Qp=this.b.qj/2;this.us=-600;this.QZ=600;this.mZ=1E4;this.VZ=1;this.aj=null;this.WF=-1;this.Iv=1;this.kh=!1;this.XZ=0;this.OE=new Map;this.pO=this.qO=0;this.Sn=new Map;c="interactive";f&&(this.r_=f[0],this.nA=f[1],this.lO=f[2],c=b[f[3]],this.CZ=f[4],this.XX=f[5],this.us=-f[6],this.QZ=
f[7],this.mZ=f[8],this.VZ=f[9]);this.ei=[];this.yv=[];this.QF=[];this.vQ([["state",a=>this.Ega(a)],["fxstate",a=>this.Dga(a)],["trigger",a=>this.Cga(a)]]);f=this.R().Eb();this.ge=new d.Uk(d.Pb.mc(f,"instancedestroy",a=>this.wy(a.instance)),d.Pb.mc(f,"afterload",()=>this.Ym()),d.Pb.mc(f,"suspend",()=>this.pL()),d.Pb.mc(f,"resume",()=>this.oL()));this.b.QH(this.ll("create-audio-context",{preloadList:this.b.Mb.L3().map(a=>({originalUrl:a.pma,url:a.url,type:a.type,fileSize:a.fileSize})),isiOSCordova:this.b.uN,
timeScaleMode:this.r_,latencyHint:c,panningModel:this.CZ,distanceModel:this.XX,refDistance:this.QZ,maxDistance:this.mZ,rolloffFactor:this.VZ,listenerPos:[this.Pp,this.Qp,this.us]}).then(a=>{this.XZ=a.sampleRate}));this.cd()}j(){this.aj=null;super.j()}wy(c){this.aj===c&&(this.aj=null)}KB(c){return Math.pow(10,c/20)}ae(c){c=this.KB(c);return isFinite(c)?Math.max(Math.min(c,1),0):0}o7(c){return Math.log(c)/Math.log(10)*20}AS(c){return this.o7(Math.max(Math.min(c,1),0))}pL(){this.lO||this.eb("set-suspended",
{isSuspended:!0})}oL(){this.lO||this.eb("set-suspended",{isSuspended:!1})}Ega(c){const f=c.tickCount,a=this.ei.filter(e=>e.hasOwnProperty("placeholder")&&(e.placeholder>f||-1===e.placeholder));this.ei=c.audioInstances;this.QF=c.analysers;0<a.length&&d.mm(this.ei,a)}Dga(c){this.yv=c.fxstate}LD(c){for(const f of this.ei)if(d.vh(f.tag,c))return f;return null}XV(c){return this.ei.some(f=>d.vh(c,f.tag)&&f.isPlaying)}yu(c,f,a,e){if(this.XV(c))return null;c={tag:c,duration:0,volume:e,isPlaying:!0,playbackTime:0,
playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:f,isLooping:a,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.ei.push(c);return c}async Cga(c){const f=c.type;this.WO=c.tag;c=c.aiid;if("ended"===f){for(const a of this.ei)if(a.aiid===c){a.isPlaying=!1;break}await this.rb(d.A.Audio.F.m8)}else"fade-ended"===f&&await this.rb(d.A.Audio.F.o8)}oc(){const c={timeScale:this.b.Pe,gameTime:this.b.Xe(),instPans:this.v4(),tickCount:this.b.gq};if(this.aj){const f=this.aj.C();
this.Pp=f.I();this.Qp=f.J();c.listenerPos=[this.Pp,this.Qp,this.us]}this.eb("tick",c)}dQ(c,f,a,e,h){if(0===a)return[c,f];const g=Math.sin(a);a=Math.cos(a);c-=e;f-=h;const m=c*g;c=c*a-f*g;return[c+e,f*a+m+h]}v4(){return this.ei.filter(c=>-1!==c.uid).map(c=>this.b.zg(c.uid)).filter(c=>c).map(c=>{const f=c.C(),a=f.wa().ca(),[e,h]=this.dQ(f.I(),f.J(),-a,this.Pp,this.Qp);return{uid:c.lc,x:e,y:h,angle:f.ca()-a}})}VB(c,f){for(const a of this.QF)if(a.index===f&&d.vh(a.tag,c))return a;return null}Qi(c){this.OE.set(c,
(this.OE.get(c)||0)+1)}Qia(c){return c.hasOwnProperty("placeholder")||3===this.nA?!1:c.isMusic&&1===this.nA?!1:c.isMusic||2!==this.nA?!0:!1}Tb(){return{isSilent:this.kh,masterVolume:this.Iv,listenerZ:this.us,listenerUid:this.aj?this.aj.lc:-1,remoteUrls:[...this.Sn.entries()],playing:this.ei.filter(c=>this.Qia(c)),effects:this.yv,analysers:this.QF}}Qb(c){this.kh=c.isSilent;this.Iv=c.masterVolume;this.us=c.listenerZ;this.aj=null;this.WF=c.listenerUid;this.Sn.clear();if(c.remoteUrls)for(const [f,a]of c.remoteUrls)this.Sn.set(f,
a);this.ei=c.playing;this.yv=c.effects;this.QF=c.analysers}Ym(){if(-1!==this.WF&&(this.aj=this.b.zg(this.WF),this.WF=-1,this.aj)){var c=this.aj.C();this.Pp=c.I();this.Qp=c.J()}for(var f of this.ei)(c=this.b.Mb.Fh(f.bufferOriginalUrl))?(f.bufferUrl=c.url,f.bufferType=c.type):f.bufferUrl=null;for(const a of Object.values(this.yv))for(const e of a)e.hasOwnProperty("bufferOriginalUrl")&&(f=this.b.Mb.Fh(e.bufferOriginalUrl))&&(e.bufferUrl=f.url,e.bufferType=f.type);this.eb("load-state",{saveLoadMode:this.nA,
timeScale:this.b.Pe,gameTime:this.b.Xe(),listenerPos:[this.Pp,this.Qp,this.us],isSilent:this.kh,masterVolume:this.Iv,playing:this.ei.filter(a=>null!==a.bufferUrl),effects:this.yv})}}}"use strict";{const d=self.B;d.A.Audio.F={m8(b){return d.vh(this.WO,b)},o8(b){return d.vh(this.WO,b)},Cua(){return this.pO===this.qO},yna(){return!0},Rra(){return this.kh},D6(){for(const b of this.ei)if(b.isPlaying)return!0;return!1},c7(b){return this.XV(b)}}}"use strict";
{const d=self.B,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");d.A.Audio.oa={async Play(c,f,a,e){if(!this.kh){var h=c[1],g=this.b.Mb.Fh(c[0]);if(g){var m=this.fi;this.fi=0;var q=this.yu(e.toLowerCase(),h,0!==f,this.ae(a));try{await this.ll("play",{originalUrl:c[0],url:g.url,type:g.type,isMusic:h,tag:e.toLowerCase(),isLooping:0!==f,vol:this.ae(a),pos:0,off:m,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{q&&(q.placeholder=this.b.gq)}}}},async lua(c,f,a,
e,h,g,m,q,l,r){if(!this.kh){var p=c[1],t=this.b.Mb.Fh(c[0]);if(t){var v=this.fi;this.fi=0;var y=this.yu(r.toLowerCase(),p,0!==f,this.ae(a));try{await this.ll("play",{originalUrl:c[0],url:t.url,type:t.type,isMusic:p,tag:r.toLowerCase(),isLooping:0!==f,vol:this.ae(a),pos:0,off:v,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:e,y:h,angle:d.Ma(g),innerAngle:d.Ma(m),outerAngle:d.Ma(q),outerGain:this.ae(l)}})}finally{y&&(y.placeholder=this.b.gq)}}}},async jua(c,f,a,e,h,g,m,q){if(!this.kh&&e&&
(e=e.Bm())&&e.C()){var l=e.C(),r=l.wa().ca(),[p,t]=this.dQ(l.I(),l.J(),-r,this.Pp,this.Qp),v=c[1],y=this.b.Mb.Fh(c[0]);if(y){var z=this.fi;this.fi=0;var C=this.yu(q.toLowerCase(),v,0!==f,this.ae(a));try{await this.ll("play",{originalUrl:c[0],url:y.url,type:y.type,isMusic:v,tag:q.toLowerCase(),isLooping:0!==f,vol:this.ae(a),pos:0,off:z,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:p,y:t,angle:l.ca()-r,innerAngle:d.Ma(h),outerAngle:d.Ma(g),outerGain:this.ae(m),uid:e.lc}})}finally{C&&(C.placeholder=
this.b.gq)}}}},async l9(c,f,a,e,h){if(!this.kh){c=1===c;var g=this.b.Mb.Fh(f)||this.Sn.get(f.toLowerCase());if(g){var m=this.fi;this.fi=0;var q=this.yu(h.toLowerCase(),c,0!==a,this.ae(e));try{await this.ll("play",{originalUrl:f,url:g.url,type:g.type,isMusic:c,tag:h.toLowerCase(),isLooping:0!==a,vol:this.ae(e),pos:0,off:m,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{q&&(q.placeholder=this.b.gq)}}}},async mua(c,f,a,e,h,g,m,q,l,r,p){if(!this.kh){c=1===c;var t=this.b.Mb.Fh(f)||this.Sn.get(f.toLowerCase());
if(t){var v=this.fi;this.fi=0;var y=this.yu(p.toLowerCase(),c,0!==a,this.ae(e));try{await this.ll("play",{originalUrl:f,url:t.url,type:t.type,isMusic:c,tag:p.toLowerCase(),isLooping:0!==a,vol:this.ae(e),pos:0,off:v,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:h,y:g,angle:d.Ma(m),innerAngle:d.Ma(q),outerAngle:d.Ma(l),outerGain:this.ae(r)}})}finally{y&&(y.placeholder=this.b.gq)}}}},async kua(c,f,a,e,h,g,m,q,l){if(!this.kh&&!this.kh&&h&&(h=h.Bm())&&h.C()){var r=h.C(),p=r.wa().ca(),[t,v]=
this.dQ(r.I(),r.J(),-p,this.Pp,this.Qp);c=1===c;var y=this.b.Mb.Fh(f)||this.Sn.get(f.toLowerCase());if(y){var z=this.fi;this.fi=0;var C=this.yu(l.toLowerCase(),c,0!==a,this.ae(e));try{await this.ll("play",{originalUrl:f,url:y.url,type:y.type,isMusic:c,tag:l.toLowerCase(),isLooping:0!==a,vol:this.ae(e),pos:0,off:z,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:t,y:v,angle:r.ca()-p,innerAngle:d.Ma(g),outerAngle:d.Ma(m),outerGain:this.ae(q),uid:h.lc}})}finally{C&&(C.placeholder=this.b.gq)}}}},
txa(c,f){this.eb("set-looping",{tag:c.toLowerCase(),isLooping:0===f})},Axa(c,f){this.eb("set-muted",{tag:c.toLowerCase(),isMuted:0===f})},Vxa(c,f){this.eb("set-volume",{tag:c.toLowerCase(),vol:this.ae(f)})},Ppa(c,f,a,e){this.eb("fade-volume",{tag:c.toLowerCase(),vol:this.ae(f),duration:a,stopOnEnd:0===e})},async Aua(c){const f=c[1],a=this.b.Mb.Fh(c[0]);a&&(this.qO++,await this.ll("preload",{originalUrl:c[0],url:a.url,type:a.type,isMusic:f}),this.pO++)},async Bua(c,f){c=1===c;const a=this.b.Mb.Fh(f)||
this.Sn.get(f.toLowerCase());a&&(this.qO++,await this.ll("preload",{originalUrl:f,url:a.url,type:a.type,isMusic:c}),this.pO++)},Tx(c,f){this.eb("set-playback-rate",{tag:c.toLowerCase(),rate:Math.max(f,0)})},ah(c){this.eb("stop",{tag:c.toLowerCase()})},uya(){this.eb("stop-all")},Fxa(c,f){this.eb("set-paused",{tag:c.toLowerCase(),paused:0===f})},nwa(c,f){this.eb("seek",{tag:c.toLowerCase(),pos:f})},paa(c){2===c&&(c=this.kh?1:0);c=0===c;this.kh!==c&&(this.kh=c,this.eb("set-silent",{isSilent:c}))},vxa(c){c=
this.ae(c);this.Iv!==c&&(this.Iv=c,this.eb("set-master-volume",{vol:c}))},nna(c,f,a,e,h,g,m){c=c.toLowerCase();f=b[f];this.Qi(c);this.eb("add-effect",{type:"filter",tag:c,params:[f,a,e,h,g,d.ba(m/100,0,1)]})},kna(c,f,a,e){c=c.toLowerCase();this.Qi(c);this.eb("add-effect",{type:"delay",tag:c,params:[f,this.ae(a),d.ba(e/100,0,1)]})},ona(c,f,a,e,h,g){c=c.toLowerCase();this.Qi(c);this.eb("add-effect",{type:"flanger",tag:c,params:[f/1E3,a/1E3,e,h/100,d.ba(g/100,0,1)]})},tna(c,f,a,e,h,g,m){c=c.toLowerCase();
this.Qi(c);this.eb("add-effect",{type:"phaser",tag:c,params:[f,a,e,h,g,d.ba(m/100,0,1)]})},jna(c,f,a,e){c=c.toLowerCase();const h=this.b.Mb.Fh(f[0]);h&&(this.Qi(c),this.eb("add-effect",{type:"convolution",tag:c,bufferOriginalUrl:f[0],bufferUrl:h.url,bufferType:h.type,params:[0===a,d.ba(e/100,0,1)]}))},pna(c,f){c=c.toLowerCase();this.Qi(c);this.eb("add-effect",{type:"gain",tag:c,params:[this.ae(f)]})},sna(c){c=c.toLowerCase();this.Qi(c);this.eb("add-effect",{type:"gain",tag:c,params:[0]})},wna(c,f,
a){c=c.toLowerCase();this.Qi(c);this.eb("add-effect",{type:"tremolo",tag:c,params:[f,d.ba(a/100,0,1)]})},vna(c,f,a){c=c.toLowerCase();this.Qi(c);this.eb("add-effect",{type:"ringmod",tag:c,params:[f,d.ba(a/100,0,1)]})},lna(c,f,a,e,h,g){c=c.toLowerCase();this.Qi(c);this.eb("add-effect",{type:"distortion",tag:c,params:[this.KB(f),this.KB(a),e,this.KB(h),d.ba(g/100,0,1)]})},ina(c,f,a,e,h,g){c=c.toLowerCase();this.Qi(c);this.eb("add-effect",{type:"compressor",tag:c,params:[f,a,e,h/1E3,g/1E3]})},hna(c,
f,a){c=c.toLowerCase();this.Qi(c);this.eb("add-effect",{type:"analyser",tag:c,params:[f,a]})},Uua(c){c=c.toLowerCase();this.OE.set(c,0);this.eb("remove-effects",{tag:c});this.yv={}},Hwa(c,f,a,e,h,g){this.eb("set-effect-param",{tag:c.toLowerCase(),index:Math.floor(f),param:a,value:e,ramp:h,time:g})},rxa(c){c&&(c=c.Bm())&&c.C()&&(this.aj=c)},sxa(c){this.us=c},fwa(c){this.fi=Math.max(c,0)},iza(c){const f=c[1];(c=this.b.Mb.Fh(c[0]))&&this.eb("unload",{url:c.url,type:c.type,isMusic:f})},jza(c,f){c=1===
c;(f=this.b.Mb.Fh(f)||this.Sn.get(f.toLowerCase()))&&this.eb("unload",{url:f.url,type:f.type,isMusic:c})},hza(){this.eb("unload-all")},una(c,f,a){this.Sn.set(a.toLowerCase(),{url:c,type:f})}}}"use strict";
self.B.A.Audio.cb={ypa(d){return(d=this.LD(d))?d.duration:0},oua(d){return(d=this.LD(d))?d.playbackTime:0},nua(d){return(d=this.LD(d))?d.playbackRate:0},yza(d){return(d=this.LD(d))?this.AS(d.volume):0},Msa(){return this.AS(this.Iv)},zpa(d){return this.OE.get(d.toLowerCase())||0},Cna(d,b){return(d=this.VB(d,Math.floor(b)))?d.binCount:0},Bna(d,b,c){d=this.VB(d,Math.floor(b));if(!d)return 0;c=Math.floor(c);return 0>c||c>=d.binCount?0:d.freqBins[c]},Dna(d,b){return(d=this.VB(d,Math.floor(b)))?d.peak:
0},Ena(d,b){return(d=this.VB(d,Math.floor(b)))?d.rms:0},ewa(){return this.XZ},npa(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};"use strict";{const d=self.B;d.A.Ad=class extends d.Rh{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.A.Ad.$c=class extends d.Pj{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B;d.A.Ad.Instance=class extends d.Zo{constructor(b){super(b,"browser");this.Hl="";this.Ez=!1;this.YX=this.RZ="";this.NY=!1;this.mP=this.ZZ=this.$Z=0;this.Fz=!1;this.vQ([["online-state",c=>this.rga(c)],["backbutton",()=>this.Zfa()],["sw-message",c=>this.zga(c)],["hashchange",c=>this.jga(c)]]);b=this.R().Eb();this.ge=new d.Uk(d.Pb.mc(b,"afterfirstlayoutstart",()=>this.Yfa()),d.Pb.mc(b,"window-resize",()=>this.rL()),d.Pb.mc(b,"suspend",()=>this.pL()),d.Pb.mc(b,"resume",()=>this.oL()));
this.b.QH(this.ll("get-initial-state",{exportType:this.b.sk}).then(c=>{this.Hl=c.location;this.Ez=c.isOnline;this.RZ=c.referrer;this.YX=c.title;this.NY=c.isCookieEnabled;this.$Z=c.screenWidth;this.ZZ=c.screenHeight;this.mP=c.windowOuterWidth;this.Fz=c.isScirraArcade}))}j(){super.j()}Yfa(){this.eb("ready-for-sw-messages")}async rga(b){b=!!b.isOnline;this.Ez!==b&&((this.Ez=b)?await this.rb(d.A.Ad.F.N8):await this.rb(d.A.Ad.F.L8))}async rL(){await this.rb(d.A.Ad.F.T8)}pL(){this.fa(d.A.Ad.F.O8)}oL(){this.fa(d.A.Ad.F.P8)}async Zfa(){await this.rb(d.A.Ad.F.c8)}zga(b){b=
b.type;"downloading-update"===b?this.fa(d.A.Ad.F.b9):"update-ready"===b||"update-pending"===b?this.fa(d.A.Ad.F.c9):"offline-ready"===b&&this.fa(d.A.Ad.F.M8)}jga(b){this.Hl=b.location;this.fa(d.A.Ad.F.u8)}}}"use strict";
self.B.A.Ad.F={Lra(){return this.Ez},N8(){return!0},L8(){return!0},T8(){return!0},kpa(){return this.NY},xra(){return this.b.ra.ds},c8(){return!0},Nra(d){return(this.b.ra.km<=this.b.ra.jm?0:1)===d},b9(){return!0},c9(){return!0},M8(){return!0},u8(){return!0},Ata(){return!this.b.So()},O8(){return!0},P8(){return!0},Cqa(){return!1},qra(){return!1},nta(){return!1},ota(){return!1},Fra(){return!1},jra(){return!0},Kya(){return!0}};"use strict";
{const d=self.B,b="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.A.Ad.oa={zna(c){this.eb("alert",{message:c.toString()})},Goa(){this.Fz||(this.b.Sb?self.zj.Hoa():this.eb("close"))},Wpa(){this.eb("set-focus",{isFocus:!0})},eoa(){this.eb("set-focus",{isFocus:!1})},vqa(){this.Fz||this.eb("navigate",{type:"back"})},wqa(){this.Fz||this.eb("navigate",{type:"forward"})},xqa(){},Tua(){this.Fz||(this.b.Sb?this.b.r9():this.eb("navigate",{type:"reload"}))},
yqa(c,f){this.Zm("navigate",{type:"url",url:c,target:f,exportType:this.b.sk})},zqa(c,f){this.Zm("navigate",{type:"new-window",url:c,tag:f,exportType:this.b.sk})},R9(c,f){2<=c&&(c+=1);6===c&&(c=2);1===c&&(c=0);c=d.ZH.tV(c);this.b.ra.F$(c);this.Zm("request-fullscreen",{navUI:f})},o1(){this.Zm("exit-fullscreen")},Iba(c){c=c.split(",");for(let f=0,a=c.length;f<a;++f)c[f]=parseInt(c[f],10);this.Zm("vibrate",{pattern:c})},async AC(c,f){c&&f&&(c=await this.b.Mb.OI(c),this.b.AC(c,f))},bra(c,f,a){a&&(c=`data:${f},${encodeURIComponent(c)}`,
this.b.AC(c,a))},jpa(c,f){f=f.toString();0===c?console.log(f):1===c?console.warn(f):2===c&&console.error(f)},hpa(c){console.group(c)},ipa(){console.groupEnd()},Kpa(c){try{eval(c)}catch(f){console.error("Error executing JavaScript: ",f)}},Csa(c){c=Math.floor(c);0>c||c>=b.length||this.Zm("lock-orientation",{orientation:b[c]})},mza(){this.Zm("unlock-orientation")},DS(c){this.b.Mb.DS(c)},Rwa(c){this.eb("set-hash",{hash:c})}}}"use strict";
self.B.A.Ad.cb={URL(){return this.b.gg?this.Hl:location.toString()},Gua(){return this.b.gg?(new URL(this.Hl)).protocol:location.protocol},wpa(){return this.b.gg?(new URL(this.Hl)).hostname:location.hostname},xua(){return this.b.gg?(new URL(this.Hl)).port:location.port},Kta(){return this.b.gg?(new URL(this.Hl)).pathname:location.pathname},Eqa(){return this.b.gg?(new URL(this.Hl)).hash:location.hash},LJ(){return this.b.gg?(new URL(this.Hl)).search:location.search},Iua(d){const b=this.b.gg?(new URL(this.Hl)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(b))?decodeURIComponent(d[1].replace(/\+/g," ")):""},Rua(){return this.RZ},tba(){return this.YX},fsa(){return navigator.language},lb(){return navigator.platform},sza(){return navigator.userAgent},Jpa(d){let b=0;try{b=eval(d)}catch(c){console.error("Error executing JavaScript: ",c)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},Xsa(){return navigator.appName},xza(){return navigator.appVersion},Fua(){return navigator.product},
wza(){return navigator.vendor},Yna(){return 1},Zna(){return Infinity},Vna(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},tpa(){return self.devicePixelRatio},hwa(){return this.$Z},gwa(){return this.ZZ},Oza(){return this.b.ra.km},Nza(){return this.b.ra.jm},Qza(){return this.mP},Pza(){return this.mP}};"use strict";{const d=self.B;d.A.Yb=class extends d.Rh{constructor(b){super(b)}j(){super.j()}}}"use strict";
{const d=self.B;d.A.Yb.$c=class extends d.Pj{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";{const d=self.B;d.A.Yb.Instance=class extends d.Zo{constructor(b){super(b);this.tb=this.hh="";this.Lz=[];this.bY="";this.zs=this.ys=0;this.rh=this.b.EV()}j(){super.j()}async op(b){this.bY=this.kea(b);await this.rb(d.A.Yb.F.n8)}kea(b){return b?"string"===typeof b?b:"string"===typeof b.message?b.message:"string"===typeof b.name?b.name:"string"===typeof b.data?b.data:"unknown error":"unknown error"}}}"use strict";
{const d=self.B;d.A.Yb.F={US(b){return this.hh===b},NS(){return!0},FJ(b){return this.hh===b},MS(){return!0},A8(b){return this.hh===b},a8(){return!0},f8(){return!0},X7(){return!0},n8(){return!0},TS(b){return this.hh===b},z8(b){return this.hh===b},Roa(b,c){return d.compare(this.hh,b,c)},bpa(b,c){return d.compare(this.tb,b,c)},Pra(){return 0<this.zs},Ora(){return 0<this.ys},LS(){return!0},KS(){return!0}}}"use strict";
{const d=self.B;function b(c){return"string"===typeof c||"number"===typeof c}d.A.Yb.oa={async caa(c,f){this.zs++;try{const a=await this.rh.setItem(c,f);await this.pl(async()=>{this.hh=c;this.tb=a;await this.rb(d.A.Yb.F.NS);await this.rb(d.A.Yb.F.US)})}catch(a){await this.op(a)}finally{this.zs--,0===this.zs&&await this.rb(d.A.Yb.F.LS)}},async swa(c,f){if(f&&(f=f.Bm(this.G))&&(f=f.ia)){f=f.oqa();this.zs++;try{await this.rh.setItem(c,f),await this.pl(async()=>{this.hh=c;this.tb="";await this.rb(d.A.Yb.F.NS);
await this.rb(d.A.Yb.F.US)})}catch(a){await this.op(a)}finally{this.zs--,0===this.zs&&await this.rb(d.A.Yb.F.LS)}}},async A4(c){this.ys++;try{const f=await this.rh.getItem(c);await this.pl(async()=>{this.hh=c;this.tb=b(f)?f:"";await this.rb(d.A.Yb.F.MS);await this.rb(d.A.Yb.F.FJ)})}catch(f){await this.op(f)}finally{this.ys--,0===this.ys&&await this.rb(d.A.Yb.F.KS)}},async qqa(c,f){if(f&&(f=f.Bm(this.G))){var a=f.ia;this.ys++;try{let e=await this.rh.getItem(c);e=e instanceof ArrayBuffer?e:new ArrayBuffer(0);
await this.pl(async()=>{this.tb="";this.hh=c;a.rwa(e);await this.rb(d.A.Yb.F.MS);await this.rb(d.A.Yb.F.FJ)})}catch(e){await this.op(e)}finally{this.ys--,0===this.ys&&await this.rb(d.A.Yb.F.KS)}}},async u1(c){try{const f=await this.rh.getItem(c);await this.pl(async()=>{this.hh=c;"undefined"===typeof f||null===f?(this.tb="",await this.rb(d.A.Yb.F.z8)):(this.tb=b(f)?f:"",await this.rb(d.A.Yb.F.TS))})}catch(f){await this.op(f)}},async Xua(c){try{await this.rh.removeItem(c),await this.pl(async()=>{this.hh=
c;this.tb="";await this.rb(d.A.Yb.F.a8);await this.rb(d.A.Yb.F.A8)})}catch(f){await this.op(f)}},async Doa(){try{await this.rh.clear(),await this.pl(async()=>{this.tb=this.hh="";d.H(this.Lz);await this.rb(d.A.Yb.F.f8)})}catch(c){await this.op(c)}},async nqa(){try{const c=await this.rh.keys();await this.pl(async()=>{this.Lz=c;await this.rb(d.A.Yb.F.X7)})}catch(c){await this.op(c)}}}}"use strict";
self.B.A.Yb.cb={i7(){return this.tb},Yra(){return this.hh},$ra(){return this.Lz.length},Zra(d){d=Math.floor(d);return 0>d||d>=this.Lz.length?"":this.Lz[d]},Epa(){return this.bY}};"use strict";{const d=self.B;d.A.Mi=class extends d.Rh{constructor(b){super(b)}j(){super.j()}}}"use strict";
{const d=self.B;function b(c){switch(c){case 0:return"clamp-to-edge";case 2:return"mirror-repeat"}return"repeat"}d.A.Mi.$c=class extends d.Pj{constructor(c,f){super(c);this.qo=this.po="repeat";f&&(this.po=b(f[0]),this.qo=b(f[1]))}j(){super.j()}Gb(){this.fc().Tt(this.b)}Mm(c){return this.fc().Kj(c,{Jf:this.b.Lc,Iw:this.po,Jw:this.qo})}ml(){this.fc().Eg()}}}"use strict";
{const d=self.B,b=d.D(d.Rect),c=d.D(d.Td),f=d.D(d.Rect),a=d.D(d.Td);d.A.Mi.Instance=class extends d.au{constructor(h,g){super(h);this.nv=this.lv=0;this.pv=this.ov=1;this.un=0;this.Mg=null;g&&(this.C().re(!!g[0]),this.lv=g[4],this.nv=g[5],this.ov=g[6],this.pv=g[7],this.un=d.Ma(g[8]))}j(){this.Ay();super.j()}Ay(){this.Mg&&(this.Mg.j(),this.Mg=null)}Ec(h){var g=this.de(),m=g.Rd();if(null!==m){h.Yf(m);m=g.M();g=g.N();var q=this.lv/m,l=this.nv/g,r=this.C();f.set(0,0,r.M()/(m*this.ov),r.N()/(g*this.pv));
f.offset(-q,-l);r.Jh()?this.YK(r,h):this.ZK(r,h)}}ZK(h,g){let m=h.Co();this.b.Ek&&(m=h.Fx(m));0===this.un?g.Pm(m,f):(a.iQ(f,-this.un),g.mT(m,a))}YK(h,g){const m=h.ZR();if(h.tS()){h.yB(b,c,!1);let q=c;this.b.Ek&&(q=h.Fx(q));let l=f;0!==this.un&&(a.iQ(f,-this.un),l=a);m.HQ(h.il(),q,l);h.sD(!1)}m.Ec(g)}de(){return this.Mg||this.W.fc()}Ro(){return!0}Rd(){return this.de().Rd()}Fy(){this.C().sD(!0)}WW(h){this.lv!==h&&(this.lv=h,this.b.aa(),this.Fy())}XW(h){this.nv!==h&&(this.nv=h,this.b.aa(),this.Fy())}YW(h){this.ov!==
h&&(this.ov=h,this.b.aa(),this.Fy())}ZW(h){this.pv!==h&&(this.pv=h,this.b.aa(),this.Fy())}VW(h){this.un!==h&&(this.un=h,this.b.aa(),this.Fy())}Lb(h){switch(h){case 4:return this.lv;case 5:return this.nv;case 6:return this.ov;case 7:return this.pv;case 8:return this.un}}Ed(h,g){switch(h){case 4:this.WW(g);break;case 5:this.XW(g);break;case 6:this.YW(g);break;case 7:this.ZW(g);break;case 8:this.VW(g)}}Sf(){return self.M5}};const e=new WeakMap;self.M5=class extends self.Lt{constructor(){super();e.set(this,
self.Tq.Tj().ia)}get imageWidth(){return e.get(this).de().M()}get imageHeight(){return e.get(this).de().N()}}}"use strict";self.B.A.Mi.F={Wt(){return!0},Dx(){return!0}};"use strict";
{const d=self.B;d.A.Mi.oa={Uwa(b){this.WW(b)},Vwa(b){this.XW(b)},Wwa(b){this.YW(b/100)},Xwa(b){this.ZW(b/100)},Twa(b){this.VW(d.Ma(b))},aK(b){this.C().Wf(b);this.b.aa()},async ES(b){if(!this.Mg||this.Mg.pi!==b){var c=this.b,f=d.D(d.Mt);try{await f.wJ(c,b);if(!f.yx())throw Error("image failed to load");if(this.hp())return f.j(),null;if(!await f.Kj(c.oe(),{Jf:this.b.Lc,Iw:"repeat",Jw:"repeat"}))return}catch(a){console.error("Load image from URL failed: ",a);this.fa(d.A.Mi.F.Dx);return}this.hp()?f.j():
(this.Ay(),this.Mg=f,c.aa(),await this.rb(d.A.Mi.F.Wt))}}}}"use strict";{const d=self.B;d.A.Mi.cb={U5(){return this.de().M()},Q5(){return this.de().N()},Nqa(){return this.lv},Oqa(){return this.nv},Qqa(){return 100*this.ov},Rqa(){return 100*this.pv},Kqa(){return d.Pd(this.un)}}}"use strict";{const d=self.B;d.A.Ub=class extends d.Rh{constructor(b){super(b)}j(){super.j()}};d.A.Ub.yK=-2147483648;d.A.Ub.zK=1073741824;d.A.Ub.xK=536870912;d.A.Ub.wK=3758096384;d.A.Ub.pu=536870911}"use strict";
{const d=self.B,b=d.A.Ub.yK,c=d.A.Ub.zK,f=d.A.Ub.xK,a=d.A.Ub.pu;d.A.Ub.$c=class extends d.Pj{constructor(e){super(e);this.hq=[];this.fM=!1;this.oZ=0}j(){super.j()}Gb(){this.fc().Tt(this.b)}Mm(e){return this.fc().Kj(e,{Jf:this.b.Lc})}ml(){this.fc().Eg()}Cx(){for(const e of this.S().U_())e.ia.cga()}Ax(e,h){this.oZ=h;for(const g of e)g?this.hq.push({AH:g[0],use:!!g[1],AP:[[[null,null],[null,null]],[[null,null],[null,null]]]}):this.hq.push(null)}sV(){this.fM=!1;this.dW(void 0,void 0)}dW(e,h){if(!this.fM){this.fM=
!0;for(let g=0,m=this.hq.length;g<m;++g)this.hq[g]&&(this.jp(g,e,h,!1,!1,!1),this.jp(g,e,h,!1,!1,!0),this.jp(g,e,h,!1,!0,!1),this.jp(g,e,h,!1,!0,!0),this.jp(g,e,h,!0,!1,!1),this.jp(g,e,h,!0,!1,!0),this.jp(g,e,h,!0,!0,!1),this.jp(g,e,h,!0,!0,!0))}}jp(e,h,g,m,q,l){if(!(0>e||e>=this.hq.length)&&(e=this.hq[e])){var r=d.D(d.Iq,e.AH,e.use);r.transform(h,g,0);l&&r.wP();m&&r.PP(h/2);q&&r.zP(g/2);e.AP[m?1:0][q?1:0][l?1:0]=null;e.AP[m?1:0][q?1:0][l?1:0]=r}}VR(e){if(-1===e)return null;var h=e&a;return 0>h||
h>=this.hq.length?null:(h=this.hq[h])?h.AP[e&b?1:0][e&c?1:0][e&f?1:0]:null}wS(e){return e?e.Cd():!0}KI(){return this.oZ}}}"use strict";
{const d=self.B,b=d.A.Ub.yK,c=d.A.Ub.zK,f=d.A.Ub.xK,a=d.A.Ub.wK,e=d.A.Ub.pu,h=d.D(d.Rect),g=d.D(d.Rect);d.A.Ub.Instance=class extends d.au{constructor(l,r){super(l);l=this.C();this.Bc=this.uc=32;this.ig=this.Cf=this.jq=this.eo=this.iq=this.co=0;this.gZ=l.M();this.dZ=l.N();this.wf=this.cf=0;this.$l=[];this.bw=new Map;this.wF=!0;this.Mg=null;r&&(l.re(r[0]),this.uc=Math.max(r[1],1),this.Bc=Math.max(r[2],1),this.co=r[3],this.iq=r[4],this.eo=r[5],this.jq=r[6]);this.cf=Math.ceil(this.b.jf/this.uc);this.wf=
Math.ceil(this.b.hf/this.Bc);this.Va.dW(this.uc,this.Bc)}j(){this.Ay();d.H(this.$l);this.$l=null;this.bw.clear();this.bw=null;super.j()}Ay(){this.Mg&&(this.Mg.j(),this.Mg=null)}Ax(l,r,p){this.Cf=r;this.ig=p;this.yl(!0);this.kK(l);this.cW()}yl(l){var r=this.C(),p=Math.floor(r.M()/this.uc),t=Math.floor(r.N()/this.Bc);if(!(p<=this.Cf&&t<=this.ig)||l){l?(l=Math.ceil(this.ig/this.wf),r=Math.ceil(this.Cf/this.cf)):(l=this.$l.length,r=Math.ceil(this.Cf/this.cf),t>this.ig&&(this.ig=t,l=Math.ceil(this.ig/
this.wf)),p>this.Cf&&(this.Cf=p,r=Math.ceil(this.Cf/this.cf)),this.ur(),this.Gy(),this.b.aa());p=this.$l;if(p.length<l)for(t=p.length;t<l;++t)p.push([]);for(t=0;t<l;++t){const v=p[t];for(let y=v.length;y<r;++y)v.push(d.D(d.A.Ub.oba,this,y,t))}}}kK(l){var r=[];l=l.split(",");for(let y=0,z=l.length;y<z;++y){var p=l[y],t=p.indexOf("x");if(-1<t){var v=parseInt(p.substring(0,t),10);p=p.substring(t+1);t=parseInt(p,10);p.includes("h")&&(t|=b);p.includes("v")&&(t|=c);for(p.includes("d")&&(t|=f);0<v;--v)r.push(t)}else v=
parseInt(p,10),p.includes("h")&&(v|=b),p.includes("v")&&(v|=c),p.includes("d")&&(v|=f),r.push(v)}l=0;v=this.Cf;p=this.cf;t=this.wf;for(let y=0,z=this.ig;y<z;++y)for(let C=0;C<v;++C){const w=r[l++],E=this.tI(C,y);E&&E.Um(C%p,y%t,w)}}WR(){let l="";if(0>=this.Cf||0>=this.ig)return l;let r=1;var p=this.Io(0,0),t=this.C();const v=Math.floor(t.M()/this.uc);t=Math.floor(t.N()/this.Bc);let y,z,C;for(let w=0;w<t;++w)for(let E=0===w?1:0;E<v;++E){const H=this.Io(E,w);H===p?++r:(-1===p?(y=-1,p=C=z=!1):(y=p&e,
z=0!==(p&b),C=0!==(p&c),p=0!==(p&f)),l=1===r?l+(""+y):l+(""+r+"x"+y),z&&(l+="h"),C&&(l+="v"),p&&(l+="d"),l+=",",r=1,p=H)}-1===p?(y=-1,p=C=z=!1):(y=p&e,z=0!==(p&b),C=0!==(p&c),p=0!==(p&f));l=1===r?l+(""+y):l+(""+r+"x"+y);z&&(l+="h");C&&(l+="v");p&&(l+="d");return l}ur(){const l=this.$l;for(let r=0,p=l.length;r<p;++r){const t=l[r];for(let v=0,y=t.length;v<y;++v)t[v].Bia()}this.wF=!0}cW(){if(this.wF){this.wF=!1;var l=this.$l;for(let r=0,p=l.length;r<p;++r){const t=l[r];for(let v=0,y=t.length;v<y;++v)t[v].yJ()}}}yaa(){this.wF=
!0;this.Gy();this.b.aa()}Gy(){this.C().cU()}tI(l,r){if(0>l||0>r)return null;r=Math.floor(r/this.wf);if(r>=this.$l.length)return null;r=this.$l[r];l=Math.floor(l/this.cf);return l>=r.length?null:r[l]}pR(l,r){if(0>l||0>r||r>=this.$l.length)return null;r=this.$l[r];return l>=r.length?null:r[l]}Io(l,r){l=Math.floor(l);r=Math.floor(r);if(0>l||0>r||l>=this.Cf||r>=this.ig)return-1;const p=this.tI(l,r);return p?p.ew[r%this.wf][l%this.cf]:-1}Um(l,r,p){l=Math.floor(l);r=Math.floor(r);if(!(0>l||0>r||l>=this.Cf||
r>=this.ig||-1!==p&&(p&e)>this.KI())){var t=this.tI(l,r);t&&t.Um(l%this.cf,r%this.wf,p)}}KI(){return this.Va.KI()}HU(l){return Math.floor((l-this.C().I())/(this.cf*this.uc))}IU(l){return Math.floor((l-this.C().J())/(this.wf*this.Bc))}JU(l){return Math.floor((l-this.C().I())/this.uc)}KU(l){return Math.floor((l-this.C().J())/this.Bc)}U3(l,r){var p=this.HU(l.P);const t=this.IU(l.O),v=this.HU(l.V);for(l=this.IU(l.U);p<=v;++p)for(let y=t;y<=l;++y){const z=this.pR(p,y);z&&(z.yJ(),d.mm(r,z.PX))}}tU(l,r){var p=
this.JU(l),t=this.KU(r);p=this.Io(p,t);if(-1===p)return!1;p=this.Va.VR(p);if(!p)return!0;if(!this.Va.wS(p))return!1;var v=this.C();t=Math.floor((l-v.I())/this.uc)*this.uc+v.I();v=Math.floor((r-v.J())/this.Bc)*this.Bc+v.J();return p.tg(l-t,r-v)}de(){return this.Mg||this.W.fc()}V4(l){const r=this.bw;var p=r.get(l);if(p)return p;var t=l&e;p=0!==(l&b);const v=0!==(l&c),y=0!==(l&f);var z=this.de(),C=z.M(),w=this.uc;const E=this.eo;w=Math.floor((Math.floor((C-this.co)/(w+E)*w)+E)/w);C=t%w;t=Math.floor(t/
w);h.Rg(z.ws+this.co+(this.uc+this.eo)*C,z.xs+this.iq+(this.Bc+this.jq)*t,this.uc,this.Bc);h.Sk(z.S4(),z.R4());z=d.D(d.Td);z.wj(h);y&&z.wP();p&&z.PP();v&&z.zP();z.offset(C,t);r.set(l,z);return z}cga(){this.bw.clear();this.ur()}Ec(l){var r=this.de(),p=r.Rd();if(p){h.Ga(r.Yg());h.offsetLeft(this.co/p.M());h.offsetTop(this.iq/p.N());l.zaa();l.Aaa(h,p.M(),p.N(),this.uc,this.Bc,this.eo,this.jq);l.Yf(p);p=this.C();if(p.M()!==this.gZ||p.N()!==this.dZ)this.Gy(),this.ur(),this.gZ=p.M(),this.dZ=p.N();p.wa().uC(p.Ci(),
g);r=p.I();p=p.J();this.b.Ek&&(r=Math.round(r),p=Math.round(p));var t=this.cf*this.uc,v=this.wf*this.Bc,y=Math.floor((g.P-r)/t);t=Math.floor((g.V-r)/t);var z=Math.floor((g.O-p)/v);for(v=Math.floor((g.U-p)/v);y<=t;++y)for(let C=z;C<=v;++C){const w=this.pR(y,C);w&&(w.yJ(),w.Ec(l,g,r,p))}}}Tb(){this.yl();var l=this.C();const r=Math.floor(l.M()/this.uc);l=Math.floor(l.N()/this.Bc);return{tw:this.uc,th:this.Bc,tox:this.co,toy:this.iq,tsx:this.eo,tsy:this.jq,w:r,h:l,d:this.WR()}}Qb(l){this.uc=l.tw;this.Bc=
l.th;this.co=l.tox;this.iq=l.toy;this.eo=l.tsx;this.jq=l.tsy;this.Cf=l.w;this.ig=l.h;this.yl(!0);this.kK(l.d);this.Gy();this.ur()}mR(){this.yl();var l=this.C();const r=Math.floor(l.M()/this.uc);l=Math.floor(l.N()/this.Bc);return JSON.stringify({c2tilemap:!0,width:r,height:l,data:this.WR()})}ey(l){switch(l){case 0:return 0;case 1:return b;case 2:return c;case 3:return b|f;case 4:return b|c;case 5:return c|f;case 6:return b|c|f;case 7:return f;default:return 0}}Lb(l){switch(l){case 1:return this.uc;
case 2:return this.Bc;case 3:return this.co;case 4:return this.iq;case 5:return this.eo;case 6:return this.jq}}Ed(l,r){switch(l){case 1:if(this.uc===r)break;this.uc=Math.max(r,1);this.cf=Math.ceil(this.b.jf/this.uc);this.Va.sV();this.Bu();break;case 2:if(this.Bc===r)break;this.Bc=Math.max(r,1);this.wf=Math.ceil(this.b.hf/this.Bc);this.Va.sV();this.Bu();break;case 3:if(this.co===r)break;this.co=r;this.Bu();break;case 4:if(this.iq===r)break;this.iq=r;this.Bu();break;case 5:if(this.eo===r)break;this.eo=
r;this.Bu();break;case 6:this.jq!==r&&(this.jq=r,this.Bu())}}Bu(){this.bw.clear();this.ur();this.cW()}Sf(){return q}};const m=new WeakMap,q=self.Jqa=class extends self.Lt{constructor(){super();m.set(this,self.Tq.Tj().ia)}};q.yK=b;q.zK=c;q.xK=f;q.wK=a;q.pu=e}"use strict";{const d=self.B,b=d.A.Ub.wK,c=d.A.Ub.pu;d.A.Ub.F={Xoa(f,a,e,h){f=this.Io(f,a);-1!==f&&(f&=c);return d.compare(f,e,h)},Yoa(f,a,e){f=this.Io(f,a);a=0;-1!==f&&(a=f&b);return a===this.ey(e)},Wt(){return!0},Dx(){return!0}}}"use strict";
{const d=self.B,b=d.A.Ub.pu;d.A.Ub.oa={Cpa(c,f){this.yl();this.Um(c,f,-1)},Oxa(c,f,a,e){this.yl();this.Um(c,f,a&b|this.ey(e))},Qxa(c,f,a){const e=this.Io(c,f);-1!==e&&(this.yl(),this.Um(c,f,e&b|this.ey(a)))},Dpa(c,f,a,e){const h=Math.floor(Math.max(c,0));var g=Math.floor(Math.max(f,0));c=Math.floor(Math.min(c+a,this.Cf));for(f=Math.floor(Math.min(f+e,this.ig));g<f;++g)for(e=h;e<c;++e)this.Um(e,g,-1)},Pxa(c,f,a,e,h,g){this.yl();const m=Math.floor(Math.max(c,0));var q=Math.floor(Math.max(f,0));c=Math.floor(Math.min(c+
a,this.Cf));f=Math.floor(Math.min(f+e,this.ig));for(h=h&b|this.ey(g);q<f;++q)for(g=m;g<c;++g)this.Um(g,q,h)},Rxa(c,f,a,e,h){this.yl();const g=Math.floor(Math.max(c,0));var m=Math.floor(Math.max(f,0));c=Math.floor(Math.min(c+a,this.Cf));f=Math.floor(Math.min(f+e,this.ig));for(h=this.ey(h);m<f;++m)for(e=g;e<c;++e)a=this.Io(e,m),-1!==a&&this.Um(e,m,a&b|h)},vsa(c){let f=null;try{f=JSON.parse(c)}catch(a){console.error("[Construct 3] Failed to parse tilemap JSON: ",a);return}f.c2tilemap?(this.Cf=f.width,
this.ig=f.height,this.yl(!0),this.kK(f.data),this.ur(),this.Gy()):console.error("[Construct 3] Unrecognized JSON data format")},Vra(c){const f=URL.createObjectURL(new Blob([this.mR()],{type:"application/json"}));this.b.AC(f,c)},async ES(c){if(!this.Mg||this.Mg.pi!==c){var f=this.b,a=d.D(d.Mt);try{await a.wJ(f,c);if(!a.yx())throw Error("image failed to load");if(this.hp())return a.j(),null;if(!await a.Kj(f.oe(),{Jf:this.b.Lc}))return}catch(e){console.error("Load image from URL failed: ",e);this.fa(d.A.Ub.F.Dx);
return}this.hp()?a.j():(this.Ay(),this.Mg=a,f.aa(),this.bw.clear(),this.ur(),await this.rb(d.A.Ub.F.Wt))}}}}"use strict";
{const d=self.B,b=d.A.Ub.pu;d.A.Ub.cb={Qya(c,f){c=this.Io(c,f);return-1===c?-1:c&b},yua(c){return this.JU(c)},zua(c){return this.KU(c)},Rya(c){return c*this.uc+this.C().I()+this.uc/2},Sya(c){return c*this.Bc+this.C().J()+this.Bc/2},dya(c){const f=this.C().I();return Math.floor((c-f)/this.uc)*this.uc+f+this.uc/2},eya(c){const f=this.C().J();return Math.floor((c-f)/this.Bc)*this.Bc+f+this.Bc/2},Uya(){return this.mR()}}}"use strict";
{const d=self.B,b=d.D(d.Rect),c=d.D(d.Td);d.A.Ub.qba=class extends d.ua{constructor(){super();this.Ld=-1;this.Rn=d.D(d.Rect);this.w_=null}tf(f,a,e,h,g,m,q,l){this.Ld=f;this.Rn.Rg(h*a+m,g*e+q,a,e);this.w_=l.V4(this.Ld)}Ec(f,a,e,h){b.Ga(this.Rn);b.offset(e,h);b.eB(a)&&(c.wj(b),f.mT(c,this.w_))}}}"use strict";
{const d=self.B;d.A.Ub.pba=class extends d.ua{constructor(){super();this.Ld=-1;this.oG=null;this.Rn=d.D(d.Rect)}tf(b,c,f,a,e,h,g,m){this.Ld=b;this.oG=c;this.Rn.Rg(e*f+g,h*a+m,f,a)}x3(b){this.Rn.n0(this.Rn.V+b)}bS(){return!!this.oG}}}"use strict";
{const d=self.B;d.A.Ub.oba=class extends d.ua{constructor(b,c,f){super();const a=b.cf,e=b.wf;this.ia=b;this.Y=c;this.X=f;this.P=this.Y*a*b.uc;this.O=this.X*e*b.Bc;this.ew=[];this.OZ=[];this.PX=[];this.IF=!1;for(b=0;b<e;++b)c=new Int32Array(a),c.fill(-1),this.ew.push(c)}Bd(){const b=this.ia.cf;var c=this.ia.wf;const f=this.ew;if(f.length<c)for(let a=f.length;a<c;++a)f.push(new Int32Array(b));else f.length>c&&d.zd(f,c);for(let a=0,e=f.length;a<e;++a)c=f[a],c.length!==b&&(c=new Int32Array(b),f[a]=c),
c.fill(-1)}Bia(){this.IF=!1}yJ(){if(!this.IF){var b=this.ia,c=b.Va,f=b.C(),a=b.uc,e=b.Bc,h=b.cf,g=b.wf,m=this.P,q=this.O;if(!(0>=a||0>=e)){var l=Math.min(b.Cf,Math.floor(f.M()/a));f=Math.min(b.ig,Math.floor(f.N()/e));l-=m/a;f-=q/e;l>h&&(l=h);f>g&&(f=g);h=this.ew;g=this.OZ;var r=0;for(var p=0;p<f;++p){var t=h[p];for(var v=0;v<l;++v){var y=t[v];if(-1!==y){var z=void 0;r<g.length?z=g[r]:(z=d.D(d.A.Ub.qba),g.push(z));z.tf(y,a,e,v,p,m,q,b);++r}}}r<g.length&&d.zd(g,r);g=null;r=!1;b=this.PX;d.H(b);for(p=
0;p<f;++p){t=h[p];for(v=0;v<l;++v){y=t[v];z=c.VR(y);const C=c.wS(z);-1!==y&&C?!g||z||r?(g&&b.push(g),g=d.D(d.A.Ub.pba),g.tf(y,z,a,e,v,p,m,q),r=!!z):g.x3(a):g&&(b.push(g),g=null,r=!1)}g&&(b.push(g),g=null,r=!1)}c=b.length;for(a=0;a<c;++a)if(m=b[a],!m.bS())for(m=m.Rn,q=a+1;q<c;++q)l=b[q],f=l.Rn,f.O<m.U||f.O>m.U||f.V>m.V||f.P>m.P||l.bS()||f.P!==m.P||f.V!==m.V||(b.splice(q,1),--c,m.Cma(m.U+e),--q);this.IF=!0}}}Um(b,c,f){this.ew[c][b]!==f&&(this.ew[c][b]=f,this.IF=!1,this.ia.yaa())}Ec(b,c,f,a){const e=
this.OZ;for(let h=0,g=e.length;h<g;++h)e[h].Ec(b,c,f,a)}}}"use strict";{const d=self.B;d.K.jr=class extends d.Fi{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.K.jr.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B,b=self.vx,c=2*Math.PI,f=Math.PI/2,a=3*Math.PI/2,e=[0,1,8,3,4,2,5,6,9,7];d.K.jr.Instance=class extends d.Gi{constructor(g,m){super(g);this.fd=this.Ef=this.uq=this.nh=this.ed=0;this.la=!0;this.tG=this.zv=this.Jg=this.Zr=this.zb=this.QN=this.jO=this.kO=this.uE=this.KX=this.vE=0;m&&(this.nh=e[m[0]],this.uq=m[1],this.kO=this.b.Nj()*m[3],this.vE=m[2],this.Ef=m[2],this.Ef+=this.kO,this.KX=m[4],0!==this.Ef&&(this.jO=this.b.Nj()*m[5],this.ed=m[4]/this.Ef*c,this.ed+=this.jO/this.Ef*c),this.QN=
this.b.Nj()*m[7],this.uE=m[6],this.fd=m[6],this.fd+=this.QN,this.la=!!m[8]);5===this.nh&&(this.fd=d.Ma(this.fd));this.Tf();this.la&&this.cd()}j(){super.j()}Tb(){return{i:this.ed,e:this.la,mv:this.nh,w:this.uq,p:this.Ef,mag:this.fd,iv:this.zb,iv2:this.Zr,r:this.tG,lkv:this.Jg,lkv2:this.zv}}Qb(g){this.ed=g.i;this.Fe(g.e);this.nh=g.mv;this.uq=g.w;this.Ef=g.p;this.fd=g.mag;this.zb=g.iv;this.Zr=g.iv2;this.tG=g.r;this.Jg=g.lkv;this.zv=g.lkv2}Tf(){const g=this.G.C();switch(this.nh){case 0:this.zb=g.I();
break;case 1:this.zb=g.J();break;case 2:this.zb=g.M();this.tG=g.N()/g.M();break;case 3:this.zb=g.M();break;case 4:this.zb=g.N();break;case 5:this.zb=g.ca();break;case 6:this.zb=g.ld();break;case 7:this.zb=0;break;case 8:this.zb=g.I();this.Zr=g.J();break;case 9:this.zb=g.kb()}this.Jg=this.zb;this.zv=this.Zr}Ni(g){g%=c;switch(this.uq){case 0:return Math.sin(g);case 1:return g<=f?g/f:g<=a?1-2*(g-f)/Math.PI:(g-a)/f-1;case 2:return 2*g/c-1;case 3:return-2*g/c+1;case 4:return g<Math.PI?-1:1}return 0}oc(){const g=
this.b.Wg(this.G);this.la&&0!==g&&(this.ed=0===this.Ef?0:(this.ed+g/this.Ef*c)%c,this.zX())}zX(){const g=this.G.C();switch(this.nh){case 0:g.I()!==this.Jg&&(this.zb+=g.I()-this.Jg);g.sf(this.zb+this.Ni(this.ed)*this.fd);this.Jg=g.I();break;case 1:g.J()!==this.Jg&&(this.zb+=g.J()-this.Jg);g.Zf(this.zb+this.Ni(this.ed)*this.fd);this.Jg=g.J();break;case 2:g.Ze(this.zb+this.Ni(this.ed)*this.fd);g.Ye(g.M()*this.tG);break;case 3:g.Ze(this.zb+this.Ni(this.ed)*this.fd);break;case 4:g.Ye(this.zb+this.Ni(this.ed)*
this.fd);break;case 5:g.ca()!==this.Jg&&(this.zb=d.Cc(this.zb+(g.ca()-this.Jg)));g.Gc(this.zb+this.Ni(this.ed)*this.fd);this.Jg=g.ca();break;case 6:g.qe(this.zb+this.Ni(this.ed)*this.fd/100);break;case 8:g.I()!==this.Jg&&(this.zb+=g.I()-this.Jg);g.J()!==this.zv&&(this.Zr+=g.J()-this.zv);g.sf(this.zb+Math.cos(g.ca())*this.Ni(this.ed)*this.fd);g.Zf(this.Zr+Math.sin(g.ca())*this.Ni(this.ed)*this.fd);this.Jg=g.I();this.zv=g.J();break;case 9:g.$f(this.zb+this.Ni(this.ed)*this.fd)}g.T()}zia(g){this.Ef=
g}uia(g){this.fd=g}via(g){5===this.nh&&(g=d.Ma(g));this.uia(g)}dL(){let g=this.fd;5===this.nh&&(g=d.Pd(g));return g}yia(g){5===this.nh&&5!==g&&(this.fd=d.Pd(this.fd));this.nh=g;this.Tf()}Aia(g){this.ed=d.ba(g,0,2*Math.PI);this.zX()}Fe(g){(this.la=!!g)?this.cd():this.Wh()}Lb(g){switch(g){case 0:return this.nh;case 1:return this.uq;case 2:return this.vE;case 6:return this.uE;case 8:return this.la}}Ed(g,m){switch(g){case 0:this.nh=e[m];this.Tf();break;case 1:this.uq=m;break;case 2:this.vE=m;this.Ef=
this.vE+this.kO;this.la||(0!==this.Ef?(this.ed=this.KX/this.Ef*c,this.ed+=this.jO/this.Ef*c):this.ed=0);break;case 6:this.uE=m;this.fd=this.uE+this.QN;5===this.nh&&(this.fd=d.Ma(this.fd));break;case 8:this.la=!!m}}Sf(){return self.I5}};const h=new WeakMap;self.I5=class extends b{constructor(){super();h.set(this,b.Tj().ia)}get value(){const g=h.get(this);return g.Ni(g.ed)*g.fd}set isEnabled(g){h.get(this).Fe(!!g)}get isEnabled(){return h.get(this).la}}}"use strict";
{const d=self.B;d.K.jr.F={Cd(){return this.la},Toa(b){return this.nh===b},Voa(b,c){return d.compare(this.Ef,b,c)},Soa(b,c){return d.compare(this.dL(),b,c)},dpa(b){return this.uq===b}}}"use strict";self.B.K.jr.oa={Gg(d){this.Fe(0!==d)},Gxa(d){this.zia(d)},uxa(d){this.via(d)},yxa(d){this.yia(d)},Xxa(d){this.uq=d},Hxa(d){const b=2*Math.PI;this.Aia(d*b%b)},qza(){this.Tf()}};"use strict";
self.B.K.jr.cb={opa(){return this.ed/(2*Math.PI)},Nta(){return this.Ef},Hsa(){return this.dL()},tza(){return this.Ni(this.ed)*this.dL()}};"use strict";{const d=self.B;d.K.yj=class extends d.Fi{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.K.yj.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B,b=self.yh,c=self.vx;d.K.yj.Instance=class extends d.Gi{constructor(a,e){super(a);a=this.C();this.Ca=this.ic=this.qc=0;this.Kp=this.lf=this.ek=!1;this.la=!0;this.ta=this.xa=0;this.Ol=a.I();this.Pl=a.J();this.hg=a.ca();this.Rs=0;this.OG=Math.min(Math.abs(a.M()),Math.abs(a.N())/2);this.QO=!1;e&&(this.qc=e[0],this.ic=e[1],this.Ca=e[2],this.ek=!!e[3],this.lf=!!e[4],this.Kp=!!e[5],this.la=!!e[6]);e=a.ca();this.xa=Math.cos(e)*this.qc;this.ta=Math.sin(e)*this.qc;this.la&&(this.cd(),this.ek&&
this.Jy())}j(){super.j()}Tb(){const a={dx:this.xa,dy:this.ta,lx:this.Ol,ly:this.Pl,lka:this.hg,t:this.Rs};0!==this.ic&&(a.acc=this.ic);0!==this.Ca&&(a.g=this.Ca);this.Kp&&(a.st=this.Kp);this.la||(a.e=this.la);this.ek&&(a.bos=this.ek);this.lf&&(a.sa=this.lf);return a}Qb(a){this.xa=a.dx;this.ta=a.dy;this.Ol=a.lx;this.Pl=a.ly;this.hg=a.lka;this.Rs=a.t;this.ic=a.hasOwnProperty("acc")?a.acc:0;this.Ca=a.hasOwnProperty("g")?a.g:0;this.Kp=a.hasOwnProperty("st")?a.st:!1;this.ek=a.hasOwnProperty("bos")?a.bos:
!1;this.lf=a.hasOwnProperty("sa")?a.sa:!1;this.Fe(a.hasOwnProperty("e")?a.e:!0)}oc(){if(this.la){var a=this.b.Wg(this.G),e=this.G.C();if(e.ca()!==this.hg){var h=e.ca();if(this.lf){var g=d.Be(0,0,this.xa,this.ta);this.xa=Math.cos(h)*g;this.ta=Math.sin(h)*g}this.hg=h}h=g=0;if(0!==this.ic){let m=d.Be(0,0,this.xa,this.ta),q;q=0===this.xa&&0===this.ta?e.ca():d.uh(0,0,this.xa,this.ta);m+=this.ic*a;g=Math.cos(q)*this.ic;h=Math.sin(q)*this.ic;0>m&&(h=g=m=0);this.xa=Math.cos(q)*m;this.ta=Math.sin(q)*m}0!==
this.Ca&&(this.ta+=this.Ca*a,h+=this.Ca);this.Ol=e.I();this.Pl=e.J();if(0!==this.xa||0!==this.ta)g=this.xa*a+.5*g*a*a,a=this.ta*a+.5*h*a*a,h=d.Be(0,0,g,a),this.Tfa(g,a,h),this.Rs+=h,!this.lf||0===g&&0===a||(e.Gc(d.uh(0,0,g,a)),this.hg=e.ca()),e.T()}}Tfa(a,e,h){const g=this.C();if(!this.Kp||h<=this.OG)g.Dd(a,e),g.T(),this.Kp&&this.fa(d.K.yj.F.GJ);else{this.QO=!1;var m=g.I(),q=g.J(),l=m+a,r=q+e;e=d.uh(0,0,a,e);a=Math.cos(e)*this.OG;e=Math.sin(e)*this.OG;h=Math.floor(h/this.OG);for(let p=1;p<=h;++p)if(g.ib(m+
a*p,q+e*p),g.T(),this.fa(d.K.yj.F.GJ),this.G.wx()||this.QO)return;g.ib(l,r);g.T();this.fa(d.K.yj.F.GJ)}}UC(){if(this.la&&this.ek&&(0!==this.xa||0!==this.ta)){var a=this.b.Wg(this.G),e=this.G.C(),h=this.b.wc,g=h.Zc(this.G);if(g){h.cr(this.G,g);g=d.Be(0,0,this.xa,this.ta);const m=h.GQ(this.G,this.Ol,this.Pl);this.xa=Math.cos(m)*g;this.ta=Math.sin(m)*g;e.Dd(this.xa*a,this.ta*a);e.T();this.lf&&(e.Gc(m),this.hg=e.ca(),e.T());h.Dg(this.G,this.xa/g,this.ta/g,Math.max(2.5*g*a,30))||h.KJ(this.G,100)}}}Lb(a){switch(a){case 0:return this.Uj();
case 1:return this.ic;case 2:return this.Ca;case 4:return this.lf;case 5:return this.Kp;case 6:return this.la}}Ed(a,e){switch(a){case 0:this.zr(e);break;case 1:this.ic=e;break;case 2:this.Ca=e;break;case 4:this.lf=!!e;break;case 5:this.Kp=!!e;break;case 6:this.Fe(!!e)}}zr(a){const e=d.uh(0,0,this.xa,this.ta);this.xa=Math.cos(e)*a;this.ta=Math.sin(e)*a}Uj(){return d.gt(d.Be(0,0,this.xa,this.ta))}zl(a){this.ic=a}ZD(a){this.Ca=a}yL(a){const e=d.Be(0,0,this.xa,this.ta);this.xa=Math.cos(a)*e;this.ta=Math.sin(a)*
e}cL(){return d.uh(0,0,this.xa,this.ta)}Xha(a){a=!!a;this.ek!==a&&(this.ek=a,this.la&&(this.ek?this.Jy():this.bE()))}fia(a){this.Rs=a}Fe(a){(this.la=!!a)?(this.cd(),this.ek&&this.Jy()):(this.Wh(),this.bE())}Sf(){return self.B5}};const f=new WeakMap;self.B5=class extends c{constructor(){super();f.set(this,c.Tj().ia)}get speed(){return f.get(this).Uj()}set speed(a){b.Qm(a);f.get(this).zr(a)}get acceleration(){return f.get(this).ic}set acceleration(a){b.Qm(a);f.get(this).zl(a)}get isEnabled(){return f.get(this).la}set isEnabled(a){f.get(this).Fe(a)}}}"use strict";
{const d=self.B;d.K.yj.F={bI(b,c){return d.compare(Math.sqrt(this.xa*this.xa+this.ta*this.ta),b,c)},apa(b,c){return d.compare(this.Rs,b,c)},GJ(){return!0},Cd(){return this.la}}}"use strict";
{const d=self.B;d.K.yj.oa={uaa(b){this.zr(b)},fr(b){this.zl(b)},hr(b){this.ZD(b)},p$(b){this.yL(d.Ma(b))},foa(b){if(b&&(b=b.Bm(this.G))){var c=this.G.C(),f=this.b.wc,a=this.b.Wg(this.G),e=d.Be(0,0,this.xa,this.ta),h=f.GQ(this.G,this.Ol,this.Pl,b);this.xa=Math.cos(h)*e;this.ta=Math.sin(h)*e;c.Dd(this.xa*a,this.ta*a);c.T();this.lf&&(c.Gc(h),this.hg=c.ca(),c.T());0!==e&&(this.ek?f.Dg(this.G,this.xa/e,this.ta/e,Math.max(2.5*e*a,30))||f.KJ(this.G,100):f.x9(this.G,this.xa/e,this.ta/e,Math.max(2.5*e*a,30),
b))}},uwa(b){this.Xha(b)},Dwa(b){this.fia(b)},Gg(b){this.Fe(b)},yya(){this.QO=!0}}}"use strict";{const d=self.B;d.K.yj.cb={qU(){return this.Uj()},uQ(){return this.ic},Ina(){return d.Pd(this.cL())},vpa(){return this.Rs},$R(){return this.Ca}}}"use strict";{const d=self.B;d.K.ct=class extends d.Fi{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.K.ct.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B;d.K.ct.Instance=class extends d.Gi{constructor(b){super(b);this.cd()}j(){super.j()}oc(){var b=this.G.C();const c=b.ub();b=b.Qf();(0>c.V||0>c.U||c.P>b.M()||c.O>b.N())&&this.b.Ah(this.G)}}}"use strict";self.B.K.ct.F={};"use strict";self.B.K.ct.oa={};"use strict";self.B.K.ct.cb={};"use strict";{const d=self.B;d.K.Oh=class extends d.Fi{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.K.Oh.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B,b=self.yh,c=self.vx;d.K.Oh.Instance=class extends d.Gi{constructor(a,e){super(a);this.Ne=200;this.Ig=this.ic=600;this.Vn=0;this.lf=!0;this.Xv=!1;this.la=!0;this.qc=0;this.Ik=this.C().ca();this.Re=[];e&&(this.Ne=e[0],this.ic=e[1],this.Ig=e[2],this.Vn=d.Ma(e[3]),this.lf=e[4],this.Xv=e[5],this.la=e[6])}j(){super.j()}Tb(){return{ms:this.Ne,acc:this.ic,dec:this.Ig,rs:this.Vn,sa:this.lf,sos:this.Xv,s:this.qc,ma:this.Ik,wp:this.Re.map(a=>({x:a.x,y:a.y})),e:this.la}}Qb(a){this.Ne=a.ms;this.ic=
a.acc;this.Ig=a.dec;this.Vn=a.rs;this.lf=a.sa;this.Xv=a.sos;this.qc=a.s;this.Ik=a.ma;this.Re=a.wp.map(e=>({x:e.x,y:e.y}));this.Fe(a.e);this.la&&0<this.Re.length&&this.cd()}ED(a,e,h){h&&d.H(this.Re);this.Re.push({x:a,y:e});this.la&&this.cd()}Aea(a){a=Math.floor(a);return 0>a||a>=this.Re.length?0:this.Re[a].x}Bea(a){a=Math.floor(a);return 0>a||a>=this.Re.length?0:this.Re[a].y}pr(){return 0<this.Re.length}IL(){d.H(this.Re);this.qc=0;this.Wh()}HV(){return 0<this.Re.length?this.Re[0].x:0}IV(){return 0<
this.Re.length?this.Re[0].y:0}zr(a){this.pr()&&(this.qc=Math.min(a,this.Ne))}Uj(){return this.qc}Ey(a){this.Ne=Math.max(a,0);this.zr(this.qc)}VV(){return 0!==this.Vn}oc(){if(this.la&&this.pr()){var a=this.b.Wg(this.G),e=this.G.C(),h=e.I(),g=e.J(),m=e.ca(),q=this.qc,l=this.Ne,r=this.ic,p=this.Ig,t=this.HV(),v=this.IV(),y=d.uh(h,g,t,v),z=!1;0<p&&1===this.Re.length&&(z=.5*q*q/p*1.0001,z=d.nH(h,g,t,v)<=z*z)&&(this.qc=l=q=Math.sqrt(2*p*d.Be(h,g,t,v)));if(this.VV()){var C=d.yq(this.Ik,y);if(C>Number.EPSILON){const w=
C/this.Vn;C*=d.Be(e.I(),e.J(),t,v)/(2*Math.sin(C));l=Math.min(l,d.ba(C/w,0,this.Ne))}}q=Math.min(q*a+.5*(z?-p:r)*a*a,l*a);if(z){if(0<p&&(this.qc=Math.max(this.qc-p*a,0),0===this.qc)){this.mW(e,t,v);return}}else this.qc=0===r?l:Math.min(this.qc+r*a,l);d.nH(e.I(),e.J(),t,v)<=q*q?this.mW(e,t,v):(this.Ik=this.VV()?d.hH(this.Ik,y,this.Vn*a):y,e.Dd(Math.cos(this.Ik)*q,Math.sin(this.Ik)*q),this.lf&&e.Gc(this.Ik),e.T(),this.yca(h,g,m))}}mW(a,e,h){a.ib(e,h);a.T();this.Re.shift();0===this.Re.length&&(this.qc=
0,this.Wh());this.Jt().dispatchEvent(d.D(d.Event,"arrived"));this.fa(d.K.Oh.F.PS)}yca(a,e,h){const g=this.b.wc;if(this.Xv&&g.Zc(this.G)){this.IL();const m=this.G.C(),q=m.I(),l=m.J(),r=d.uh(q,l,a,e);g.Dg(this.G,Math.cos(r),Math.sin(r),Math.max(d.Be(q,l,a,e),1))||(m.ib(a,e),m.Gc(h),m.T());this.Jt().dispatchEvent(d.D(d.Event,"hitsolid"));this.fa(d.K.Oh.F.v8)}}Eia(a){this.lf=!!a}yL(a){this.Ik=a;this.la&&this.lf&&!this.pr()&&(a=this.C(),a.Gc(this.Ik),a.T())}cL(){return this.Ik}zl(a){this.ic=Math.max(a,
0)}By(a){this.Ig=Math.max(a,0)}fX(a){this.Vn=Math.max(a,0)}gX(a){this.Xv=!!a}Fe(a){a=!!a;this.la!==a&&((this.la=a)&&this.pr()?this.cd():this.Wh())}Lb(a){switch(a){case 0:return this.Ne;case 1:return this.ic;case 2:return this.Ig;case 3:return d.Pd(this.Vn);case 4:return this.lf;case 5:return this.Xv;case 6:return this.la}}Ed(a,e){switch(a){case 0:this.Ey(e);break;case 1:this.zl(e);break;case 2:this.By(e);break;case 3:this.fX(d.Ma(e));break;case 4:this.Eia(e);break;case 5:this.gX(e);break;case 6:this.Fe(e)}}Sf(){return self.F5}};
const f=new WeakMap;self.F5=class extends c{constructor(){super();f.set(this,c.Tj().ia)}stop(){f.get(this).IL()}get speed(){return f.get(this).Uj()}set speed(a){b.Qm(a);f.get(this).zr(a)}get acceleration(){return f.get(this).ic}set acceleration(a){b.Qm(a);f.get(this).zl(a)}get isEnabled(){return f.get(this).la}set isEnabled(a){f.get(this).Fe(a)}}}"use strict";{const d=self.B;d.K.Oh.F={Q6(){return this.pr()},bI(b,c){return d.compare(this.Uj(),b,c)},Cd(){return this.la},PS(){return!0},v8(){return!0}}}"use strict";
{const d=self.B;d.K.Oh.oa={K7(b,c,f){this.ED(b,c,0===f)},J7(b,c,f){if(b&&(b=b.JR(this.G))&&b.C()){var [a,e]=b.Cm(c);this.ED(a,e,0===f)}},Rsa(b){var c=this.G.N3(d.K.Lta);if(c&&(c=c.bAa(),0!==c.length))for(let f=0,a=c.length;f<a;++f){const e=c[f];this.ED(e.x,e.y,0===f&&0===b)}},G7(b,c,f){if(c=c?b.Y4(c):d.first(b.ac))if(b=c.Ij("offsetX"),c=c.Ij("offsetY"),b&&c){var a=[...b.MR()],e=[...c.MR()];if(0!==a.length&&0!==e.length){var h=0,g=0,m=this.G.C();"relative"===b.Hh()&&(h=m.I());"relative"===c.Hh()&&
(g=m.J());for(let q=0,l=Math.min(a.length,e.length);q<l;++q)this.ED(a[q]+h,e[q]+g,0===q&&0===f)}}},Ssa(b,c,f){(b=this.b.Xb.rx(b))&&d.K.Oh.oa.G7.call(this,b,c,f)},ah(){this.IL()},zxa(b){this.yL(d.Ma(b))},uaa(b){this.zr(b)},YT(b){this.Ey(b)},fr(b){this.zl(b)},A$(b){this.By(b)},Kxa(b){this.fX(d.Ma(b))},Nxa(b){this.gX(b)},Gg(b){this.Fe(b)}}}"use strict";
{const d=self.B;d.K.Oh.cb={qU(){return this.Uj()},B7(){return this.Ne},uQ(){return this.ic},k2(){return this.Ig},L7(){return d.Pd(this.cL())},Sva(){return d.Pd(this.Vn)},Mya(){return this.HV()},Nya(){return this.IV()},Cza(){return this.Re.length},Dza(b){return this.Aea(b)},Eza(b){return this.Bea(b)}}}"use strict";{const d=self.B;d.K.Lj=class extends d.Fi{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.K.Lj.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B;d.K.Lj.Instance=class extends d.Gi{constructor(b,c){super(b);this.Tl=null;this.kG=-1;this.ve="";this.Ds=new Set;this.hg=this.NE=this.Ap=this.Tu=this.Uu=this.ta=this.xa=this.dA=this.Bs=this.Ff=0;this.nk=!1;c&&(this.nk=c[0]);b=this.b.Eb();this.ge=new d.Uk(d.Pb.mc(b,"instancedestroy",f=>this.wy(f.instance)),d.Pb.mc(b,"afterload",()=>this.Ym()))}j(){this.Tl=null;super.j()}Hy(b){b?(this.Tl=b,this.Au()):(this.Tl=null,this.Br())}mp(b,c,f){if(b&&(b=b.Bm(this.G)))if(this.ve=c,this.Hy(b),c=
this.G.C(),b=b.C(),"properties"===this.ve){const a=this.Ds;a.clear();for(const e of f)a.add(e);this.xa=c.I()-b.I();this.ta=c.J()-b.J();this.Ap=c.ca()-b.ca();this.hg=c.ca();this.NE=c.kb()-b.kb();a.has("x")&&a.has("y")&&(this.Bs=d.uh(b.I(),b.J(),c.I(),c.J())-b.ca(),this.Ff=d.Be(b.I(),b.J(),c.I(),c.J()));a.has("width-abs")?this.Uu=c.M()-b.M():a.has("width-scale")&&(this.Uu=c.M()/b.M());a.has("height-abs")?this.Tu=c.N()-b.N():a.has("height-scale")&&(this.Tu=c.N()/b.N())}else this.Ff=d.Be(b.I(),b.J(),
c.I(),c.J())}Tb(){const b=this.Ds,c=this.ve,f={uid:this.Tl?this.Tl.lc:-1,m:c};if("rope"===c||"bar"===c)f.pd=this.Ff;else if("properties"===c){f.ps=[...this.Ds];b.has("imagepoint")?f.ip=this.dA:b.has("x")&&b.has("y")?(f.pa=this.Bs,f.pd=this.Ff):(b.has("x")&&(f.dx=this.xa),b.has("y")&&(f.dy=this.ta));b.has("angle")&&(f.da=this.Ap,f.lka=this.hg);if(b.has("width-abs")||b.has("width-scale"))f.dw=this.Uu;if(b.has("height-abs")||b.has("height-scale"))f.dh=this.Tu;b.has("z")&&(f.dz=this.NE)}return f}Qb(b){const c=
b.m,f=this.Ds;f.clear();this.kG=b.uid;if("number"===typeof c)this.pfa(b);else if(this.ve=c,"rope"===c||"bar"===c)this.Ff=b.pd;else if("properties"===c){for(const a of b.ps)f.add(a);f.has("imagepoint")?this.dA=b.ip:f.has("x")&&f.has("y")?(this.Bs=b.pa,this.Ff=b.pd):(f.has("x")&&(this.xa=b.dx),f.has("y")&&(this.ta=b.dy));f.has("angle")&&(this.Ap=b.da,this.hg=b.lka||0);if(f.has("width-abs")||f.has("width-scale"))this.Uu=b.dw;if(f.has("height-abs")||f.has("height-scale"))this.Tu=b.dh;f.has("z")&&(this.NE=
b.dz)}}pfa(b){const c=this.Ds,f=b.msa,a=b.tsa,e=b.pa,h=b.pd;switch(b.m){case 0:this.ve="properties";c.add("x").add("y").add("angle");this.Bs=e;this.Ff=h;this.Ap=f-a;this.hg=b.lka;break;case 1:this.ve="properties";c.add("x").add("y");this.Bs=e;this.Ff=h;break;case 2:this.ve="properties";c.add("angle");this.Ap=f-a;this.hg=b.lka;break;case 3:this.ve="rope";this.Ff=b.pd;break;case 4:this.ve="bar",this.Ff=b.pd}}Ym(){-1===this.kG?this.Hy(null):(this.Hy(this.b.zg(this.kG)),this.kG=-1)}wy(b){this.Tl===b&&
(this.Hy(null),this.nk&&this.b.Ah(this.G))}qu(){var b=this.Tl;if(b){var c=b.C(),f=this.G.C(),a=this.ve,e=!1;if("rope"===a||"bar"===a){if(b=d.Be(f.I(),f.J(),c.I(),c.J()),b>this.Ff||"bar"===a&&b<this.Ff)e=d.uh(c.I(),c.J(),f.I(),f.J()),f.ib(c.I()+Math.cos(e)*this.Ff,c.J()+Math.sin(e)*this.Ff),e=!0}else{a=this.Ds;if(a.has("imagepoint")){const [h,g]=b.Cm(this.dA);f.lI(h,g)||(f.ib(h,g),e=!0)}else if(a.has("x")&&a.has("y")){b=c.I()+Math.cos(c.ca()+this.Bs)*this.Ff;const h=c.J()+Math.sin(c.ca()+this.Bs)*
this.Ff;f.lI(b,h)||(f.ib(b,h),e=!0)}else b=c.I()+this.xa,a.has("x")&&b!==f.I()&&(f.sf(b),e=!0),b=c.J()+this.ta,a.has("y")&&b!==f.J()&&(f.Zf(b),e=!0);a.has("angle")&&(this.hg!==f.ca()&&(this.Ap=d.Cc(this.Ap+(f.ca()-this.hg))),b=d.Cc(c.ca()+this.Ap),b!==f.ca()&&(f.Gc(b),e=!0),this.hg=f.ca());a.has("width-abs")&&(b=c.M()+this.Uu,b!==f.M()&&(f.Ze(b),e=!0));a.has("width-scale")&&(b=c.M()*this.Uu,b!==f.M()&&(f.Ze(b),e=!0));a.has("height-abs")&&(b=c.N()+this.Tu,b!==f.N()&&(f.Ye(b),e=!0));a.has("height-scale")&&
(b=c.N()*this.Tu,b!==f.N()&&(f.Ye(b),e=!0));a.has("z")&&(b=c.kb()+this.NE,b!==f.kb()&&(f.$f(b),this.b.aa()))}e&&f.T()}}}}"use strict";self.B.K.Lj.F={W6(){return!!this.Tl},Mza(){return this.nk}};"use strict";
self.B.K.Lj.oa={fua(d,b){this.mp(d,0===b?"rope":"bar")},gua(d,b,c,f,a,e,h){const g=[];b&&g.push("x");c&&g.push("y");f&&g.push("angle");h&&g.push("z");1===a?g.push("width-abs"):2===a&&g.push("width-scale");1===e?g.push("height-abs"):2===e&&g.push("height-scale");0!==g.length&&this.mp(d,"properties",g)},k9(d,b,c,f,a,e){const h=["imagepoint"];c&&h.push("angle");e&&h.push("z");1===f?h.push("width-abs"):2===f&&h.push("width-scale");1===a?h.push("height-abs"):2===a&&h.push("height-scale");this.dA=b;this.mp(d,
"properties",h)},Ixa(d){if("rope"===this.ve||"bar"===this.ve)this.Ff=Math.max(d,0)},Cwa(d){this.nk=d},Aba(){this.Hy(null);this.ve="";this.Ds.clear();this.dA=""},Lj(d,b){switch(b){case 0:this.mp(d,"properties",["x","y","angle"]);break;case 1:this.mp(d,"properties",["x","y"]);break;case 2:this.mp(d,"properties",["angle"]);break;case 3:this.mp(d,"rope");break;case 4:this.mp(d,"bar")}}};"use strict";self.B.K.Lj.cb={hua(){return this.Tl?this.Tl.lc:-1}};"use strict";{const d=self.B;d.K.yo=class extends d.Fi{constructor(b){super(b)}j(){super.j()}}}"use strict";
{const d=self.B;d.K.yo.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B;d.K.yo.Instance=class extends d.Gi{constructor(b,c){super(b);this.Gg(!0);c&&(this.Gg(c[0]),this.lu(c[1]))}j(){super.j()}Gg(b){this.G.Iia(!!b)}Cd(){return this.G.WV()}lu(b){const c=this.G.Ih();if(b.trim()){var f=c.get("solidTags");f||(f=new Set,c.set("solidTags",f));f.clear();for(const a of b.split(" "))a&&f.add(a.toLowerCase())}else c.delete("solidTags")}Tb(){return{e:this.Cd()}}Qb(b){this.Gg(b.e)}Lb(b){switch(b){case 0:return this.Cd()}}Ed(b,c){switch(b){case 0:this.Gg(c)}}}}"use strict";
self.B.K.yo.F={Cd(){return this.Cd()}};"use strict";self.B.K.yo.oa={Gg(d){this.Gg(d)},lu(d){this.lu(d)}};"use strict";self.B.K.yo.cb={};"use strict";{const d=self.B;d.K.lb=class extends d.Fi{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.K.lb.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B,b=self.yh,c=self.vx;d.K.lb.Instance=class extends d.Gi{constructor(a,e){super(a);this.Mp=null;this.Uv=this.wA=this.vA=this.mF=this.Xy=this.Zu=this.ns=this.uv=this.mA=this.Oz=!1;this.ff=null;this.LN=-1;this.En=this.Dn=0;this.Ys=this.dv=!1;this.no=!!this.b.wc.ul(this.G);this.MN=-1;this.ak="stopped";this.Fp=0;this.Kl=!0;this.Zp=this.Yp=this.Je=this.Ie=this.ta=this.xa=0;this.dF=this.Ca=1500;this.sn=d.Ma(90);this.Ne=330;this.Ig=this.ic=1500;this.Cn=650;this.Hn=1E3;this.Qr=!1;this.Ms=this.ls=
0;this.mn=!0;this.Yy=0;this.la=!0;e&&(this.Ne=e[0],this.ic=e[1],this.Ig=e[2],this.Cn=e[3],this.Ca=e[4],this.Hn=e[5],this.Qr=!!e[6],this.ls=e[7]/1E3,this.mn=!!e[8],this.la=!!e[9]);a=this.b.Eb();this.ge=new d.Uk(d.Pb.mc(a,"instancedestroy",h=>this.wy(h.instance)),d.Pb.mc(a,"afterload",()=>this.Ym()));this.mn&&this.JK();this.la&&this.Jy();this.eE();this.G.Kt().set("isPlatformBehavior",!0)}j(){this.Mp&&(this.Mp.j(),this.Mp=null);this.no=this.ff=null;super.j()}JK(){if(!this.Mp){var a=this.b.Eb();this.Mp=
new d.Uk(d.Pb.mc(a,"keydown",e=>this.mL(e.data)),d.Pb.mc(a,"keyup",e=>this.nL(e.data)),d.Pb.mc(a,"window-blur",()=>this.zu()),d.Pb.mc(a,"keyboard-blur",()=>this.zu()))}}rX(){this.Mp&&(this.Mp.j(),this.Mp=null)}wy(a){this.ff===a&&(this.ff=null);this.no===a&&(this.no=null)}mL(a){switch(a.key){case "ArrowLeft":this.Oz=!0;break;case "ArrowRight":this.mA=!0;break;case "ArrowUp":this.uv=!0}}nL(a){switch(a.key){case "ArrowLeft":this.Oz=!1;break;case "ArrowRight":this.mA=!1;break;case "ArrowUp":this.ns=this.uv=
!1}}zu(){this.ns=this.uv=this.mA=this.Oz=!1}Tb(){return{ii:this.mF,lfx:this.Dn,lfy:this.En,lfo:this.ff?this.ff.lc:-1,am:this.ak,en:this.la,fall:this.Fp,ft:this.Kl,dx:this.xa,dy:this.ta,ms:this.Ne,acc:this.ic,dec:this.Ig,js:this.Cn,g:this.Ca,g1:this.dF,mf:this.Hn,wof:this.Ys,woj:this.no?this.no.lc:-1,ga:this.sn,edj:this.Qr,cdj:this.Xy,dj:this.Zu,sus:this.ls,dc:this.mn,cc:this.Yy}}Qb(a){this.mF=a.ii;this.Dn=a.lfx;this.En=a.lfy;this.LN=a.lfo;this.ak=a.am;const e=a.en;this.Fp=a.fall;this.Kl=a.ft;this.xa=
a.dx;this.ta=a.dy;this.Ne=a.ms;this.ic=a.acc;this.Ig=a.dec;this.Cn=a.js;this.Ca=a.g;this.dF=a.g1;this.Hn=a.mf;this.Ys=a.wof;this.MN=a.woj;this.sn=a.ga;this.Qr=a.edj;this.Xy=a.cdj;this.Zu=a.dj;this.ls=a.sus;this.mn=a.dc;this.Yy=a.cc||0;this.Uv=this.wA=this.vA=this.ns=this.uv=this.mA=this.Oz=!1;this.Ms=0;this.mn?this.JK():this.rX();this.Fe(e);this.eE()}Ym(){this.ff=-1===this.LN?null:this.b.zg(this.LN);this.no=-1===this.MN?null:this.b.zg(this.MN)}eE(){this.Ie=Math.cos(this.sn);this.Je=Math.sin(this.sn);
this.Yp=Math.cos(this.sn-Math.PI/2);this.Zp=Math.sin(this.sn-Math.PI/2);this.Ie=d.gt(this.Ie);this.Je=d.gt(this.Je);this.Yp=d.gt(this.Yp);this.Zp=d.gt(this.Zp);this.dF=this.Ca;0>this.Ca&&(this.Ie*=-1,this.Je*=-1,this.Ca=Math.abs(this.Ca))}UV(){var a=this.G.C();const e=this.b.wc,h=this.G;var g=this.ff;const m=a.I(),q=a.J();a.Dd(this.Ie,this.Je);a.T();if(g&&e.te(h,g)&&(!g.S().v5()||e.IC(g,h)))return a.ib(m,q),a.T(),g;{let l=e.Zc(h);g=null;l||0!==this.Fp||(g=e.ul(h,!0));a.ib(m,q);a.T();if(l){if(e.te(h,
l))return null;this.dv=!1;return l}if(g&&g.length){a=0;for(let r=0,p=g.length;r<p;++r)g[a]=g[r],e.te(h,g[r])||++a;if(1<=a)return this.dv=!0,g[0]}return null}}UC(){if(this.la){var a=this.b.Wg(this.G);this.uv||this.Uv||(this.ns=!1);var e=this.Oz||this.vA,h=this.mA||this.wA,g=this.uv||this.Uv,m=g&&!this.ns;this.Uv=this.wA=this.vA=!1;this.mF&&(m=g=h=e=!1);g||(this.Ms=0);this.Dea();var [q,,l]=this.cja(),r=this.UV(),p=r&&!this.Ys,t;[t,r]=this.Mfa(r);if(!t){this.bja(r,l,q,g);m=this.Fea(r,m,g);r||this.lca(m,
g,a);this.Ys=!!r;e=this.kca(e,h,a);h=!1;g=0;0!==this.xa&&(h=this.Eea(a,e,r,m));if(0!==this.ta){const [v,y]=this.Hea(a,r);h=h||v;g=y}!h&&p&&0>this.ta&&0<g&&(this.ta=0,h=!0);this.Cea(r,h,m);0<this.Fp&&this.Fp--;this.no=this.b.wc.ul(this.G)}}}Dea(){if(this.Kl){var a=this.G,e=this.b.wc;(e.Zc(a)||e.ul(a))&&e.Dg(a,-this.Ie,-this.Je,4,!0);this.Kl=!1}}cja(){var a=this.ff,e=a?a.C():null;let h=0,g=0;var m=!1;if(a&&0===this.ta&&(e.J()!==this.En||e.I()!==this.Dn)){a=this.G;m=a.C();const q=this.b.wc,l=e.I();e=
e.J();h=l-this.Dn;g=e-this.En;m.Dd(h,g);m.T();this.Dn=l;this.En=e;m=!0;q.Zc(a)&&q.Dg(a,-h,-g,2.5*Math.hypot(h,g))}return[h,g,m]}Mfa(a){let e=!1;var h=this.G,g=h.C();const m=this.b.wc,q=m.Zc(h);if(!q)return[!1,a];const l=Math.abs(g.M());g=Math.abs(g.N());h.Ih().get("inputPredicted")?m.Dg(h,-this.Ie,-this.Je,10,!1):m.JJ(h,-this.Ie,-this.Je,g/8)?(m.cr(h,q),this.ff=a=q,h=q.C(),this.Dn=h.I(),this.En=h.J(),this.dv=!1):m.JJ(h,this.Yp,this.Zp,l/2)||m.JJ(h,this.Ie,this.Je,g/2)||m.KJ(h,Math.max(l,g)/2)?m.cr(h,
q):e=!0;return[e,a]}bja(a,e,h,g){const m=this.G,q=this.b.wc;if(a){g=this.Ie;const l=this.Je,r=this.Yp,p=this.Zp;this.Xy=this.Zu=!1;0<this.ta&&(this.Ys||(q.Ix(m,-g,-l,a,16),this.Ys=!0),this.ta=0);this.ff!==a?(this.ff=a,h=a.C(),this.Dn=h.I(),this.En=h.J(),q.cr(m,a)):e&&(a=q.Zc(m))&&(q.cr(m,a),0!==h&&(0<h?q.Dg(m,-r,-p):q.Dg(m,r,p)),q.Dg(m,-g,-l))}else g||(this.Xy=!0)}Fea(a,e,h){if(a&&e||!a&&this.Qr&&h&&this.Xy&&!this.Zu){e=this.G;h=e.C();const g=this.b.wc,m=h.I(),q=h.J();h.Dd(-this.Ie,-this.Je);h.T();
g.Zc(e)?e=!1:(this.Ms=this.ls,this.fa(d.K.lb.F.B8),this.ak="jumping",this.ta=-this.Cn,e=!0,a?this.ns=!0:this.Zu=!0);h.ib(m,q);h.T()}return e}lca(a,e,h){e&&0<this.Ms?(this.ta=-this.Cn,this.Ms-=h):(this.ff=null,this.ta+=this.Ca*h,this.ta>this.Hn&&(this.ta=this.Hn));a&&(this.ns=!0)}kca(a,e,h){const g=this.ic,m=this.Ig;a===e&&(0>this.xa?(this.xa+=m*h,0<this.xa&&(this.xa=0)):0<this.xa&&(this.xa-=m*h,0>this.xa&&(this.xa=0)));let q=0;a&&!e&&(q=0<this.xa?-(g+m):-g);e&&!a&&(q=0>this.xa?g+m:g);this.xa+=q*h;
this.xa=d.ba(this.xa,-this.Ne,this.Ne);return q}Eea(a,e,h,g){const m=this.G;var q=m.C();const l=this.b.wc,r=this.Ie,p=this.Je,t=this.Yp,v=this.Zp;var y=this.Ne;let z=!1;var C=q.I();let w=q.J();var E=d.ba(this.xa*a+.5*e*a*a,-y*a,y*a)*t;const H=d.ba(this.xa*a+.5*e*a*a,-y*a,y*a)*v;q.Dd(t*(1<this.xa?1:-1)-r,v*(1<this.xa?1:-1)-p);q.T();e=!1;y=l.Zc(m);q.ib(C+E,w+H);q.T();let M=l.Zc(m);!M&&h&&(M=l.ul(m))&&(q.ib(C,w),q.T(),l.te(m,M)?(M=null,e=!1):e=!0,q.ib(C+E,w+H),q.T());M?(E=Math.abs(this.xa*a)+2,y||!l.Dg(m,
-r,-p,E,e,M))?(l.cr(m,M),E=Math.max(Math.abs(this.xa*a*2.5),30),l.Dg(m,t*(0>this.xa?1:-1),v*(0>this.xa?1:-1),E,!1)?!h||e||this.dv||(C=q.I(),w=q.J(),q.Dd(r,p),l.Zc(m)?l.Dg(m,-r,-p,3,!1)||(q.ib(C,w),q.T()):(q.ib(C,w),q.T())):(q.ib(C,w),q.T()),e||(this.xa=0)):!y&&!g&&Math.abs(this.ta)<Math.abs(this.Cn/4)&&(this.ta=0,h||(z=!0)):(C=this.UV(),h&&!C?(a=Math.ceil(Math.abs(this.xa*a))+2,C=q.I(),w=q.J(),q.Dd(r*a,p*a),q.T(),l.Zc(m)||l.ul(m)?l.Dg(m,-r,-p,a+2,!0):(q.ib(C,w),q.T())):C&&(!h&&this.dv&&(this.ff=C,
q=C.C(),this.Dn=q.I(),this.En=q.J(),this.ta=0,z=!0),0===this.ta&&l.Ix(m,-r,-p,C,16)));return z}Hea(a,e){const h=this.G,g=h.C(),m=this.b.wc,q=this.Ie,l=this.Je;let r=!1,p=g.I(),t=g.J();const v=d.ba(this.ta*a+.5*this.Ca*a*a,-Infinity*a,this.Hn*a);g.Dd(v*q,v*l);var y=g.I();const z=g.J();g.T();let C=m.Zc(h);var w=!1;if(!C&&0<this.ta&&!e){if((w=0<this.Fp?null:m.ul(h,!0))&&w.length){if(this.no){g.ib(p,t);g.T();e=0;for(let E=0,H=w.length;E<H;++E)w[e]=w[E],m.te(h,w[E])||++e;d.zd(w,e);g.ib(y,z);g.T()}1<=w.length&&
(C=w[0])}w=!!C}if(C)if(m.cr(h,C),this.Ms=0,y=1.1,w&&!this.no&&(y=2),m.Dg(h,q*(0>this.ta?1:-1),l*(0>this.ta?1:-1),Math.max(Math.abs(this.ta*a*y),2),w,C)){this.ff=C;a=C.C();this.Dn=a.I();this.En=a.J();(this.dv=w)&&(r=!0);if(0<this.ta||0===this.Yy)this.ta=0;0>this.ta&&1===this.Yy&&m.Ix(h,q,l,C,32)}else g.ib(p,t),g.T(),this.Ys=!0,w||(this.ta=0);return[r,v]}Cea(a,e,h){"falling"!==this.ak&&0<this.ta&&!a&&(this.fa(d.K.lb.F.q8),this.ak="falling");(a||e)&&0<=this.ta&&("falling"===this.ak||e||h&&0===this.ta?
(this.fa(d.K.lb.F.D8),this.ak=0===this.xa&&0===this.ta?"stopped":"moving"):("stopped"!==this.ak&&0===this.xa&&0===this.ta&&(this.fa(d.K.lb.F.X8),this.ak="stopped"),"moving"===this.ak||0===this.xa&&0===this.ta||h||(this.fa(d.K.lb.F.I8),this.ak="moving")))}pr(){return 0!==this.xa||0!==this.ta}xca(){if(0!==this.ta)return!1;const a=this.G;var e=this.C();const h=this.b.wc,g=e.I(),m=e.J();e.Dd(this.Ie,this.Je);e.T();const q=h.Zc(a);let l=null;q||0!==this.Fp||(l=h.ul(a,!0));e.ib(g,m);e.T();if(q)return!h.te(a,
q);if(l&&l.length){e=0;for(let r=0,p=l.length;r<p;++r)l[e]=l[r],h.te(a,l[r])||e++;if(1<=e)return!0}return!1}Xea(a){const e=this.G,h=this.C(),g=this.b.wc,m=h.I(),q=h.J();0===a?h.Dd(2*-this.Yp,2*-this.Zp):h.Dd(2*this.Yp,2*this.Zp);h.T();if(!g.Zc(e))return h.ib(m,q),h.T(),!1;h.Dd(3*-this.Ie,3*-this.Je);h.T();a=!!g.Zc(e);h.ib(m,q);h.T();return a}Rda(){const a=this.C(),e=a.I(),h=a.J();a.Dd(this.Ie,this.Je);a.T();const g=this.b.wc.ul(this.G,!1);a.ib(e,h);a.T();g&&(this.Fp=3,this.ff=null)}lha(a){this.Zu=
!a}Uj(){return Math.hypot(this.xa,this.ta)}qea(){return Math.atan2(this.ta,this.xa)}cfa(){return 0>this.ta}afa(){return 0<this.ta}Ey(a){this.Ne=Math.max(a,0)}zl(a){this.ic=Math.max(a,0)}By(a){this.Ig=Math.max(a,0)}$W(a){this.Cn=Math.max(a,0)}dX(a){this.Hn=Math.max(a,0)}ZD(a){if(this.dF!==a){this.Ca=a;this.eE();a=this.b.wc;var e=this.C();a.Zc(this.G)&&(a.Dg(this.G,this.Ie,this.Je,10),e.Dd(2*this.Ie,2*this.Je),e.T());this.ff=null}}kia(a){a=d.Cc(a);this.sn!==a&&(this.sn=a,this.eE(),this.ff=null)}SW(a){this.Qr=
!!a}aX(a){this.ls=a}Zha(a){this.Yy=a}Lia(a){this.xa=a}Mia(a){this.ta=a}Tia(a){if(this.la)switch(a){case 0:this.vA=!0;break;case 1:this.wA=!0;break;case 2:this.Uv=!0}}RW(a){a=!!a;this.mn!==a&&((this.mn=a)?this.JK():(this.rX(),this.zu()))}pia(a){this.mF=!!a}Fe(a){a=!!a;this.la!==a&&((this.la=a)?this.Jy():(this.bE(),this.ff=null,this.Uv=this.wA=this.vA=!1))}Lb(a){switch(a){case 0:return this.Ne;case 1:return this.ic;case 2:return this.Ig;case 3:return this.Cn;case 4:return this.Ca;case 5:return this.Hn;
case 6:return this.Qr;case 7:return 1E3*this.ls;case 8:return this.mn;case 9:return this.la}}Ed(a,e){switch(a){case 0:this.Ey(e);break;case 1:this.zl(e);break;case 2:this.By(e);break;case 3:this.$W(e);break;case 4:this.ZD(e);break;case 5:this.dX(e);break;case 6:this.SW(!!e);break;case 7:this.aX(e/1E3);break;case 8:this.RW(!!e);break;case 9:this.Fe(!!e)}}Sf(){return self.G5}};const f=new WeakMap;self.G5=class extends c{constructor(){super();f.set(this,c.Tj().ia)}get speed(){return f.get(this).Uj()}get acceleration(){return f.get(this).ic}set acceleration(a){b.Qm(a);
f.get(this).zl(a)}get isEnabled(){return f.get(this).la}set isEnabled(a){f.get(this).Fe(!!a)}}}"use strict";{const d=self.B;d.K.lb.F={Q6(){return this.pr()},bI(b,c){return d.compare(this.Uj(),b,c)},T6(){return this.xca()},ira(b){return this.Xea(b)},Ara(){return this.cfa()},rra(){return this.afa()},pra(){return this.Qr},B8(){return!0},q8(){return!0},X8(){return!0},I8(){return!0},D8(){return!0},Cd(){return this.la}}}"use strict";
{const d=self.B;d.K.lb.oa={YT(b){this.Ey(b)},fr(b){this.zl(b)},A$(b){this.By(b)},Ywa(b){this.$W(b)},wxa(b){this.dX(b)},hr(b){this.ZD(b)},Xaa(b){this.Tia(b)},Swa(b){this.pia(!!b)},Oaa(b){this.Lia(b)},Paa(b){this.Mia(b)},Nwa(b){this.kia(d.Ma(b))},Gg(b){this.Fe(0!==b)},Qpa(){this.Rda()},Ewa(b){this.SW(0!==b)},Zwa(b){this.aX(b/1E3)},xwa(b){this.Zha(b)},Bwa(b){this.RW(b)},Lva(b){this.lha(b)}}}"use strict";
{const d=self.B;d.K.lb.cb={qU(){return this.Uj()},B7(){return this.Ne},uQ(){return this.ic},k2(){return this.Ig},Wra(){return this.Cn},$R(){return this.Ca},Aqa(){return d.Pd(this.sn)},Nsa(){return this.Hn},L7(){return d.Pd(this.qea())},uza(){return this.xa},vza(){return this.ta},Xra(){return 1E3*this.ls}}}"use strict";{const d=self.B;d.K.Bh=class extends d.Fi{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.K.Bh.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B;d.K.Bh.Instance=class extends d.Gi{constructor(b){super(b);this.cm=this.Wl=this.Wd=this.fG=this.gG=0;this.cd()}j(){super.j()}Tb(){return{on:this.gG,off:this.fG,s:this.Wd,stl:this.Wl,tl:this.cm}}Qb(b){this.gG=b.on;this.fG=b.off;this.Wd=b.s;this.Wl=b.stl;this.cm=null===b.tl?Infinity:b.tl}oc(){if(!(0>=this.cm)){var b=this.b.Wg(this.G);this.cm-=b;if(0>=this.cm)return this.cm=0,this.G.C().re(!0),this.b.aa(),this.Ow(d.K.Bh.F.SS);this.Wl-=b;0>=this.Wl&&(0===this.Wd?(this.G.C().re(!1),this.Wd=
1,this.Wl+=this.fG):(this.G.C().re(!0),this.Wd=0,this.Wl+=this.gG),this.b.aa())}}}}"use strict";self.B.K.Bh.F={N6(){return 0<this.cm},SS(){return!0}};"use strict";self.B.K.Bh.oa={Bh(d,b,c){this.gG=d;this.fG=b;this.Wd=1;this.Wl=b;this.cm=c;this.G.C().re(!1);this.b.aa()},wya(){this.cm=0;this.G.C().re(!0);this.b.aa()}};"use strict";self.B.K.Bh.cb={};"use strict";{const d=self.B;d.K.wrap=class extends d.Fi{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.K.wrap.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B,b=new d.Rect;d.K.wrap.Instance=class extends d.Gi{constructor(c,f){super(c);this.ve=0;f&&(this.ve=f[0]);this.cd()}j(){super.j()}Tb(){return{m:this.ve}}Qb(c){this.ve=c.m}oc(){const c=this.G.C(),f=c.wa(),a=f.Qf(),e=c.ub();0===this.ve?b.set(0,0,a.M(),a.N()):b.Ga(f.Zd);e.V<b.P?(c.sf(b.V-1+(c.I()-e.P)),c.T()):e.P>b.V?(c.sf(b.P+1-(e.V-c.I())),c.T()):e.U<b.O?(c.Zf(b.U-1+(c.J()-e.O)),c.T()):e.O>b.U&&(c.Zf(b.O+1-(e.U-c.J())),c.T())}Lb(c){switch(c){case 0:return this.ve}}Ed(c,f){switch(c){case 0:this.ve=
f}}}}"use strict";self.B.K.wrap.F={};"use strict";self.B.K.wrap.oa={};"use strict";self.B.K.wrap.cb={};"use strict";{const d=self.B;d.K.vg=class extends d.Fi{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.K.vg.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B;d.K.vg.Instance=class extends d.Gi{constructor(b,c){super(b);this.rn=this.hm=this.El=0;this.jE=this.nk=!0;this.c_=!1;this.Wd=0;this.Vl=d.D(d.zx);this.Up=this.G.C().ld()||1;c&&(this.El=c[0],this.hm=c[1],this.rn=c[2],this.nk=!!c[3],this.Wd=(this.jE=!!c[4])?0:3);this.jE&&(0===this.El?(this.Wd=1,0===this.hm&&(this.Wd=2)):(this.G.C().qe(0),this.b.aa()));this.cd()}j(){super.j()}Tb(){return{fit:this.El,wt:this.hm,fot:this.rn,d:this.nk,s:this.Wd,st:this.Vl.ja(),mo:this.Up}}Qb(b){this.El=b.fit;
this.hm=b.wt;this.rn=b.fot;this.nk=b.d;this.Wd=b.s;this.Vl.Set(b.st);this.Up=b.mo}oc(){this.Vl.Qc(this.b.Wg(this.G));const b=this.G.C();0===this.Wd&&(b.qe(this.Vl.ja()/this.El*this.Up),this.b.aa(),b.ld()>=this.Up&&(b.qe(this.Up),this.Wd=1,this.Vl.nd(),this.fa(d.K.vg.F.RS)));1===this.Wd&&this.Vl.ja()>=this.hm&&(this.Wd=2,this.Vl.nd(),this.fa(d.K.vg.F.d9));2===this.Wd&&0!==this.rn&&(b.qe(this.Up-this.Vl.ja()/this.rn*this.Up),this.b.aa(),0>=b.ld()&&(this.Wd=3,this.Vl.nd(),this.fa(d.K.vg.F.p8),this.nk&&
this.b.Ah(this.G)))}fp(){this.Wd=0;this.Vl.nd();0===this.El?(this.Wd=1,0===this.hm&&(this.Wd=2)):(this.G.C().qe(0),this.b.aa())}Lb(b){switch(b){case 0:return this.El;case 1:return this.hm;case 2:return this.rn;case 3:return this.nk}}Ed(b,c){switch(b){case 0:this.El=c;break;case 1:this.hm=c;break;case 2:this.rn=c;break;case 3:this.nk=!!c}}}}"use strict";self.B.K.vg.F={p8(){return!0},RS(){return!0},d9(){return!0}};"use strict";
self.B.K.vg.oa={fba(){this.jE||this.c_||(this.Up=this.G.C().ld()||1,this.c_=!0);3===this.Wd&&this.fp()},Z9(){this.fp()},L$(d){0>d&&(d=0);this.El=d},Wxa(d){0>d&&(d=0);this.hm=d},M$(d){0>d&&(d=0);this.rn=d}};"use strict";self.B.K.vg.cb={Npa(){return this.El},Bza(){return this.hm},Opa(){return this.rn}};"use strict";{const d=self.B;d.K.ht=class extends d.Fi{constructor(b){super(b);this.DO=this.yG=this.rA=this.CO=0}j(){super.j()}gU(b){this.CO=b}iU(b){this.rA=b}fU(b){this.yG=b}hU(b){this.DO=b}}}"use strict";
{const d=self.B;d.K.ht.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B;d.K.ht.Instance=class extends d.Gi{constructor(b,c){super(b);this.la=!0;c&&(this.la=c[0]);this.la&&this.Au()}j(){super.j()}Tb(){const b=this.Dh();return{e:this.la,smg:b.CO,ss:b.rA,se:b.yG,smd:b.DO}}Qb(b){const c=this.Dh();c.gU(b.smg);c.iU(b.ss);c.fU(b.se);c.hU(b.smd);(this.la=b.e)?this.Au():this.Br()}Cd(){return this.la}qu(){if(this.Cd()){var b=this.Dh(),c=b.za(),f=0,a=0,e=0;for(var h of c)(c=h.oR(d.K.ht))&&c.ia.Cd()&&(c=h.C(),f+=c.I(),a+=c.J(),++e);h=this.G.C().Qf();var g=this.b.Xe(),
m=c=0;g>=b.rA&&g<b.yG&&(c=b.CO*Math.min(this.b.Pe,1),0===b.DO&&(c*=1-(g-b.rA)/(b.yG-b.rA)),b=this.b.Nj()*Math.PI*2,g=this.b.Nj()*c,c=Math.cos(b)*g,m=Math.sin(b)*g);h.ju(f/e+c);h.ku(a/e+m)}}Lb(b){switch(b){case 0:return this.la}}Ed(b,c){switch(b){case 0:(this.la=!!c)?this.Au():this.Br()}}}}"use strict";self.B.K.ht.F={Cd(){return this.la}};"use strict";self.B.K.ht.oa={aya(d,b,c){const f=this.Dh();f.gU(d);f.iU(this.b.Xe());f.fU(this.b.Xe()+b);f.hU(c)},Gg(d){(this.la=0!==d)?this.Au():this.Br()}};"use strict";
self.B.K.ht.cb={};"use strict";{const d=self.B;d.K.Gq=class extends d.Fi{constructor(b){super(b)}j(){super.j()}}}"use strict";{const d=self.B;d.K.Gq.$c=class extends d.Hi{constructor(b){super(b)}j(){super.j()}Gb(){}}}"use strict";
{const d=self.B;d.K.Gq.Instance=class extends d.Gi{constructor(b,c){super(b);this.Ir=this.Hr=2;this.Eu=this.Fu=0;this.la=!0;b=this.G.C().ub();this.cH=b.P;this.fH=b.O;this.dH=this.b.jf-b.P;this.eH=this.b.hf-b.O;this.iA=this.b.jf-b.V;this.Ry=this.b.hf-b.U;c&&(this.Hr=c[0],this.Ir=c[1],this.Fu=c[2],this.Eu=c[3],this.la=!!c[4]);c=this.b.Eb();this.ge=new d.Uk(d.Pb.mc(c,"layoutchange",()=>this.pga()));this.la&&this.cd()}j(){super.j()}Tb(){return{xl:this.cH,yt:this.fH,xr:this.dH,yb:this.eH,rd:this.iA,bd:this.Ry,
al:this.Hr,at:this.Ir,ar:this.Fu,ab:this.Eu,e:this.la}}Qb(b){this.cH=b.xl;this.fH=b.yt;this.dH=b.xr;this.eH=b.yb;this.iA=b.rd;this.Ry=b.bd;this.Hr=b.al;this.Ir=b.at;this.Fu=b.ar;this.Eu=b.ab;(this.la=b.e)?this.cd():this.Wh()}gE(){if(this.la){var b=this.G.C(),c=b.wa().Zd;if(0===this.Hr){var f=c.P+this.cH-b.ub().P;0!==f&&(b.RC(f),b.T())}else 1===this.Hr&&(f=c.V-this.dH-b.ub().P,0!==f&&(b.RC(f),b.T()));0===this.Ir?(f=c.O+this.fH-b.ub().O,0!==f&&(b.SC(f),b.T())):1===this.Ir&&(f=c.U-this.eH-b.ub().O,0!==
f&&(b.SC(f),b.T()));1===this.Fu&&(f=c.V-this.iA-b.ub().V,0!==f&&(b.RC(b.bl()*f),b.Ze(Math.max(b.M()+f),0),b.T(),this.iA=c.V-b.ub().V));1===this.Eu&&(f=c.U-this.Ry-b.ub().U,0!==f&&(b.SC(b.cl()*f),b.Ye(Math.max(b.N()+f,0)),b.T(),this.Ry=c.U-b.ub().U))}}oc(){this.gE()}pga(){this.gE()}Lb(b){switch(b){case 0:return this.Hr;case 1:return this.Ir;case 2:return this.Fu;case 3:return this.Eu;case 4:return this.la}}Ed(b,c){switch(b){case 0:this.Hr=c;break;case 1:this.Ir=c;break;case 2:this.Fu=c;break;case 3:this.Eu=
c;break;case 4:(this.la=!!c)?this.cd():this.Wh()}}}}"use strict";self.B.K.Gq.F={Cd(){return this.la}};"use strict";self.B.K.Gq.oa={Gg(d){this.la&&0===d?(this.la=!1,this.Wh()):this.la||0===d||(d=this.G.C().ub(),this.cH=d.P,this.fH=d.O,this.dH=this.b.jf-d.P,this.eH=this.b.hf-d.O,this.iA=this.b.jf-d.V,this.Ry=this.b.hf-d.U,this.la=!0,this.cd())}};"use strict";self.B.K.Gq.cb={};
{const d=self.B;self.FQ=function(){return[d.A.jb,d.K.jr,d.K.yj,d.K.ct,d.K.Oh,d.A.$q,d.K.Lj,d.K.yo,d.K.lb,d.K.Bh,d.A.Li,d.A.Keyboard,d.A.nm,d.A.Touch,d.A.Audio,d.A.Ad,d.A.Yb,d.A.Mi,d.K.wrap,d.K.vg,d.K.ht,d.K.Gq,d.A.Ub,d.A.Pa.F.ZS,d.A.Pa.oa.Naa,d.A.Pa.cb.Lla,d.A.Pa.cb.mid,d.A.Pa.cb.ama,d.A.Pa.oa.v$,d.A.jb.cb.R1,d.A.Li.oa.mu,d.A.jb.oa.r$,d.K.Lj.oa.k9,d.A.Pa.F.H1,d.A.Yb.oa.caa,d.A.Pa.F.Ot,d.A.Pa.F.w3,d.A.Pa.F.F1,d.A.jb.oa.eU,d.A.jb.cb.GK,d.A.Pa.cb.yP,d.A.jb.cb.HK,d.A.Mi.oa.eU,d.A.Mi.cb.HK,d.K.lb.F.Cd,
d.A.Keyboard.F.sS,d.A.nm.F.CC,d.A.Touch.F.e7,d.A.jb.oa.gaa,d.K.lb.oa.Xaa,d.A.Keyboard.F.VS,d.A.Touch.F.dT,d.K.lb.F.T6,d.A.jb.F.F6,d.A.jb.oa.u$,d.A.Audio.F.c7,d.A.Audio.oa.Play,d.K.lb.oa.Paa,d.K.lb.F.bI,d.A.jb.F.g8,d.K.jr.oa.Gg,d.A.jb.oa.I7,d.A.Pa.cb.bla,d.A.Pa.cb.Yla,d.A.Pa.cb.Zla,d.A.Pa.cb.cla,d.K.Oh.oa.K7,d.A.Audio.oa.l9,d.A.Pa.cb.H_,d.K.Oh.F.PS,d.A.jb.F.U6,d.A.jb.oa.Pw,d.A.jb.oa.bba,d.A.Pa.oa.S0,d.K.Lj.F.W6,d.A.jb.F.P6,d.A.Pa.F.bR,d.K.Oh.oa.J7,d.A.jb.oa.re,d.A.jb.F.pe,d.A.Pa.F.yba,d.K.yj.oa.p$,
d.A.jb.F.V6,d.A.jb.cb.S5,d.A.jb.cb.T5,d.A.jb.F.J1,d.A.jb.F.I1,d.K.lb.oa.YT,d.K.lb.oa.Oaa,d.A.Pa.oa.EK,d.A.jb.oa.q$,d.K.lb.oa.Gg,d.K.vg.F.RS,d.A.Pa.F.E1,d.A.Pa.oa.M7,d.A.Pa.oa.c5,d.K.Bh.F.SS,d.A.jb.oa.Z$,d.A.jb.F.OQ,d.A.jb.oa.qe,d.A.jb.cb.Opacity,d.A.Pa.oa.a$,d.A.Pa.oa.TQ,d.A.jb.oa.vc,d.A.Pa.cb.bma,d.A.Pa.cb.$la,d.K.vg.oa.M$,d.K.vg.oa.Z9,d.K.vg.oa.L$,d.K.Bh.F.N6,d.A.Pa.oa.lba,d.K.Bh.oa.Bh,d.K.Lj.oa.Aba,d.A.Mi.oa.sf,d.A.Mi.cb.GK,d.A.Touch.F.cT,d.A.jb.F.G1,d.A.Audio.oa.paa,d.A.nm.F.d8,d.A.Ad.oa.o1,d.A.Ad.oa.R9,
d.A.Yb.oa.u1,d.A.Yb.F.TS,d.A.Yb.oa.A4,d.A.Yb.F.FJ,d.A.Yb.cb.i7,d.A.Pa.F.E3,d.A.Li.oa.qe,d.A.Li.F.OQ,d.A.Pa.oa.d5,d.A.Audio.F.D6,d.A.Touch.F.eT,d.A.Li.oa.re,d.K.vg.oa.fba]};self.l1=[{cya:0},{Wna:0},{yj:0},{spa:0},{ooa:0},{fBa:0},{Oh:0},{hqa:0},{jqa:0},{Lj:0},{asa:0},{fya:0},{Dsa:0},{Esa:0},{GDa:0},{HDa:0},{end:0},{gCa:0},{CAa:0},{lb:0},{Bh:0},{pua:0},{nya:0},{pya:0},{coa:0},{DAa:0},{Upa:0},{Lpa:0},{kya:0},{Xna:0},{poa:0},{kqa:0},{mqa:0},{sBa:0},{csa:0},{Fsa:0},{Gsa:0},{rua:0},{oya:0},{qya:0},{doa:0},
{Mpa:0},{pDa:0},{Vpa:0},{lya:0},{Keyboard:0},{Gamepad:0},{Touch:0},{Audio:0},{Ad:0},{Yb:0},{soa:0},{roa:0},{osa:0},{iqa:0},{aCa:0},{bsa:0},{lqa:0},{dsa:0},{toa:0},{ioa:0},{joa:0},{koa:0},{moa:0},{noa:0},{loa:0},{Rza:0},{Tya:0},{vg:0},{BK:0},{bwa:0},{Yva:0},{$va:0},{Zva:0},{uoa:0},{Ioa:0},{jwa:0},{woa:0},{Gq:0},{qsa:0},{rsa:0},{ssa:0},{$q:0},{awa:0},{jb:0},{QBa:0},{rya:0},{tba:0},{Ita:0},{Bpa:0},{Ub:0},{sua:0},{qua:0},{Jta:0},{Hta:0},{RBa:0},{DDa:0},{bBa:0},{PBa:0},{vAa:0},{hBa:0},{gBa:0},{eBa:0},
{dBa:0},{sAa:0},{tAa:0},{aBa:0}]}"use strict";
{const d=self.B;function b(c,f){return"string"===typeof c||"string"===typeof f?("number"===typeof c?(Math.round(1E10*c)/1E10).toString():c)+("number"===typeof f?(Math.round(1E10*f)/1E10).toString():f):c&&f?1:0}self.k1=[c=>{const f=c.xb(0).Mf(),a=c.xb(1).Mf(),e=c.xb(2).Mf();return()=>f(a(e(),5,4))},()=>3,()=>0,c=>{const f=c.xb(0);return()=>f.Ve()},c=>{const f=c.xb(0).Mf();return()=>f()},c=>{const f=c.xb(0).Ep;return()=>f.Ee()},()=>1,()=>"LevelCleared",()=>"Camera",c=>{const f=c.xb(0),a=c.xb(1),e=c.xb(2),
h=c.xb(3).Mf();return()=>d.le((f.Ve()+a.Ve())/2,e.Ve(),10*h())},c=>{const f=c.xb(0);return()=>f.Ve()+960},()=>"Players Movement",()=>"Player Up",()=>"jump",()=>-22,()=>-600,()=>50,()=>"Player Down",()=>"Level Events",()=>"Gems",c=>{const f=c.xb(0).Ep,a=c.xb(1).Ep;return()=>b(b(f.Ee()," ")+"/ ",a.Ee())},()=>"HUD",c=>{const f=c.xb(0).Mf(),a=c.xb(1).Mf(),e=c.xb(2),h=c.xb(3),g=c.xb(4).Mf(),m=c.xb(5),q=c.xb(6);return()=>f("HUD",a("Objects",e.Ve(),h.Ve()),g("Objects",m.Ve(),q.Ve()))},c=>{const f=c.xb(0).Mf();
return()=>f("get_1","get_2","get_3")},()=>"",()=>-20,()=>"Keys - Lock",()=>"Objects",()=>-25,()=>-5,()=>"Enemies / Spike / Spring",()=>"Bug",()=>180,()=>-1,c=>{const f=c.xb(0);return()=>f.Ve(1)},()=>-200,()=>-15,()=>"Bat",()=>"Spike",()=>500,()=>-300,()=>-500,()=>.1,()=>330,()=>300,()=>-1E4,()=>1E4,()=>"Spring",()=>-800,()=>"Active",()=>"spring",()=>"End Level & Go To Next Level",c=>{const f=c.xb(0);return()=>f.Ve()-142},c=>{const f=c.xb(0);return()=>f.Ve()+142},()=>"Level 15",()=>"Game Over ",()=>
1152,()=>-144,()=>-17,c=>{const f=c.xb(0);return()=>f.fR()},c=>{const f=c.xb(0),a=c.xb(1).Mf();return()=>f.Ve()-200*a()},()=>"Functions",()=>"Transition",()=>-10,c=>{const f=c.xb(0).Mf(),a=c.xb(1).Mf(),e=c.xb(2),h=c.xb(3),g=c.xb(4).Mf(),m=c.xb(5),q=c.xb(6);return()=>f("Objects",a("HUD",e.Ve(),h.Ve()),g("HUD",m.Ve(),q.Ve()))},c=>{const f=c.xb(0),a=c.xb(1).Mf();return()=>f.Ve()-60*a()},()=>"End Screen",c=>{const f=c.xb(0).Ep;return()=>f.Ee()+1},()=>100,()=>51,c=>{const f=c.xb(0);return()=>b("Level ",
f.fR())},()=>2]};
